{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/planner/planner.page.vue?64bd","webpack:///./src/app/NotFound.vue?d6ce","webpack:///src/app/NotFound.vue","webpack:///./src/app/NotFound.vue?5503","webpack:///./src/app/NotFound.vue","webpack:///./src/app/composer/composer.page.vue?4403","webpack:///./src/app/shared/plansList.vue?53ad","webpack:///./src/app/shared/chipsList.vue?2b3a","webpack:///src/app/shared/chipsList.vue","webpack:///./src/app/shared/chipsList.vue?5fc5","webpack:///./src/app/shared/chipsList.vue","webpack:///./src/app/shared/tabsList.vue?84c1","webpack:///src/app/shared/tabsList.vue","webpack:///./src/app/shared/tabsList.vue?abdd","webpack:///./src/app/shared/tabsList.vue","webpack:///./src/app/shared/validate.js","webpack:///src/app/shared/plansList.vue","webpack:///./src/app/shared/plansList.vue?1847","webpack:///./src/app/shared/plansList.vue","webpack:///./src/app/composer/textMap.vue?abd9","webpack:///./src/app/composer/textMagnifier.vue?9b7b","webpack:///src/app/composer/textMagnifier.vue","webpack:///./src/app/composer/textMagnifier.vue?029f","webpack:///./src/app/composer/textMagnifier.vue","webpack:///src/app/composer/textMap.vue","webpack:///./src/app/composer/textMap.vue?fc52","webpack:///./src/app/composer/textMap.vue","webpack:///./src/app/shared/topicList.vue?6922","webpack:///src/app/shared/topicList.vue","webpack:///./src/app/shared/topicList.vue?243e","webpack:///./src/app/shared/topicList.vue","webpack:///./src/app/composer/composer.store.js","webpack:///./src/app/composer/wordDefine.vue?9625","webpack:///src/app/composer/wordDefine.vue","webpack:///./src/app/composer/wordDefine.vue?efa6","webpack:///./src/app/composer/wordDefine.vue","webpack:///./src/app/shared/workshopList.vue?5f98","webpack:///src/app/shared/workshopList.vue","webpack:///./src/app/shared/workshopList.vue?1ddc","webpack:///./src/app/shared/workshopList.vue","webpack:///src/app/composer/composer.page.vue","webpack:///./src/app/composer/composer.page.vue?3057","webpack:///./src/app/composer/composer.page.vue","webpack:///./src/app/documentEdit/documentEdit.page.vue?1c09","webpack:///src/app/documentEdit/documentEdit.page.vue","webpack:///./src/app/documentEdit/documentEdit.page.vue?109f","webpack:///./src/app/documentEdit/documentEdit.page.vue","webpack:///./src/app/outliner/outliner.page.vue?4f69","webpack:///src/app/outliner/outliner.page.vue","webpack:///./src/app/outliner/outliner.page.vue?c486","webpack:///./src/app/outliner/outliner.page.vue","webpack:///./src/app/planner/planner.page.vue?6378","webpack:///src/app/planner/planner.page.vue","webpack:///./src/app/planner/planner.page.vue?de0e","webpack:///./src/app/planner/planner.page.vue","webpack:///./src/app/search/search.page.vue?1f47","webpack:///./src/app/search/match.vue?3fab","webpack:///src/app/search/match.vue","webpack:///./src/app/search/match.vue?4422","webpack:///./src/app/search/match.vue","webpack:///src/app/search/search.page.vue","webpack:///./src/app/search/search.page.vue?aa65","webpack:///./src/app/search/search.page.vue","webpack:///./src/app/shared/user.store.js","webpack:///./src/app/settings/settings.page.vue?b1ab","webpack:///./src/app/api/userApi.js","webpack:///src/app/settings/settings.page.vue","webpack:///./src/app/settings/settings.page.vue?5c5b","webpack:///./src/app/settings/settings.page.vue","webpack:///./src/app/router.js","webpack:///./src/app/App.vue?dbc8","webpack:///./src/app/shared/documentMenu.vue?339b","webpack:///./src/app/shared/documentPicker.vue?6a0f","webpack:///src/app/shared/documentPicker.vue","webpack:///./src/app/shared/documentPicker.vue?0ab8","webpack:///./src/app/shared/documentPicker.vue","webpack:///src/app/shared/documentMenu.vue","webpack:///./src/app/shared/documentMenu.vue?0258","webpack:///./src/app/shared/documentMenu.vue","webpack:///./src/app/IdleWatcher.vue?531c","webpack:///src/app/IdleWatcher.vue","webpack:///./src/app/IdleWatcher.vue?e7fb","webpack:///./src/app/IdleWatcher.vue","webpack:///./src/app/shared/mainMenu.vue?63a4","webpack:///./src/app/offlineStorage/offlineStorage.vue?83d3","webpack:///src/app/offlineStorage/offlineStorage.vue","webpack:///./src/app/offlineStorage/offlineStorage.vue?98b0","webpack:///./src/app/offlineStorage/offlineStorage.vue","webpack:///src/app/shared/statusSignal.vue","webpack:///./src/app/shared/statusSignal.vue?b1e5","webpack:///./src/app/shared/statusSignal.vue?8e0a","webpack:///./src/app/shared/statusSignal.vue","webpack:///src/app/shared/mainMenu.vue","webpack:///./src/app/shared/mainMenu.vue?c94f","webpack:///./src/app/shared/mainMenu.vue","webpack:///./src/app/wizard/wizard.vue?07df","webpack:///./src/app/wizard/documentTypes.js","webpack:///src/app/wizard/wizard.vue","webpack:///./src/app/wizard/wizard.vue?966b","webpack:///./src/app/wizard/wizard.vue","webpack:///src/app/App.vue","webpack:///./src/app/App.vue?332f","webpack:///./src/app/App.vue","webpack:///./src/app/api/chapters.persist.js","webpack:///./src/store.js","webpack:///./src/app.js","webpack:///./src/app/shared/quillEditor.vue?b79a","webpack:///./src/app/shared/quillBuilder.js","webpack:///./src/app/shared/quillFullScreen.vue?26d6","webpack:///src/app/shared/quillFullScreen.vue","webpack:///./src/app/shared/quillFullScreen.vue?b401","webpack:///./src/app/shared/quillFullScreen.vue","webpack:///src/app/shared/quillEditor.vue","webpack:///./src/app/shared/quillEditor.vue?c012","webpack:///./src/app/shared/quillEditor.vue","webpack:///./src/app/NotFound.vue?ed6c","webpack:///./src/app/shared/mainMenu.vue?3ca9","webpack:///./src/app/search/match.vue?52ed","webpack:///./src/app/shared/tippyBuilder.js","webpack:///./src/app/shared/tabsList.vue?993c","webpack:///./src/app/api/localStorage.js","webpack:///./src/app/shared/quillFullScreen.vue?f46c","webpack:///./src/app/api/storageSwitch.js","webpack:///./src/app/api/demoStorage.js","webpack:///./src/app/api/offlineStorage.js","webpack:///./src/app/api/serverStorage.js","webpack:///./src/app/outliner/outliner.page.vue?2a54","webpack:///./src/app/IdleWatcher.vue?1b1a","webpack:///./src/app/App.vue?610f","webpack:///./src/app/shared/documentMenu.vue?9bbb","webpack:///./models/writingWorkshop.js","webpack:///./src/app/composer/textMagnifier.vue?b9d5","webpack:///./utilities.js","webpack:///./src/app/composer/textMap.vue?6ece","webpack:///./src/app/shared/deltaParser.js","webpack:///./src/app/composer/wordDefine.vue?741d","webpack:///./src/app/shared/cache.js","webpack:///./src/app/shared/chapters.store.js","webpack:///./src/app/documentEdit/documentEdit.page.vue?43c7","webpack:///./src/app/shared/mainMenu.vue?d628","webpack:///./src/app/shared/status.store.js","webpack:///./src/app/composer/composer.page.vue?be37","webpack:///./src/app/shared/document.store.js","webpack:///./src/app/shared/topicList.vue?8652","webpack:///./src/app/shared/chipsList.vue?dcd6","webpack:///./src/app/settings/settings.page.vue?d39e","webpack:///./src/app/outliner/outliner.page.vue?b290","webpack:///./src/app/shared/statusSignal.vue?76a7","webpack:///./src/app/settings/settings.page.vue?c25f","webpack:///./src/app/shared/guid.js","webpack:///./src/app/search/search.page.vue?bde6","webpack:///./public/img/logo.png","webpack:///./src/app/api/api.js","webpack:///./src/app/shared/plansList.vue?8f69","webpack:///./src/app/offlineStorage/offlineStorage.vue?998e","webpack:///./src/app/wizard/wizard.vue?b8bb","webpack:///./src/app/shared/versionResolver.js","webpack:///./src/app/shared/quillEditor.vue?2171","webpack:///./src/app/shared/workshops.store.js","webpack:///./src/app/shared/tooltip.directive.js","webpack:///./src/app/shared/documentPicker.vue?0151","webpack:///./src/app/shared/quillEditor.vue?ed72","webpack:///./src/app/shared/workshopList.vue?f913"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","analyser","exporter","w-free-write","w-novel-quickstart","w-plot-workshop","w-writers-unblock","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_planner_page_vue_vue_type_style_index_0_id_3b3a778d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_planner_page_vue_vue_type_style_index_0_id_3b3a778d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","_v","attrs","NotFoundvue_type_script_lang_js_","app_NotFoundvue_type_script_lang_js_","component","componentNormalizer","options","__file","NotFound","composer_pagevue_type_template_id_2105d8d6_scoped_true_render","editor-element","editorElement","data-stream","activeChapter","content","mark","on","select","selectMap","active-index","activeChapterIndex","data-array","allChapters","filter-tabs","isViewing","item-name","add","addChapter","hover","hoverChapter","unhover","unhoverChapter","update:activeIndex","selectChapter","ref","class","active","showStats","_s","title","chapterWordCount","chapterParagraphCount","chapterPageCount","chapterReadTimeMinutes","documentTitle","documentWordCount","documentPageCount","documentReadTimeMinutes","word","content-id","guid","scroll-to","scrollTo","container","editorContainerNode","update:content","updateContent","update:selection","updateSelection","sidebar","click","$event","switchOutline","domProps","innerHTML","outlineSvg","switchPlans","planSvg","switchWorkshops","workshopSvg","_e","directives","rawName","filters","expression","id","checked","Array","isArray","archived","_i","change","$$a","$$el","$$c","$$v","$$i","$set","concat","for","filter-plans","showPlan","filter-sections","showSection","to","chapter","filter-topics","showTopic","topics","allTopics","filter-workshops","showWorkshop","composer_pagevue_type_template_id_2105d8d6_scoped_true_staticRenderFns","plansListvue_type_template_id_7275fea1_scoped_true_render","viewingPlans","activePlanIndex","allPlans","filterPlans","addPlan","selectPlan","activePlan","archivePlan","index","restorePlan","deletePlan","helpIconSvg","helpClick","helpSectionChipsModal","name-prop","activePlanSections","filter-chips","filterSections","is-deletable","isDeletable","addSection","delete","archiveSection","rearrange","rearrangeSection","restore","restoreSection","update","renameSection","_l","section","deleteSection","isEditing","editSection","editSvg","endEditSection","doneSvg","space-above","getHtml","getTextContent","refInFor","shortcut:done","staticStyle","display","plansListvue_type_template_id_7275fea1_scoped_true_staticRenderFns","chipsListvue_type_template_id_454a4b13_scoped_true_render","draggableOptions","model","callback","reactiveArray","chip","filterChips","light","showChipInput","nameProp","renameChip","deleteSvg","deleteChip","addSvg","restoreChip","chipValues","placeholder","keyup","_k","keyCode","saveChipValue","input","composing","disabled","saveSvg","cancelRename","cancelSvg","addNewChip","newChip","chipsListvue_type_template_id_454a4b13_scoped_true_staticRenderFns","chipsListvue_type_script_lang_js_","components","draggable","vuedraggable_default","a","computed","dataArray","set","$emit","octicons_default","plus","toSVG","height","width","x","animation","group","handle","pencil","check","methods","isUnique","assertUnique","arr","propName","existing","find","el","sweetalert_min_default","icon","text","toLowerCase","otherChips","props","required","Function","String","shared_chipsListvue_type_script_lang_js_","chipsList_component","chipsList","tabsListvue_type_template_id_e5dddd7a_scoped_true_render","item","filterTabs","isActive","selectItem","mouseover","hoverItem","mouseout","unhoverItem","showAddItem","showNewItem","itemName","addItem","newItem","cancelAddItem","tabsListvue_type_template_id_e5dddd7a_scoped_true_staticRenderFns","tabsListvue_type_script_lang_js_","tabCache","cache","activeIndex","mounted","cachedIndex","cacheGet","Number","canAdd","default","Boolean","watch","cacheSet","shared_tabsListvue_type_script_lang_js_","tabsList_component","tabsList","ValidateTitle","minlength","maxlength","swal","plansListvue_type_script_lang_js_","ChipsList","QuillEditor","quillEditor","TabsList","sections","$store","state","chapters","plans","_this","filter","plan","editingSectionIndex","question","validate_ValidateTitle","shared_guid","commit","chapters_store","log","tags","_ref","_ref2","_ref3","_this2","buttons","dangerMode","willDelete","_ref4","_this3","$refs","focus","deltaParser","_ref5","newTitle","_ref6","_ref7","indexOf","_ref8","newContent","planGuid","contentId","updateTags","newTags","shared_plansListvue_type_script_lang_js_","plansList_component","plansList","textMapvue_type_template_id_2cff7cef_scoped_true_render","mapClick","mapHtml","html","magnify-el","mapNode","wrap-el","mapWrapNode","textMapvue_type_template_id_2cff7cef_scoped_true_staticRenderFns","textMagnifiervue_type_template_id_1417fd9c_scoped_true_render","show","textMagnifiervue_type_template_id_1417fd9c_scoped_true_staticRenderFns","textMagnifiervue_type_script_lang_js_","cachedHtml","magnifyRadius","scale","wrapElBoundingClientRect","destroyed","magnifyEl","removeEventListener","mouseMove","mouseLeave","getRelativeCoords","bounds","clientX","left","y","clientY","top","_this$getRelativeCoor","getBoundingClientRect","transformCoord","magnifierStyle","magnifier","style","refresh","clone","cloneNode","magnifierContent","adjust","instance","$nextTick","wrapEl","addEventListener","composer_textMagnifiervue_type_script_lang_js_","textMagnifier_component","textMagnifier","textMapvue_type_script_lang_js_","TextMagnifier","helpNode","markInstance","mouse","tagName","parentClasses","toConsumableArray","classList","includes","childNodes","paragraphIndex","searchTermIndex","markClick","map","marks","querySelectorAll","paragraph","updateMap","textElement","$el","querySelector","helpModal","mark_default","mapWrap","dataStream","debounce_default","unmark","getNumberOfWords","separateWordSearch","str","trim","split","composer_textMapvue_type_script_lang_js_","textMap_component","textMap","topicListvue_type_template_id_109018ef_scoped_true_render","topic","getMasterTopic","archiveTopic","restoreTopic","deleteTopic","showActions","editTopic","endEditTopic","topicListvue_type_template_id_109018ef_scoped_true_staticRenderFns","topicListvue_type_script_lang_js_","chapterTopics","getTopic","editingTopicIndex","chapterTopic","filterTopics","shared_topicListvue_type_script_lang_js_","topicList_component","topicList","UPDATE_SELECTION","store","selection","range","mutations","wordDefinevue_type_template_id_8eeb2360_scoped_true_render","defineIcon","gDefineUrl","gSynonymUrl","wordDefinevue_type_template_id_8eeb2360_scoped_true_staticRenderFns","wordDefinevue_type_script_lang_js_","urlWord","replace","encodeURI","book","linkIcon","xIcon","composer_wordDefinevue_type_script_lang_js_","wordDefine_component","wordDefine","workshopListvue_type_template_id_41a6efe2_scoped_true_render","workshops","activeWorkshopNameIndex","workshopNameTabs","can-add","selectWorkshopNameIndex","currentWorkshopDisplayName","$$selectedVal","selected","val","_value","selectedWorkshopGuid","multiple","workshop","filterWorkshops","activeWorkshopsTitle","activeWorkshopsDate","firstActiveWorkshop","archiveActiveWorkshops","restoreActiveWorkshops","deleteActiveWorkshops","workshopListvue_type_template_id_41a6efe2_scoped_true_staticRenderFns","workshopListvue_type_script_lang_js_","writingWorkshop_default","currentWorkshopName","displayName","workshopNames","activeWorkshops","viewingWorkshops","Date","date","toLocaleDateString","selectableWorkshops","order","sort","b","getTime","workshopName","uniq_default","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","workshops_store","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","selectWorkshopGuid","selectWorkshopName","selectDefaultWorkshop","shared_workshopListvue_type_script_lang_js_","workshopList_component","workshopList","planSwitch","composer_pagevue_type_script_lang_js_","PlansList","TextMap","TopicList","VueSwitch","switches","WordDefine","WorkshopList","viewingChapters","allWorkshops","getPageCount","textContent","getParagraphCount","getReadTimeMinutes","getWordCount","documentFullText","join","currentDocument","hasChapters","hasPlans","hasTopics","hasWorkshops","isPremium","user","composer","newChapter","telescope","tools","Math","ceil","match","descriptor","masterTopic","editorContainer","textEditor","chapterGuid","$route","query","workshopGuid","activeWorkshop","$router","composer_composer_pagevue_type_script_lang_js_","composer_page_component","composer_page","documentEdit_pagevue_type_template_id_fcb1d9b4_scoped_true_render","documentName","newDocumentName","saveDocumentName","deleteDocument","documentEdit_pagevue_type_template_id_fcb1d9b4_scoped_true_staticRenderFns","documentEdit_pagevue_type_script_lang_js_","documentGuid","dispatch","document_store","documentEdit_documentEdit_pagevue_type_script_lang_js_","documentEdit_page_component","documentEdit_page","outliner_pagevue_type_template_id_3e9b1370_scoped_true_render","helpChapterChipsNode","showChapter","archiveChapter","rearrangeChapter","restoreChapter","renameChapter","helpTopicChipsNode","addTopic","rearrangeTopic","renameTopic","helpChapterBlocksNode","deleteChapter","outliner_pagevue_type_template_id_3e9b1370_scoped_true_staticRenderFns","outliner_pagevue_type_script_lang_js_","viewingTopicsFilteredArchived","viewingTopicsFilteredTitle","expandSvg","filtersVisible","_this4","toggleFilters","helpChapterBlocksModal","helpChapterChipsModal","helpTopicChipsModal","outliner_outliner_pagevue_type_script_lang_js_","outliner_page_component","outliner_page","planner_pagevue_type_template_id_3b3a778d_scoped_true_render","helpPlanChipsModal","rearrangePlan","renamePlan","planner_pagevue_type_template_id_3b3a778d_scoped_true_staticRenderFns","planner_pagevue_type_script_lang_js_","planner_planner_pagevue_type_script_lang_js_","planner_page_component","planner_page","search_pagevue_type_template_id_10533e1c_scoped_true_render","search","searchText","loading","showChapters","showOutlines","showPlans","showWorkshops","searched","hasResults","matches","linkSvg","outlines","topicMatch","topicGuid","chapterTitle","topicTitle","sectionMatch","sectionGuid","planTitle","sectionTitle","workshopMatch","search_pagevue_type_template_id_10533e1c_scoped_true_staticRenderFns","matchvue_type_template_id_3b69e175_scoped_true_render","atHead","formattedPre","formattedQuery","formattedPost","atTail","matchvue_type_template_id_3b69e175_scoped_true_staticRenderFns","matchvue_type_script_lang_js_","trimStart_default","pre","trimEnd_default","post","search_matchvue_type_script_lang_js_","match_component","prePostChars","search_pagevue_type_script_lang_js_","Match","PulseLoader","link","getMatchArray","fullText","indices","max","matched","getMatchingChapters","_matches","getMatchingOutlines","reduce","getMatchingPlans","getMatchingWorkshops","workshopsByGuid","obj","keys","searchInput","search_search_pagevue_type_script_lang_js_","search_page_component","userPromiseResolve","search_page","settings_pagevue_type_template_id_ed1daeb4_scoped_true_render","account","editingEmail","notDemo","editEmail","cancelEditEmail","saveEmail","editingPassword","editPassword","cancelEditPassword","savePassword","accountType","twitterIcon","settings_pagevue_type_template_id_ed1daeb4_scoped_true_staticRenderFns","route","api","simpleGet","axios","response","simplePost","body","getUser","logOut","updateEmail","email","updatePassword","password","COMMIT_NEW_EMAIL","SET_DEFAULT_USER","SET_USER","SET_USER_PROMISE","UPDATE_EMAIL","UPDATE_PASSWORD","defaultUser","description","verified","setSentryUser","Raven","setUserContext","userPromise","actions","userApi","_mutations","mockPassword","settings_pagevue_type_script_lang_js_","willChange","location","settings_settings_pagevue_type_script_lang_js_","settings_page_component","settings_page","Vue","use","Router","assertPremium","assertOnline","isOnline","compose","_len","arguments","guards","_key","from","guardPromises","guard","_len2","results","_key2","blocks","res","nav","esm_typeof","router","routes","path","redirect","Planner","Outliner","Composer","beforeEnter","DocumentEdit","Settings","Search","Appvue_type_template_id_72f00f74_scoped_true_render","loaded","Appvue_type_template_id_72f00f74_scoped_true_staticRenderFns","documentMenuvue_type_template_id_cf75f42c_scoped_true_render","showWizard","documentMenuvue_type_template_id_cf75f42c_scoped_true_staticRenderFns","documentPickervue_type_template_id_6669ec1d_scoped_true_render","documentValue","changeDocument","documentPickervue_type_template_id_6669ec1d_scoped_true_staticRenderFns","documentPickervue_type_script_lang_js_","allDocuments","ownedDocuments","status","status_store","OFFLINE","api_api","doc","shared_documentPickervue_type_script_lang_js_","documentPicker_component","documentPicker","documentMenuvue_type_script_lang_js_","DocumentPicker","shared_documentMenuvue_type_script_lang_js_","documentMenu_component","documentMenu","IdleWatchervue_type_template_id_46cd5d12_scoped_true_render","needsReload","reload","backToApp","fade","fadeOn","hidden","&click","resetIdleTime","&mousemove","&scroll","&keypress","_t","IdleWatchervue_type_template_id_46cd5d12_scoped_true_staticRenderFns","IdleWatchervue_type_script_lang_js_","fadeTimeout","idleTimeout","goIdle","showIdlePage","wait","app_IdleWatchervue_type_script_lang_js_","IdleWatcher_component","IdleWatcher","mainMenuvue_type_template_id_4d7c5f33_scoped_true_render","worksOffline","tooltip","getIconSvg","toolsTooltip","offline","startWorkshop","restricted","available","mainMenuvue_type_template_id_4d7c5f33_scoped_true_staticRenderFns","offlineStoragevue_type_template_id_1739da34_scoped_true_render","offlineStoragevue_type_template_id_1739da34_scoped_true_staticRenderFns","browser","detect_browser","offlineModalSeen","askPermission","permissionResult","Notification","requestPermission","offlineStoragevue_type_script_lang_js_","allowsOffline","checkOfflineStorage","navigator","storage","persisted","persistent","seen","promptForPermission","chromePrompt","chromePermissionModal","cancel","confirm","allow","persist","permissionFailed","permissionFailedModal","standardPrompt","standardPermissionModal","offlineStorage_offlineStoragevue_type_script_lang_js_","offlineStorage_component","offlineInterval","offlineStorage","statusSignalvue_type_template_id_cb803e96_scoped_true_render","isDemo","isSaving","saved","savedIcon","enabled","saveError","saveErrorText","errorIcon","offlineText","offlineIcon","statusSignalvue_type_template_id_cb803e96_scoped_true_staticRenderFns","statusSignalvue_type_script_lang_js_","created","setInterval","beforeDestroy","clearInterval","SAVED","saving","SAVING","ERROR","alert","plug","savingDebouncer","tooltip_directive","isOffline","wasOffline","offlineStatus","_tippy","warn","_saving","shared_statusSignalvue_type_script_lang_js_","statusSignal_component","statusSignal","mainMenuvue_type_script_lang_js_","OfflineStorage","StatusSignal","iconName","workshopsModal","close","shared_mainMenuvue_type_script_lang_js_","mainMenu_component","mainMenu","wizardvue_type_template_id_582964bd_scoped_true_render","hasDocuments","selectedType","selectDocument","svg","createDocument","wizardvue_type_template_id_582964bd_scoped_true_staticRenderFns","createType","NOVEL","ESSAY","SCRIPT","BLANK","types","wizardvue_type_script_lang_js_","documentTypes","newDocument","wizard_wizardvue_type_script_lang_js_","wizard_component","wizard","userCache","Appvue_type_script_lang_js_","beforeCreate","safeUserPromise","cachedUser","routeTransitionTimeout","beforeEach","afterEach","onError","DocumentMenu","MainMenu","Wizard","app_Appvue_type_script_lang_js_","App_component","App","addDocument","ADD_DOCUMENT","DELETE_CHAPTER","REMOVE_OWNED_DOCUMENT","DELETE_PLAN","DELETE_SECTION","DELETE_TOPIC","deleteWorkshop","DELETE_WORKSHOP","REARRANGE_CHAPTERS","REARRANGE_PLANS","REARRANGE_SECTIONS","REARRANGE_TOPICS","updateChapter","ADD_CHAPTER","ADD_TOPIC_TO_CHAPTER","ARCHIVE_CHAPTER","RESTORE_CHAPTER","UPDATE_CHAPTER","UPDATE_CHAPTER_CONTENT","UPDATE_TOPIC_CONTENT","updateDocument","UPDATE_DOCUMENT_NAME","updatePlan","ADD_PLAN","ARCHIVE_PLAN","RESTORE_PLAN","UPDATE_PLAN","updateSection","ADD_SECTION","ARCHIVE_SECTION","RESTORE_SECTION","UPDATE_SECTION","UPDATE_SECTION_CONTENT","UPDATE_SECTION_TAGS","updateTopic","ADD_TOPIC","ARCHIVE_TOPIC","RESTORE_TOPIC","UPDATE_TOPIC","updateWorkshop","ADD_WORKSHOP","ARCHIVE_WORKSHOP","RESTORE_WORKSHOP","updateWorkshops","UPDATE_WORKSHOPS_CONTENT","debouncedUpdateChapter","chapterStorage","getDebouncedUpdateChapter","debounce","_chapterStorage","chapterAutosaverPlugin","subscribe","mutation","getStorageApi","handleMutation","payload","arrangeChapters","arrangePlans","arrangeSections","arrangeTopics","workshopUpdates","Vuex","Store","plugins","isProd","config","addPlugin","RavenVue","install","productionTip","serviceWorker","register","registration","catch","registrationError","__webpack_exports__","h","ctrlKey","emitDone","hideFullScreen","emitFullscreenContent","emitSelection","toolbarOptions","header","list","allowedFormats","createQuill","onFullScreen","tempToolbar","handlers","fullscreen","quill","Quill","formats","toolbar","theme","fullScreenSvg","Octicons","fullScreenButton","distance","interactive","position","quillFullScreenvue_type_template_id_fafac0d6_scoped_true_render","isWideView","wideSvg","showWideView","narrowSvg","showNarrowView","exitSvg","wide","quillFullScreenvue_type_template_id_fafac0d6_scoped_true_staticRenderFns","quillFullScreenvue_type_script_lang_js_","forEach","slicedToArray","fn","off","emitContent","listenQuill","textChanged","maxWait","onTextChange","getContents","onSelectionChange","getText","updateQuill","setContents","quillBuilder","editor","shared_quillFullScreenvue_type_script_lang_js_","quillFullScreen","quillEditorvue_type_script_lang_js_","QuillFullScreen","cachedContentId","showFullScreen","disable","enable","setSelection","getLength","selectionChanged","getSelection","silent","delta","isEqual_default","element","scrollTop","offsetTop","searchTerm","contents","RegExp","escape_string_regexp_default","searchRanges","getAllOccurrences","selectedRange","regex","ranges","exec","shared_quillEditorvue_type_script_lang_js_","quillEditor_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotFound_vue_vue_type_style_index_0_id_00a62670_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotFound_vue_vue_type_style_index_0_id_00a62670_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_0_id_4d7c5f33_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_0_id_4d7c5f33_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_match_vue_vue_type_style_index_0_id_3b69e175_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_match_vue_vue_type_style_index_0_id_3b69e175_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tippy_js__WEBPACK_IMPORTED_MODULE_0__","tippy_js__WEBPACK_IMPORTED_MODULE_0___default","_ref$arrow","arrow","_ref$distance","_ref$placement","placement","_ref$hideOnClick","hideOnClick","tippy","one","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabsList_vue_vue_type_style_index_0_id_e5dddd7a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabsList_vue_vue_type_style_index_0_id_e5dddd7a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","require","orderPromises","LocalStorageApi","username","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","localForage","setDriver","INDEXEDDB","WEBSQL","LOCALSTORAGE","_storage","getStorageKeys","planKeyPrefix","planOrderKey","getPlanKey","sectionKeyPrefix","sectionOrderKey","getSectionKey","chapterKeyPrefix","chapterOrderKey","getChapterKey","topicKeyPrefix","topicOrderKey","getTopicKey","legacyDocumentGuids","documentGuidsKey","documentsKey","_getAllDocumentGuids","documentGuids","setItem","chapterGuids","planGuids","sectionGuids","topicGuids","removeItem","_getAllChapters","_getAllPlans","_getAllSections","_getAllTopics","prefix","_getChaptersSortOrder","startsWith","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","sortOrder","getItem","chap1","chap2","_this5","legacyGuids","guids","allGuids","uniq","_this6","_getAllDocuments","_this7","_getPlansSortOrder","plan1","plan2","_this8","_getSectionSortOrder","_ref9","section1","section2","_this9","_getTopicsSortOrder","_ref10","_ref11","topic1","topic2","_this10","_ref12","updateTopicFns","updateTopicPromise","updateChapterPromise","updateChapterFns","updatePlanFns","updateSectionFns","updatePlanPromise","_this11","_ref13","_this12","_this13","_this14","_this15","_ref14","_ref15","backup","_this16","docExport","_backup","saveAllContent","_this17","documents","_ref16","_ref17","_this18","importErr","_this19","iterate","clear","addDocumentPromises","revertImport","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillFullScreen_vue_vue_type_style_index_0_id_fafac0d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillFullScreen_vue_vue_type_style_index_0_id_fafac0d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","storageApi","temporaryStoragePromiseResolve","DemoStorageApi","classCallCheck","onbeforeunload","localStorage","OfflineStorageApi","VueInstance","requiresSyncCache","Cache","UNRESETTABLE","offlinePrefix","docGuid","docKey","deletePromises","clearOldStorage","notAllowedError","updateStorage","getLatestStoredDocument","getStoredDocument","ServerStorageApi","savingCounter","goOffline","SET_STATUS_OFFLINE","isOnlineCached","SET_STATUS_SAVING","isError","SET_STATUS_ERROR","SET_STATUS_DONE","wrapStatus","waitUntilDone","counter","intervalId","loadDocument","LOAD_CONTENT","LOAD_WORKSHOPS","syncCache","offlineDoc","resolvedDoc","onlineDoc","matchBy","markDeleted","resolvedChapters","VersionResolver","getMostRecentEach","resolvedTopics","resolvedPlans","resolvedWorkshops","newDoc","shallowEqualArrays","assign","docImport","getDocuments","deleteWorkshopContent","getChapters","getPlans","getTopics","getWorkshops","updateWorkshopContents","fullExport","JSON","stringify","json","parse","fullImport","includeArchived","exportToWord","temporaryStoragePromise","setStorageApi","storageApiPromise","cachedStorage","Local","cached","Demo","Server","Offline","waitForInit","getCached","init","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_0_id_3e9b1370_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_0_id_3e9b1370_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdleWatcher_vue_vue_type_style_index_0_id_46cd5d12_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdleWatcher_vue_vue_type_style_index_0_id_46cd5d12_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_72f00f74_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_72f00f74_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentMenu_vue_vue_type_style_index_0_id_cf75f42c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentMenu_vue_vue_type_style_index_0_id_cf75f42c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","createWorkshop","FREE_WRITE","NOVEL_QUICKSTART","WRITERS_UNBLOCK","PLOT_WORKSHOP","SETTING_WORKSHOP","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMagnifier_vue_vue_type_style_index_0_id_1417fd9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMagnifier_vue_vue_type_style_index_0_id_1417fd9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","promiseFns","TypeError","getNewLine","getNewSegment","listMap","bullet","ordered","getStyles","attributes","styles","lineStyles","attr","getStyledArrayFromChapters","splitContent","pageBreak","currentLine","ops","_currentLine$style","op","insert","_getStyles","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","_insert$split","_insert$split2","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_1__","first","lines","segment","ix","line","last","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMap_vue_vue_type_style_index_0_id_2cff7cef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMap_vue_vue_type_style_index_0_id_2cff7cef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","GetContentString","inserts","joined","wordStartRe","wordContentRe","GetWordArray","tokens","token","TrimEnd","TrimStart","test","GetHtml","converter","DeltaToHtmlConverter","convert","GetIndicesOf","fullString","searchString","searchStringLength","startIndex","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wordDefine_vue_vue_type_style_index_0_id_8eeb2360_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wordDefine_vue_vue_type_style_index_0_id_8eeb2360_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","cacheKeysStorage","allCacheKeys","resetCache","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","NUKE_CONTENT","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","timestamp","containSameElements","timestampEach","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","arr1","arr2","diff","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","difference","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentEdit_page_vue_vue_type_style_index_0_id_fcb1d9b4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentEdit_page_vue_vue_type_style_index_0_id_fcb1d9b4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Statuses","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_composer_page_vue_vue_type_style_index_0_id_2105d8d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_composer_page_vue_vue_type_style_index_0_id_2105d8d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","CHANGE_DOCUMENT","DELETE_DOCUMENT","INIT_DOCUMENTS","SET_UP_DOCUMENT","UNLOAD_CURRENT_DOCUMENT","LOAD_DOCUMENTS","UPDATE_DOCUMENT_METADATA","_actions","shouldReset","getAllChapters","getAllPlans","getAllTopics","getAllWorkshops","getAllDocuments","some","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","NUKE_WORKSHOPS","documentIndex","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_topicList_vue_vue_type_style_index_0_id_109018ef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_topicList_vue_vue_type_style_index_0_id_109018ef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chipsList_vue_vue_type_style_index_0_id_454a4b13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chipsList_vue_vue_type_style_index_0_id_454a4b13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settings_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settings_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_statusSignal_vue_vue_type_style_index_0_id_cb803e96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_statusSignal_vue_vue_type_style_index_0_id_cb803e96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settings_page_vue_vue_type_style_index_0_id_ed1daeb4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settings_page_vue_vue_type_style_index_0_id_ed1daeb4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","uuid_v1__WEBPACK_IMPORTED_MODULE_0__","uuid_v1__WEBPACK_IMPORTED_MODULE_0___default","uuid","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_page_vue_vue_type_style_index_0_id_10533e1c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_page_vue_vue_type_style_index_0_id_10533e1c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","axiosBase","headers","Pragma","Cache-Control","Api","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","open","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_plansList_vue_vue_type_style_index_0_id_7275fea1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_plansList_vue_vue_type_style_index_0_id_7275fea1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_offlineStorage_vue_vue_type_style_index_0_id_1739da34_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_offlineStorage_vue_vue_type_style_index_0_id_1739da34_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wizard_vue_vue_type_style_index_0_id_582964bd_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wizard_vue_vue_type_style_index_0_id_582964bd_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","timestampField","now","defaultObj","obj2","defaultTimestamp","getTimestamp","timestamp2","defaultArr","markAsDeleted","returnList","_loop","arr2match","arrObj","_loop2","defaultMatch","returnObj","replacement","getMostRecent","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_0_id_47f1beb8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_0_id_47f1beb8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_ref5$workshopUpdates","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_4__","_step$value","_tippyBuilder__WEBPACK_IMPORTED_MODULE_0__","directive","_ref$value","_value$distance","_value$interactive","_value$enabled","_ref2$value","_value$enabled2","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentPicker_vue_vue_type_style_index_0_id_6669ec1d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentPicker_vue_vue_type_style_index_0_id_6669ec1d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workshopList_vue_vue_type_style_index_0_id_41a6efe2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workshopList_vue_vue_type_style_index_0_id_41a6efe2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/app.58c9ae67.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({\"analyser\":\"analyser\",\"exporter\":\"exporter\",\"w-free-write\":\"w-free-write\",\"w-novel-quickstart\":\"w-novel-quickstart\",\"w-plot-workshop\":\"w-plot-workshop\",\"w-writers-unblock\":\"w-writers-unblock\"}[chunkId]||chunkId) + \".\" + {\"analyser\":\"50d7fb4e\",\"exporter\":\"5330b716\",\"w-free-write\":\"8e0090cb\",\"w-novel-quickstart\":\"e1cff1fa\",\"w-plot-workshop\":\"af7bf214\",\"w-writers-unblock\":\"573d2f8c\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"analyser\":1,\"exporter\":1,\"w-free-write\":1,\"w-novel-quickstart\":1,\"w-plot-workshop\":1,\"w-writers-unblock\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({\"analyser\":\"analyser\",\"exporter\":\"exporter\",\"w-free-write\":\"w-free-write\",\"w-novel-quickstart\":\"w-novel-quickstart\",\"w-plot-workshop\":\"w-plot-workshop\",\"w-writers-unblock\":\"w-writers-unblock\"}[chunkId]||chunkId) + \".\" + {\"analyser\":\"44b53cca\",\"exporter\":\"049e3d90\",\"w-free-write\":\"015839f0\",\"w-novel-quickstart\":\"e38debc6\",\"w-plot-workshop\":\"817c5a4f\",\"w-writers-unblock\":\"8b4a7c0f\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"not-found\"},[_c('h3',[_vm._v(\"Something went wrong.\")]),_c('p',[_vm._v(\"\\n      This page doesn't exist. If you're having trouble with the app, please contact us at\\n      \"),_c('a',{attrs:{\"href\":\"mailto:support@edwardtheapp.com\"}},[_vm._v(\"support@edwardtheapp.com\")]),_vm._v(\".\\n    \")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"not-found\">\r\n      <h3>Something went wrong.</h3>\r\n      <p>\r\n        This page doesn't exist. If you're having trouble with the app, please contact us at\r\n        <a href=\"mailto:support@edwardtheapp.com\">support@edwardtheapp.com</a>.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.not-found {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=00a62670&scoped=true&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00a62670\",\n  null\n  \n)\n\ncomponent.options.__file = \"NotFound.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"composer-wrap\"},[(_vm.hasChapters)?_c('div',{staticClass:\"composer\"},[_c('div',{staticClass:\"map-wrap\"},[_c('text-map',{attrs:{\"editor-element\":_vm.editorElement,\"data-stream\":_vm.activeChapter.content,\"mark\":_vm.mark},on:{\"select\":_vm.selectMap}})],1),_c('div',{staticClass:\"editor-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activeChapterIndex,\"data-array\":_vm.allChapters,\"filter-tabs\":_vm.isViewing,\"item-name\":\"Chapter\"},on:{\"add\":_vm.addChapter,\"hover\":_vm.hoverChapter,\"unhover\":_vm.unhoverChapter,\"update:activeIndex\":_vm.selectChapter}}),_c('div',{ref:\"editorContainer\",staticClass:\"below-tabs\"},[_c('div',{staticClass:\"stats\",class:{ 'active': _vm.showStats }},[_c('div',{staticClass:\"stats-content\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.activeChapter.title))])]),_c('p',[_vm._v(_vm._s(_vm.chapterWordCount)+\" words\")]),_c('p',[_vm._v(_vm._s(_vm.chapterParagraphCount)+\" paragraphs\")]),_c('p',[_vm._v(_vm._s(_vm.chapterPageCount)+\" pages\")]),_c('p',[_vm._v(_vm._s(_vm.chapterReadTimeMinutes)+\" minute read\")]),_c('br'),_c('p',[_c('b',[_vm._v(_vm._s(_vm.documentTitle)+\" (Full document)\")])]),_c('p',[_vm._v(_vm._s(_vm.documentWordCount)+\" words\")]),_c('p',[_vm._v(_vm._s(_vm.documentPageCount)+\" pages\")]),_c('p',[_vm._v(_vm._s(_vm.documentReadTimeMinutes)+\" minute read\")])])]),_c('div',{staticClass:\"define\"},[_c('word-define',{attrs:{\"word\":_vm.mark}})],1),_c('quill-editor',{ref:\"textEditor\",attrs:{\"content\":_vm.activeChapter.content,\"content-id\":_vm.activeChapter.guid,\"scroll-to\":_vm.scrollTo,\"container\":_vm.editorContainerNode},on:{\"update:content\":_vm.updateContent,\"update:selection\":_vm.updateSelection}})],1)],1),_c('div',{staticClass:\"sidebar-wrap\"},[_c('div',{staticClass:\"sidebar-options\"},[_c('div',{staticClass:\"plan-switch\"},[_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'outline' },on:{\"click\":function($event){_vm.switchOutline()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.outlineSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Outline\")])]),_c('hr',{staticClass:\"vert\"}),_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'plan' },on:{\"click\":function($event){_vm.switchPlans()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.planSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Plans\")])]),(_vm.isPremium)?[_c('hr',{staticClass:\"vert\"}),_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'workshop' },on:{\"click\":function($event){_vm.switchWorkshops()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.workshopSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Workshops\")])])]:_vm._e()],2),_c('div',{staticClass:\"archived-filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],attrs:{\"id\":\"showArchivedTopics\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedTopics\"}},[_vm._v(\"Show Archived\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'plan'),expression:\"sidebar === 'plan'\"}],staticClass:\"sidebar-content\"},[(_vm.hasPlans)?[_c('plans-list',{attrs:{\"filter-plans\":_vm.showPlan,\"filter-sections\":_vm.showSection}})]:[_c('div',[_vm._v(\"No plans yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/plan\"}},[_vm._v(\"Start planning\")])],1)]],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'outline'),expression:\"sidebar === 'outline'\"}],staticClass:\"sidebar-content\"},[(_vm.hasTopics)?[_c('div',{staticClass:\"topic-list-wrap\"},[_c('topic-list',{attrs:{\"chapter\":_vm.activeChapter,\"filter-topics\":_vm.showTopic,\"topics\":_vm.allTopics}})],1)]:[_c('div',[_vm._v(\"No outline yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/outline\"}},[_vm._v(\"Start outlining\")])],1)]],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'workshop'),expression:\"sidebar === 'workshop'\"}],staticClass:\"sidebar-content\"},[(_vm.hasWorkshops)?[_c('workshop-list',{ref:\"workshopList\",attrs:{\"filter-workshops\":_vm.showWorkshop}})]:[_c('div',[_vm._v(\"No workshops completed yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/workshop/free-write\"}},[_vm._v(\"Do a free write\")])],1)]],2)])]):_c('div',[_c('div',[_vm._v(\"No chapters yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/outline\"}},[_vm._v(\"Create one\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewingPlans.length > 0),expression:\"viewingPlans.length > 0\"}],staticClass:\"plans-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activePlanIndex,\"data-array\":_vm.allPlans,\"filter-tabs\":_vm.filterPlans,\"item-name\":\"Plan\"},on:{\"add\":_vm.addPlan,\"update:activeIndex\":_vm.selectPlan}}),(_vm.activePlan)?_c('div',{staticClass:\"plan\"},[_c('div',{staticClass:\"plan-header\"},[_c('h4',{staticClass:\"plan-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.activePlan.title)+\"\\n      \")]),_c('div',{staticClass:\"plan-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activePlan.archived),expression:\"!activePlan.archived\"}],staticClass:\"plan-action\",on:{\"click\":function($event){_vm.archivePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlan.archived),expression:\"activePlan.archived\"}],staticClass:\"plan-action\",on:{\"click\":function($event){_vm.restorePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlan.archived),expression:\"activePlan.archived\"}],staticClass:\"plan-action button-red\",on:{\"click\":function($event){_vm.deletePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"plan-body\"},[_c('div',{staticClass:\"chips-wrap section-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Sections\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpSectionChipsModal, 'Section List')}}})]),_c('chips-list',{attrs:{\"name\":\"Section\",\"name-prop\":\"title\",\"data-array\":_vm.activePlanSections,\"filter-chips\":_vm.filterSections,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addSection,\"delete\":_vm.archiveSection,\"rearrange\":_vm.rearrangeSection,\"restore\":_vm.restoreSection,\"update\":_vm.renameSection}})],1),_c('div',{staticClass:\"sections\"},_vm._l((_vm.activePlan.sections),function(section,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterSections(section)),expression:\"filterSections(section)\"}],key:section.guid,staticClass:\"section\"},[_c('div',{staticClass:\"section-header\"},[_c('h5',{staticClass:\"section-title\"},[_vm._v(\"\\n              \"+_vm._s(section.title)+\"\\n            \")]),_c('div',{staticClass:\"section-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!section.archived),expression:\"!section.archived\"}],staticClass:\"section-action\",on:{\"click\":function($event){_vm.archiveSection({ index: index })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(section.archived),expression:\"section.archived\"}],staticClass:\"section-action\",on:{\"click\":function($event){_vm.restoreSection({ index: index })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(section.archived),expression:\"section.archived\"}],staticClass:\"section-action button-red\",on:{\"click\":function($event){_vm.deleteSection({ index: index })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"section-content\"},[(!section.archived)?_c('div',{staticClass:\"content-actions\"},[(!_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editSection(index)}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)}}),_vm._v(\"Edit\\n              \")]):_vm._e(),(_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.endEditSection()}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.doneSvg)}}),_vm._v(\"Done Editing\\n              \")]):_vm._e()]):_vm._e(),(!_vm.isEditing(index))?_c('div',{staticClass:\"content-static\",class:{ 'space-above': section.archived }},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(section))}}),(!section.archived && !_vm.getTextContent(section.content))?_c('span',{staticClass:\"content-placeholder\"},[_vm._v(\"\\n                No content yet. Click \\\"Edit\\\" to add some.\\n              \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditing(index)),expression:\"isEditing(index)\"}],staticClass:\"content-editable\"},[_c('quill-editor',{ref:\"quillEditor\",refInFor:true,attrs:{\"content\":section.content,\"content-id\":_vm.activePlan.guid},on:{\"update:content\":function($event){_vm.updateContent(section, $event)},\"shortcut:done\":function($event){_vm.endEditSection()}}})],1)])])}))])]):_vm._e(),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpSectionChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the section list. It's the easiest place to add, archive, restore, rename, and rearrange sections.\")]),_c('p',[_vm._v(\"To add a section, type its name into the \\\"New Section\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a section, click the \\\"X\\\" next to its name in the list.\\n        Archiving a section removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived section, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a section, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a section, click and drag it to where you want it to go.\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chip-list-wrap\"},[_c('div',{staticClass:\"chip-list\"},[_c('draggable',{attrs:{\"options\":_vm.draggableOptions},model:{value:(_vm.reactiveArray),callback:function ($$v) {_vm.reactiveArray=$$v},expression:\"reactiveArray\"}},_vm._l((_vm.reactiveArray),function(chip,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterChips(chip)),expression:\"filterChips(chip)\"}],key:index,staticClass:\"chip\",class:{ 'light': !_vm.isDeletable(chip) }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showChipInput(index)),expression:\"!showChipInput(index)\"}],staticClass:\"chip-content\"},[_c('span',{staticClass:\"chip-draggable\"},[_vm._v(\"\\n            \"+_vm._s(chip[_vm.nameProp])+\"\\n          \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeletable(chip)),expression:\"isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-rename\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)},on:{\"click\":function($event){_vm.renameChip(index, chip[_vm.nameProp])}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeletable(chip)),expression:\"isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-delete\",domProps:{\"innerHTML\":_vm._s(_vm.deleteSvg)},on:{\"click\":function($event){_vm.deleteChip(index)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isDeletable(chip)),expression:\"!isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-restore\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)},on:{\"click\":function($event){_vm.restoreChip(index)}}})]),(_vm.showChipInput(index))?_c('div',{staticClass:\"chip-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chipValues[index]),expression:\"chipValues[index]\"}],staticClass:\"chip-input\",attrs:{\"placeholder\":chip[_vm.nameProp]},domProps:{\"value\":(_vm.chipValues[index])},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.saveChipValue(index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.chipValues, index, $event.target.value)}}}),_c('button',{staticClass:\"button-green chip-add-button\",attrs:{\"disabled\":!_vm.chipValues[index]},on:{\"click\":function($event){_vm.saveChipValue(index)}}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.saveSvg)}}),_vm._v(\" Save\\n          \")]),_c('button',{staticClass:\"button-red chip-add-button\",on:{\"click\":function($event){_vm.cancelRename(index)}}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.cancelSvg)}}),_vm._v(\" Cancel\\n          \")])]):_vm._e()])}))],1),_c('div',{staticClass:\"chip\"},[_c('div',{staticClass:\"chip-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newChip),expression:\"newChip\"}],staticClass:\"chip-input\",attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.newChip)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addNewChip($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newChip=$event.target.value}}}),_c('button',{staticClass:\"button-green chip-add-button\",attrs:{\"disabled\":!_vm.newChip},on:{\"click\":_vm.addNewChip}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)}}),_vm._v(\" Add\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chip-list-wrap\">\r\n    <div class=\"chip-list\">\r\n      <draggable \r\n        v-model=\"reactiveArray\" \r\n        :options=\"draggableOptions\">\r\n        <div \r\n          v-for=\"(chip, index) in reactiveArray\" \r\n          class=\"chip\" \r\n          :class=\"{ 'light': !isDeletable(chip) }\" \r\n          v-show=\"filterChips(chip)\"\r\n          :key=\"index\">\r\n          <div \r\n            class=\"chip-content\" \r\n            v-show=\"!showChipInput(index)\">\r\n            <span class=\"chip-draggable\">\r\n              {{ chip[nameProp] }}\r\n            </span>\r\n            <button \r\n              v-show=\"isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-rename\" \r\n              @click=\"renameChip(index, chip[nameProp])\" \r\n              v-html=\"editSvg\"/>\r\n            <button \r\n              v-show=\"isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-delete\" \r\n              @click=\"deleteChip(index)\" \r\n              v-html=\"deleteSvg\"/>\r\n            <button \r\n              v-show=\"!isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-restore\" \r\n              @click=\"restoreChip(index)\" \r\n              v-html=\"addSvg\"/>\r\n          </div>\r\n          <div \r\n            class=\"chip-content\" \r\n            v-if=\"showChipInput(index)\">\r\n            <input \r\n              class=\"chip-input\" \r\n              v-model=\"chipValues[index]\" \r\n              @keyup.enter=\"saveChipValue(index)\" \r\n              :placeholder=\"chip[nameProp]\">\r\n            <button \r\n              class=\"button-green chip-add-button\" \r\n              @click=\"saveChipValue(index)\" \r\n              :disabled=\"!chipValues[index]\">\r\n              <span \r\n                class=\"u-center-all chip-add-svg\" \r\n                v-html=\"saveSvg\"/> Save\r\n            </button>\r\n            <button \r\n              class=\"button-red chip-add-button\" \r\n              @click=\"cancelRename(index)\">\r\n              <span \r\n                class=\"u-center-all chip-add-svg\" \r\n                v-html=\"cancelSvg\"/> Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </draggable>\r\n    </div>\r\n    <div class=\"chip\">\r\n      <div class=\"chip-content\">\r\n        <input \r\n          class=\"chip-input\" \r\n          v-model=\"newChip\" \r\n          @keyup.enter=\"addNewChip\" \r\n          :placeholder=\"placeholder\">\r\n        <button \r\n          class=\"button-green chip-add-button\" \r\n          @click=\"addNewChip\" \r\n          :disabled=\"!newChip\">\r\n          <span \r\n            class=\"u-center-all chip-add-svg\" \r\n            v-html=\"addSvg\"/> Add\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  components: {\r\n    draggable,\r\n  },\r\n  computed: {\r\n    placeholder() {\r\n      return `New ${this.name}...`\r\n    },\r\n    reactiveArray: {\r\n      get() {\r\n        return this.dataArray\r\n      },\r\n      set(value) {\r\n        this.$emit('rearrange', value)\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      addSvg: Octicons.plus.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      cancelSvg: Octicons['circle-slash'].toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      chipValues: [],\r\n      deleteSvg: Octicons.x.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      draggableOptions: {\r\n        animation: 100,\r\n        draggable: '.chip',\r\n        group: this.name,\r\n        handle: '.chip-draggable',\r\n      },\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      newChip: '',\r\n      saveSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addNewChip() {\r\n      const isUnique = this.assertUnique(this.dataArray, this.nameProp, this.newChip)\r\n\r\n      if (!isUnique) {\r\n        return\r\n      }\r\n\r\n      this.$emit('add', this.newChip)\r\n      this.newChip = ''\r\n    },\r\n    assertUnique(arr, propName, value) {\r\n      const existing = arr.find(el => el[propName] === value)\r\n\r\n      if (existing) {\r\n        swal({\r\n          icon: 'error',\r\n          text: `Sorry, ${this.name.toLowerCase()} ${propName}s must be unique. \"${value}\" is already in use.\r\n                 Please choose a different ${propName}.`,\r\n        })\r\n        return false\r\n      }\r\n\r\n      return true\r\n    },\r\n    cancelRename(index) {\r\n      this.$set(this.chipValues, index, null)\r\n    },\r\n    deleteChip(index) {\r\n      this.$emit('delete', { index })\r\n    },\r\n    renameChip(index, name) {\r\n      this.$set(this.chipValues, index, name)\r\n    },\r\n    restoreChip(index) {\r\n      this.$emit('restore', { index })\r\n    },\r\n    saveChipValue(index) {\r\n      const otherChips = this.dataArray.slice()\r\n      otherChips.splice(index, 1)\r\n      const isUnique = this.assertUnique(otherChips, this.nameProp, this.chipValues[index])\r\n\r\n      if (!isUnique) {\r\n        return\r\n      }\r\n\r\n      this.$emit('update', { index, value: this.chipValues[index] })\r\n      this.$set(this.chipValues, index, null)\r\n    },\r\n    showChipInput(index) {\r\n      return typeof this.chipValues[index] === 'string'\r\n    },\r\n  },\r\n  props: {\r\n    dataArray: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n    filterChips: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    isDeletable: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    name: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    nameProp: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chip-list-wrap {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.chip-list {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.chip {\r\n  background-color: #CCC;\r\n  border-radius: 4px;\r\n  display: inline-block;\r\n  margin: 2px 3px;\r\n  padding: 4px 6px;\r\n}\r\n\r\n.chip.light {\r\n  background-color: #DEDEDE;\r\n}\r\n\r\n.chip-content {\r\n  display: flex;\r\n}\r\n\r\n.chip-draggable {\r\n  cursor: grab;\r\n}\r\n\r\n.chip.sortable-ghost {\r\n  background-color: #333;\r\n  color: #FFF;\r\n  fill: #FFF;\r\n}\r\n\r\n.chip-input {\r\n  background-color: rgba(255,255,255,0.8);\r\n  border: none;\r\n  height: 20px;\r\n  margin-right: 6px;\r\n}\r\n\r\n.chip-add-button {\r\n  display: flex;\r\n  fill: #FFF;\r\n  padding: 2px 8px;\r\n}\r\n\r\n.chip-add-button:not(:first-of-type) {\r\n  margin-left: 6px;\r\n}\r\n\r\n.chip-add-svg {\r\n  margin-right: 6px;\r\n}\r\n\r\n.chip-action-button {\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chipsList.vue?vue&type=template&id=454a4b13&scoped=true&\"\nimport script from \"./chipsList.vue?vue&type=script&lang=js&\"\nexport * from \"./chipsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"454a4b13\",\n  null\n  \n)\n\ncomponent.options.__file = \"chipsList.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabs\"},[_vm._l((_vm.dataArray),function(item,index){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterTabs(item)),expression:\"filterTabs(item)\"}],key:item.guid,staticClass:\"button-tab\",class:{ 'active': _vm.isActive(index) },on:{\"click\":function($event){_vm.selectItem(index)},\"mouseover\":function($event){_vm.hoverItem(index)},\"mouseout\":function($event){_vm.unhoverItem()}}},[_vm._v(\"\\n    \"+_vm._s(item.title)+\"\\n  \")])}),(_vm.canAdd)?_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showAddItem),expression:\"!showAddItem\"}],staticClass:\"button-tab add-button\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)},on:{\"click\":_vm.showNewItem}}):_vm._e(),(_vm.canAdd)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAddItem),expression:\"showAddItem\"}],staticClass:\"button-tab add-tab\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newItem),expression:\"newItem\"}],staticClass:\"tab-input\",attrs:{\"placeholder\":(\"New \" + _vm.itemName + \"...\")},domProps:{\"value\":(_vm.newItem)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addItem($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newItem=$event.target.value}}}),_c('button',{staticClass:\"button-green tab-internal-button\",on:{\"click\":_vm.addItem}},[_c('span',{staticClass:\"u-center-all icon\",domProps:{\"innerHTML\":_vm._s(_vm.saveSvg)}}),_vm._v(\" Save\\n    \")]),_c('button',{staticClass:\"button-red tab-internal-button\",on:{\"click\":_vm.cancelAddItem}},[_c('span',{staticClass:\"u-center-all icon\",domProps:{\"innerHTML\":_vm._s(_vm.cancelSvg)}}),_vm._v(\" Cancel\\n    \")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tabs\">\r\n    <button \r\n      v-for=\"(item, index) in dataArray\" \r\n      :key=\"item.guid\" \r\n      v-show=\"filterTabs(item)\"\r\n      class=\"button-tab\" \r\n      :class=\"{ 'active': isActive(index) }\"\r\n      @click=\"selectItem(index)\"\r\n      @mouseover=\"hoverItem(index)\"\r\n      @mouseout=\"unhoverItem()\">\r\n      {{ item.title }}\r\n    </button>\r\n    <button \r\n      v-if=\"canAdd\" \r\n      @click=\"showNewItem\" \r\n      class=\"button-tab add-button\" \r\n      v-show=\"!showAddItem\" \r\n      v-html=\"addSvg\"/>\r\n    <div \r\n      class=\"button-tab add-tab\" \r\n      v-show=\"showAddItem\" \r\n      v-if=\"canAdd\">\r\n      <input \r\n        class=\"tab-input\" \r\n        v-model=\"newItem\" \r\n        :placeholder=\"`New ${itemName}...`\" \r\n        @keyup.enter=\"addItem\">\r\n      <button \r\n        class=\"button-green tab-internal-button\" \r\n        @click=\"addItem\">\r\n        <span \r\n          class=\"u-center-all icon\" \r\n          v-html=\"saveSvg\"/> Save\r\n      </button>\r\n      <button \r\n        class=\"button-red tab-internal-button\" \r\n        @click=\"cancelAddItem\">\r\n        <span \r\n          class=\"u-center-all icon\" \r\n          v-html=\"cancelSvg\"/> Cancel\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './cache'\r\nimport Octicons from 'octicons'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {},\r\n  data() {\r\n    return {\r\n      addSvg: Octicons.plus.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      cancelSvg: Octicons['circle-slash'].toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      newItem: '',\r\n      saveSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      showAddItem: false,\r\n      tabCache: new Cache(`CURRENT_${this.itemName}_TAB`),\r\n    }\r\n  },\r\n  methods: {\r\n    addItem() {\r\n      this.$emit('add', this.newItem)\r\n      this.newItem = ''\r\n      this.showAddItem = false\r\n    },\r\n    hoverItem(index) {\r\n      this.$emit('hover', index)\r\n    },\r\n    isActive(index) {\r\n      return index === this.activeIndex\r\n    },\r\n    selectItem(index) {\r\n      this.$emit('update:activeIndex', index)\r\n    },\r\n    showNewItem() {\r\n      this.showAddItem = true\r\n    },\r\n    cancelAddItem() {\r\n      this.showAddItem = false\r\n      this.newItem = ''\r\n    },\r\n    unhoverItem() {\r\n      this.$emit('unhover')\r\n    },\r\n  },\r\n  mounted() {\r\n    const cachedIndex = this.tabCache.cacheGet()\r\n    if (cachedIndex && cachedIndex < this.dataArray.length) {\r\n      this.selectItem(cachedIndex)\r\n    } else {\r\n      this.selectItem(0)\r\n    }\r\n  },\r\n  props: {\r\n    activeIndex: {\r\n      required: true,\r\n      type: Number,\r\n    },\r\n    dataArray: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n    filterTabs: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    itemName: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    canAdd: {\r\n      required: false,\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n  },\r\n  watch: {\r\n    activeIndex(index) {\r\n      this.tabCache.cacheSet(index)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tabs {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  max-height: 60px;\r\n  min-height: 28px;\r\n  overflow: auto;\r\n}\r\n\r\n.tab-input {\r\n  background-color: rgba(255,255,255,0.8);\r\n  border: none;\r\n  height: 20px;\r\n  margin-right: 6px;\r\n}\r\n\r\n.add-tab {\r\n  background-color: #CCC;\r\n  padding: 6px 6px;\r\n}\r\n\r\n.tab-internal-button {\r\n  display: flex;\r\n  fill: #FFF;\r\n  padding: 2px 8px;\r\n}\r\n\r\n.tab-internal-button:not(:first-of-type) {\r\n  margin-left: 6px;\r\n}\r\n\r\n.icon {\r\n  display: inline-block;\r\n  margin-right: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabsList.vue?vue&type=template&id=e5dddd7a&scoped=true&\"\nimport script from \"./tabsList.vue?vue&type=script&lang=js&\"\nexport * from \"./tabsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5dddd7a\",\n  null\n  \n)\n\ncomponent.options.__file = \"tabsList.vue\"\nexport default component.exports","import swal from 'sweetalert'\r\n\r\nexport const ValidateTitle = (itemName, title) => {\r\n  const minlength = 1\r\n  const maxlength = 60\r\n\r\n  if (title.length < minlength || title.length > maxlength) {\r\n    swal({\r\n      icon: 'error',\r\n      text: `Sorry, ${itemName} titles must be between ${minlength} and ${maxlength} letters.`,\r\n    })\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n","<template>\r\n  <div \r\n    class=\"plans-wrap\" \r\n    v-show=\"viewingPlans.length > 0\">\r\n    <!-- Plan Tabs -->\r\n    <tabs-list \r\n      :active-index=\"activePlanIndex\" \r\n      :data-array=\"allPlans\" \r\n      :filter-tabs=\"filterPlans\"\r\n      item-name=\"Plan\"\r\n      @add=\"addPlan\"\r\n      @update:activeIndex=\"selectPlan\"/>\r\n    <div \r\n      class=\"plan\" \r\n      v-if=\"activePlan\">\r\n      <div class=\"plan-header\">\r\n        <h4 class=\"plan-title\">\r\n          {{ activePlan.title }}\r\n        </h4>\r\n        <div class=\"plan-actions\">\r\n          <button \r\n            class=\"plan-action\" \r\n            v-show=\"!activePlan.archived\" \r\n            @click=\"archivePlan({ index: activePlanIndex })\">Archive</button>\r\n          <button \r\n            class=\"plan-action\" \r\n            v-show=\"activePlan.archived\" \r\n            @click=\"restorePlan({ index: activePlanIndex })\">Restore</button>\r\n          <button \r\n            class=\"plan-action button-red\" \r\n            v-show=\"activePlan.archived\" \r\n            @click=\"deletePlan({ index: activePlanIndex })\">Delete Forever</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"plan-body\">\r\n        <!-- Section Chips -->\r\n        <div class=\"chips-wrap section-chips\">\r\n          <div class=\"section-title\">\r\n            <h3>Sections</h3>\r\n            <button \r\n              class=\"help-icon\" \r\n              v-html=\"helpIconSvg\" \r\n              @click=\"helpClick(helpSectionChipsModal, 'Section List')\"/>\r\n          </div>\r\n          <chips-list \r\n            name=\"Section\" \r\n            name-prop=\"title\"\r\n            :data-array=\"activePlanSections\"\r\n            :filter-chips=\"filterSections\"\r\n            :is-deletable=\"isDeletable\"\r\n            @add=\"addSection\"\r\n            @delete=\"archiveSection\"\r\n            @rearrange=\"rearrangeSection\"\r\n            @restore=\"restoreSection\"\r\n            @update=\"renameSection\"/>\r\n        </div>\r\n        <div class=\"sections\">\r\n          <div \r\n            class=\"section\" \r\n            v-for=\"(section, index) in activePlan.sections\" \r\n            :key=\"section.guid\" \r\n            v-show=\"filterSections(section)\">\r\n            <div class=\"section-header\">\r\n              <h5 class=\"section-title\">\r\n                {{ section.title }}\r\n              </h5>\r\n              <div class=\"section-actions\">\r\n                <button \r\n                  class=\"section-action\" \r\n                  v-show=\"!section.archived\" \r\n                  @click=\"archiveSection({ index })\">Archive</button>\r\n                <button \r\n                  class=\"section-action\" \r\n                  v-show=\"section.archived\" \r\n                  @click=\"restoreSection({ index })\">Restore</button>\r\n                <button \r\n                  class=\"section-action button-red\" \r\n                  v-show=\"section.archived\" \r\n                  @click=\"deleteSection({ index })\">Delete Forever</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"section-content\">\r\n              <div \r\n                class=\"content-actions\" \r\n                v-if=\"!section.archived\">\r\n                <button \r\n                  class=\"button-link\" \r\n                  v-if=\"!isEditing(index)\" \r\n                  @click=\"editSection(index)\">\r\n                  <span \r\n                    class=\"button-link-icon\" \r\n                    v-html=\"editSvg\"/>Edit\r\n                </button>\r\n                <button \r\n                  class=\"button-link\" \r\n                  v-if=\"isEditing(index)\" \r\n                  @click=\"endEditSection()\">\r\n                  <span \r\n                    class=\"button-link-icon\" \r\n                    v-html=\"doneSvg\"/>Done Editing\r\n                </button>\r\n              </div>\r\n              <div \r\n                class=\"content-static\" \r\n                :class=\"{ 'space-above': section.archived }\" \r\n                v-if=\"!isEditing(index)\">\r\n                <div v-html=\"getHtml(section)\"/>\r\n                <span \r\n                  class=\"content-placeholder\" \r\n                  v-if=\"!section.archived && !getTextContent(section.content)\">\r\n                  No content yet. Click \"Edit\" to add some.\r\n                </span>\r\n              </div>\r\n              <div \r\n                class=\"content-editable\" \r\n                v-show=\"isEditing(index)\">\r\n                <quill-editor \r\n                  :content=\"section.content\" \r\n                  :content-id=\"activePlan.guid\" \r\n                  ref=\"quillEditor\" \r\n                  @update:content=\"updateContent(section, $event)\"\r\n                  @shortcut:done=\"endEditSection()\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Sections: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpSectionChipsModal\">\r\n        <p>This is the section list. It's the easiest place to add, archive, restore, rename, and rearrange sections.</p>\r\n        <p>To add a section, type its name into the \"New Section\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a section, click the \"X\" next to its name in the list.\r\n          Archiving a section removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived section, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a section, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a section, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_PLAN, ADD_SECTION, ARCHIVE_PLAN, ARCHIVE_SECTION,\r\n  DELETE_PLAN, DELETE_SECTION, REARRANGE_SECTIONS,\r\n  RESTORE_PLAN, RESTORE_SECTION, UPDATE_SECTION,\r\n  UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport { GetContentString, GetHtml } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    QuillEditor,\r\n    TabsList,\r\n  },\r\n  computed: {\r\n    activePlan() {\r\n      return this.allPlans[this.activePlanIndex]\r\n    },\r\n    activePlanSections() {\r\n      if (!this.activePlan) {\r\n        return []\r\n      }\r\n\r\n      return this.activePlan.sections || []\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    viewingPlans() {\r\n      return this.allPlans.filter(plan => this.filterPlans(plan))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activePlanIndex: -1,\r\n      doneSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      editingSectionIndex: -1,\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addPlan(title) {\r\n      if (!ValidateTitle('plan', title)) {\r\n        return\r\n      }\r\n\r\n      const plan = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [],\r\n      }\r\n\r\n      this.$store.commit(ADD_PLAN, { plan })\r\n      console.log(this.activePlanIndex)\r\n    },\r\n    addSection(title) {\r\n      if (!ValidateTitle('section', title)) {\r\n        return\r\n      }\r\n\r\n      const section = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        tags: [],\r\n        title,\r\n      }\r\n\r\n      this.$store.commit(ADD_SECTION, { plan: this.activePlan, section })\r\n    },\r\n    archivePlan({ index }) {\r\n      this.$store.commit(ARCHIVE_PLAN, { plan: this.allPlans[index] })\r\n\r\n      if (index === this.activePlanIndex && !this.filterPlans(this.allPlans[index])) {\r\n        this.selectPlan(-1)\r\n      }\r\n    },\r\n    archiveSection({ index }) {\r\n      this.$store.commit(ARCHIVE_SECTION, {\r\n        plan: this.activePlan,\r\n        section: this.activePlan.sections[index],\r\n      })\r\n    },\r\n    deletePlan({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this plan? Its sections and all of their content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_PLAN, { plan: this.allPlans[index] })\r\n\r\n        if (index === this.activePlanIndex) {\r\n          this.selectPlan(-1)\r\n        }\r\n      })\r\n    },\r\n    deleteSection({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this section? Its content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_SECTION, {\r\n          plan: this.activePlan,\r\n          section: this.activePlan.sections[index],\r\n        })\r\n      })\r\n    },\r\n    editSection(index) {\r\n      this.editingSectionIndex = index\r\n      this.$refs.quillEditor[index].focus()\r\n    },\r\n    endEditSection() {\r\n      this.editingSectionIndex = -1\r\n    },\r\n    getHtml(section) {\r\n      return GetHtml(section.content)\r\n    },\r\n    getTextContent(content) {\r\n      return GetContentString(content)\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    isEditing(index) {\r\n      return this.editingSectionIndex === index\r\n    },\r\n    rearrangeSection(sections) {\r\n      this.$store.commit(REARRANGE_SECTIONS, { plan: this.activePlan, sections })\r\n    },\r\n    renameSection({ index, value: newTitle }) {\r\n      if (!ValidateTitle('section', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_SECTION, {\r\n        plan: this.activePlan,\r\n        section: this.activePlan.sections[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    restorePlan({ index }) {\r\n      this.$store.commit(RESTORE_PLAN, { plan: this.allPlans[index] })\r\n    },\r\n    restoreSection({ index }) {\r\n      this.$store.commit(RESTORE_SECTION, { plan: this.activePlan, section: this.activePlan.sections[index] })\r\n    },\r\n    selectPlan(index) {\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      if (this.allPlans[index] && this.allPlans[index].archived) {\r\n        index = this.allPlans.indexOf(this.viewingPlans[0])\r\n      }\r\n      \r\n      this.activePlanIndex = index\r\n    },\r\n    updateContent(section, { content: newContent, contentId: planGuid }) {\r\n      const plan = this.allPlans.find(plan => plan.guid === planGuid)\r\n      this.$store.commit(UPDATE_SECTION_CONTENT, {\r\n        plan,\r\n        newContent,\r\n        section,\r\n      })\r\n    },\r\n    updateTags(section, newTags) {\r\n      this.$store.commit(UPDATE_SECTION_TAGS, {\r\n        plan: this.activePlan,\r\n        newTags,\r\n        section,\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpSectionChipsModal = this.$refs.helpSectionChipsModal\r\n  },\r\n  props: {\r\n    filterPlans: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    filterSections: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(13, 91, 166, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.plan {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.plan-header {\r\n  align-items: center;\r\n  background-color: rgba(13, 91, 166, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.plan-title {\r\n  flex: 1;\r\n}\r\n\r\n.plan-action {\r\n  background-color: transparent;\r\n  border-color: #FFF;\r\n  color: #FFF;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.plan-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.plan-body {\r\n  background-color: rgba(13, 91, 166, 0.05);\r\n  padding-top: 8px;\r\n}\r\n\r\n.section-chips {\r\n  margin-left: 8px;\r\n}\r\n\r\n.sections {\r\n  padding: 8px;\r\n}\r\n\r\n.section {\r\n  border: 1px solid rgba(13, 91, 166, 1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.section-header {\r\n  align-items: center;\r\n  background-color: rgba(13, 91, 166, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n}\r\n\r\n.section-actions {\r\n  height: 100%;\r\n}\r\n\r\n.section-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #fff;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.section-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.section-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 6px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 1px;\r\n}\r\n\r\n.content-actions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.content-static, .content-editable {\r\n  max-height: 275px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.content-static {\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 13px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.content-static.space-above {\r\n  margin-top: 30px;\r\n}\r\n\r\n.content-placeholder {\r\n  color: #444;\r\n  white-space: normal;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./plansList.vue?vue&type=template&id=7275fea1&scoped=true&\"\nimport script from \"./plansList.vue?vue&type=script&lang=js&\"\nexport * from \"./plansList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7275fea1\",\n  null\n  \n)\n\ncomponent.options.__file = \"plansList.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"mapWrap\",staticClass:\"map\",on:{\"click\":_vm.mapClick}},[_c('div',{ref:\"map\",staticClass:\"map-inner\",domProps:{\"innerHTML\":_vm._s(_vm.mapHtml)}})]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":_vm.helpClick}}),_c('text-magnifier',{attrs:{\"html\":_vm.mapHtml,\"magnify-el\":_vm.mapNode,\"mark\":_vm.mark,\"wrap-el\":_vm.mapWrapNode}}),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the mini-map. It's the 10,000 foot view of your document. As you write, you'll see it fill up.\")]),_c('p',[_vm._v(\"It has a couple of helpful features:\")]),_vm._m(0)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"If you hover your mouse on the mini-map, a magnifier will appear to help you scan through your document quickly.\")]),_c('li',[_vm._v(\"If you click a paragraph in the mini-map, you'll jump to that paragraph in the editor.\")]),_c('li',[_vm._v(\"If you highlight a word in the editor, every appearance of that word will be highlighted in the mini-map.\")]),_c('li',[_vm._v(\"If you click a highlighted word in the mini-map, you'll jump to that word in the editor and highlight it.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"magnifier-wrap\",class:{ 'show': _vm.show }},[_c('div',{ref:\"magnifier\",staticClass:\"magnifier\"},[_c('div',{ref:\"magnifierContent\",staticClass:\"magnifier-content map\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"magnifier-wrap\" \r\n    :class=\"{ 'show': show }\" \r\n    ref=\"wrap\">\r\n    <div \r\n      class=\"magnifier\" \r\n      ref=\"magnifier\">\r\n      <div \r\n        class=\"magnifier-content map\" \r\n        ref=\"magnifierContent\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      cachedHtml: '',\r\n      magnifyRadius: 50,\r\n      scale: 5,\r\n      show: false,\r\n      wrapElBoundingClientRect: null,\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.magnifyEl.removeEventListener('mousemove', this.mouseMove)\r\n    this.magnifyEl.removeEventListener('mouseleave', this.mouseLeave)\r\n  },\r\n  methods: {\r\n    getRelativeCoords(event, bounds) {\r\n      // https://stackoverflow.com/a/33347664/4347245\r\n      const x = event.clientX - bounds.left\r\n      const y = event.clientY - bounds.top\r\n      return { x, y }\r\n    },\r\n    mouseLeave() {\r\n      this.show = false\r\n    },\r\n    mouseMove(event) {\r\n      if (this.cachedHtml !== this.html) {\r\n        this.cachedHtml = this.html\r\n      }\r\n\r\n      let { x: left, y: top } = this.getRelativeCoords(event, this.magnifyEl.getBoundingClientRect())\r\n      left = this.transformCoord(left, 95)\r\n      top = this.transformCoord(top, 30)\r\n\r\n      const magnifierStyle = this.$refs.magnifier.style\r\n      magnifierStyle.left = `${left}px`\r\n      magnifierStyle.top = `${top}px`\r\n\r\n      this.show = true\r\n    },\r\n    refresh() {\r\n      const clone = this.magnifyEl.cloneNode(true)\r\n      const content = this.$refs.magnifierContent\r\n      content.innerHTML = ''\r\n      content.appendChild(clone)\r\n    },\r\n    transformCoord(value, adjust) {\r\n      return -(value * this.scale) + adjust\r\n    },\r\n  },\r\n  mounted() {\r\n    const instance = this\r\n\r\n    this.$nextTick(() => {\r\n      this.wrapElBoundingClientRect = this.wrapEl.getBoundingClientRect()\r\n\r\n      this.magnifyEl.addEventListener('mousemove', instance.mouseMove)\r\n      this.magnifyEl.addEventListener('mouseleave', instance.mouseLeave)\r\n    })\r\n  },\r\n  props: {\r\n    html: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    magnifyEl: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    mark: {\r\n      required: true,\r\n      type: String\r\n    },\r\n    wrapEl: {\r\n      required: true,\r\n      type: null\r\n    },\r\n  },\r\n  watch: {\r\n    cachedHtml() {\r\n      this.refresh()\r\n    },\r\n    mark() {\r\n      this.refresh()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.magnifier-wrap {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  height: 100px;\r\n  left: 170px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  top: 0;\r\n  transition: opacity 100ms;\r\n  width: 200px;\r\n}\r\n\r\n.magnifier-wrap.show {\r\n  opacity: 1;\r\n}\r\n\r\n.magnifier {\r\n  font-size: 2px;\r\n  position: absolute;\r\n  width: 145px;\r\n}\r\n\r\n.magnifier-content {\r\n  transform: scale(5);\r\n  transform-origin: top left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./textMagnifier.vue?vue&type=template&id=1417fd9c&scoped=true&\"\nimport script from \"./textMagnifier.vue?vue&type=script&lang=js&\"\nexport * from \"./textMagnifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1417fd9c\",\n  null\n  \n)\n\ncomponent.options.__file = \"textMagnifier.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"map\" \r\n      @click=\"mapClick\" \r\n      ref=\"mapWrap\">\r\n      <div \r\n        class=\"map-inner\" \r\n        v-html=\"mapHtml\" \r\n        ref=\"map\"/>\r\n    </div>\r\n    <button \r\n      class=\"help-icon\" \r\n      v-html=\"helpIconSvg\" \r\n      @click=\"helpClick\"/>\r\n    <text-magnifier \r\n      :html=\"mapHtml\" \r\n      :magnify-el=\"mapNode\" \r\n      :mark=\"mark\" \r\n      :wrap-el=\"mapWrapNode\"/>\r\n\r\n    <!-- [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpModal\">\r\n        <p>This is the mini-map. It's the 10,000 foot view of your document. As you write, you'll see it fill up.</p>\r\n        <p>It has a couple of helpful features:</p>\r\n        <ul>\r\n          <li>If you hover your mouse on the mini-map, a magnifier will appear to help you scan through your document quickly.</li>\r\n          <li>If you click a paragraph in the mini-map, you'll jump to that paragraph in the editor.</li>\r\n          <li>If you highlight a word in the editor, every appearance of that word will be highlighted in the mini-map.</li>\r\n          <li>If you click a highlighted word in the mini-map, you'll jump to that word in the editor and highlight it.</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './map-shared.css'\r\n\r\nimport debounce from 'lodash/debounce'\r\nimport Mark from 'mark.js'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\nimport TextMagnifier from './textMagnifier.vue'\r\n\r\nexport default {\r\n  components: {\r\n    TextMagnifier,\r\n  },\r\n  data() {\r\n    return {\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n      helpNode: null,\r\n      mapHtml: '',\r\n      mapNode: null,\r\n      mapWrapNode: null,\r\n      markInstance: null,\r\n      mouse: {\r\n        x: null,\r\n        y: null,\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    helpClick() {\r\n      swal({\r\n        content: this.helpNode,\r\n        title: 'Tip',\r\n      })\r\n    },\r\n    mapClick({ target }) {\r\n      if (target.tagName.toLowerCase() === 'mark') {\r\n        this.markClick({ target })\r\n        return\r\n      }\r\n\r\n      const parentClasses = [...target.parentNode.classList]\r\n\r\n      if (parentClasses.includes('wrap')) {\r\n        return\r\n      }\r\n\r\n      if (!parentClasses.includes('map-inner')) {\r\n        this.mapClick({ target: target.parentNode })\r\n        return\r\n      }\r\n\r\n      const index = [...target.parentNode.childNodes].indexOf(target)\r\n      this.$emit('select', {\r\n        paragraphIndex: index,\r\n        searchTermIndex: -1,\r\n      })\r\n    },\r\n    markClick({ target }) {\r\n      const map = this.$refs.map\r\n      const marks = [...map.querySelectorAll('mark')]\r\n      const searchTermIndex = marks.indexOf(target)\r\n\r\n      const paragraph = target.parentNode\r\n      const paragraphIndex = [...paragraph.parentNode.childNodes].indexOf(paragraph)\r\n\r\n      this.$emit('select', {\r\n        paragraphIndex,\r\n        searchTermIndex,\r\n      })\r\n    },\r\n    updateMap() {\r\n      if (!this.editorElement) {\r\n        return\r\n      }\r\n\r\n      const textElement = this.editorElement.$el.querySelector('.ql-editor')\r\n      this.mapHtml = textElement.innerHTML\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(this.updateMap)\r\n    this.helpNode = this.$refs.helpModal\r\n    this.markInstance = new Mark(this.$refs.map)\r\n    this.mapNode = this.$refs.map\r\n    this.mapWrapNode = this.$refs.mapWrap\r\n  },\r\n  props: {\r\n    dataStream: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    editorElement: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    mark: {\r\n      default: null,\r\n      type: String\r\n    },\r\n  },\r\n  watch: {\r\n    dataStream: debounce(function () {\r\n      this.updateMap()\r\n    }, 250),\r\n    mark(text) {\r\n      this.markInstance.unmark()\r\n\r\n      if (text.length < 3 || getNumberOfWords(text) > 3) {\r\n        return\r\n      }\r\n\r\n      this.markInstance.mark(text, {\r\n        separateWordSearch: false,\r\n      })\r\n    },\r\n  },\r\n}\r\n\r\nfunction getNumberOfWords(str) {\r\n  return str.trim().split(/\\s/).length\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  height: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.wrap:hover .help-icon {\r\n  opacity: 1;\r\n}\r\n\r\n.map-inner {\r\n  height: 100%;\r\n}\r\n\r\n.help-icon {\r\n  opacity: 0;\r\n  position: absolute;\r\n  right: 6px;\r\n  top: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./textMap.vue?vue&type=template&id=2cff7cef&scoped=true&\"\nimport script from \"./textMap.vue?vue&type=script&lang=js&\"\nexport * from \"./textMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cff7cef\",\n  null\n  \n)\n\ncomponent.options.__file = \"textMap.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},_vm._l((_vm.chapterTopics),function(topic,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTopic(topic)),expression:\"showTopic(topic)\"}],key:topic.guid,staticClass:\"topic\"},[_c('div',{staticClass:\"topic-head\"},[_c('h5',{staticClass:\"topic-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.getMasterTopic(topic).title)+\"\\n      \")]),_c('div',{staticClass:\"topic-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getMasterTopic(topic).archived),expression:\"!getMasterTopic(topic).archived\"}],staticClass:\"topic-action\",on:{\"click\":function($event){_vm.archiveTopic({ index: index })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getMasterTopic(topic).archived),expression:\"getMasterTopic(topic).archived\"}],staticClass:\"topic-action\",on:{\"click\":function($event){_vm.restoreTopic({ index: index })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getMasterTopic(topic).archived),expression:\"getMasterTopic(topic).archived\"}],staticClass:\"topic-action button-red\",on:{\"click\":function($event){_vm.deleteTopic({ index: index })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"topic-content\"},[(_vm.showActions(topic))?_c('div',{staticClass:\"content-actions\"},[(!_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editTopic(index)}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)}}),_vm._v(\"Edit\\n        \")]):_vm._e(),(_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.endEditTopic()}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.doneSvg)}}),_vm._v(\"Done Editing\\n        \")]):_vm._e()]):_vm._e(),(!_vm.isEditing(index))?_c('div',{staticClass:\"content-static\",class:{ 'space-above': !_vm.showActions(topic) }},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(topic))}}),(_vm.showActions(topic) && !_vm.getTextContent(topic.content))?_c('span',{staticClass:\"content-placeholder\"},[_vm._v(\"\\n          No content yet. Click \\\"Edit\\\" to add some.\\n        \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditing(index)),expression:\"isEditing(index)\"}],staticClass:\"content-editable\"},[_c('quill-editor',{ref:\"quillEditor\",refInFor:true,attrs:{\"content\":topic.content,\"content-id\":_vm.chapter.guid},on:{\"update:content\":function($event){_vm.updateContent(topic, $event)},\"shortcut:done\":function($event){_vm.endEditTopic()}}})],1)])])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"topic\" \r\n      v-for=\"(topic, index) in chapterTopics\" \r\n      v-show=\"showTopic(topic)\" \r\n      :key=\"topic.guid\">\r\n      <div class=\"topic-head\">\r\n        <h5 class=\"topic-title\">\r\n          {{ getMasterTopic(topic).title }}\r\n        </h5>\r\n        <div class=\"topic-actions\">\r\n          <button \r\n            class=\"topic-action\" \r\n            v-show=\"!getMasterTopic(topic).archived\" \r\n            @click=\"archiveTopic({ index })\">Archive</button>\r\n          <button \r\n            class=\"topic-action\" \r\n            v-show=\"getMasterTopic(topic).archived\" \r\n            @click=\"restoreTopic({ index })\">Restore</button>\r\n          <button \r\n            class=\"topic-action button-red\" \r\n            v-show=\"getMasterTopic(topic).archived\" \r\n            @click=\"deleteTopic({ index })\">Delete Forever</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"topic-content\">\r\n        <div \r\n          class=\"content-actions\" \r\n          v-if=\"showActions(topic)\">\r\n          <button \r\n            class=\"button-link\" \r\n            v-if=\"!isEditing(index)\" \r\n            @click=\"editTopic(index)\">\r\n            <span \r\n              class=\"button-link-icon\" \r\n              v-html=\"editSvg\"/>Edit\r\n          </button>\r\n          <button \r\n            class=\"button-link\" \r\n            v-if=\"isEditing(index)\" \r\n            @click=\"endEditTopic()\">\r\n            <span \r\n              class=\"button-link-icon\" \r\n              v-html=\"doneSvg\"/>Done Editing\r\n          </button>\r\n        </div>\r\n        <div \r\n          class=\"content-static\" \r\n          :class=\"{ 'space-above': !showActions(topic) }\" \r\n          v-if=\"!isEditing(index)\">\r\n          <div v-html=\"getHtml(topic)\"/>\r\n          <span \r\n            class=\"content-placeholder\" \r\n            v-if=\"showActions(topic) && !getTextContent(topic.content)\">\r\n            No content yet. Click \"Edit\" to add some.\r\n          </span>\r\n        </div>\r\n        <div \r\n          class=\"content-editable\" \r\n          v-show=\"isEditing(index)\">\r\n          <quill-editor \r\n            :content=\"topic.content\" \r\n            :content-id=\"chapter.guid\" \r\n            ref=\"quillEditor\" \r\n            @update:content=\"updateContent(topic, $event)\"\r\n            @shortcut:done=\"endEditTopic()\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ARCHIVE_TOPIC, ADD_TOPIC_TO_CHAPTER, DELETE_TOPIC, RESTORE_TOPIC,\r\n  UPDATE_TOPIC_CONTENT,\r\n} from '../shared/chapters.store'\r\nimport { GetContentString, GetHtml } from './deltaParser'\r\nimport Octicons from 'octicons'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  components: {\r\n    QuillEditor,\r\n  },\r\n  computed: {\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters\r\n    },\r\n    chapterTopics() {\r\n      if (!this.chapter) {\r\n        return []\r\n      }\r\n\r\n      return this.topics.map(topic => this.getTopic(this.chapter, topic)).filter(topic => !!topic)\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      doneSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      editingTopicIndex: -1,\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    archiveTopic({ index }) {\r\n      this.$store.commit(ARCHIVE_TOPIC, { topic: this.topics[index] })\r\n    },\r\n    deleteTopic({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Are you sure you want to delete this topic? It will be deleted from every chapter.\r\n               This cannot be undone.`,\r\n        title: 'Delete from every chapter?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_TOPIC, { topic: this.topics[index] })\r\n      })\r\n    },\r\n    editTopic(index) {\r\n      this.editingTopicIndex = index\r\n      this.$refs.quillEditor[index].focus()\r\n    },\r\n    endEditTopic() {\r\n      this.editingTopicIndex = -1\r\n    },\r\n    getHtml(topic) {\r\n      return GetHtml(topic.content)\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.topics.find(topic => topic.guid === chapterTopic.guid) || {}\r\n    },\r\n    getTopic(chapter, topic) {\r\n      if (!chapter.topics) {\r\n        chapter.topics = {}\r\n      }\r\n\r\n      if (!chapter.topics[topic.guid]) {\r\n        this.$store.commit(ADD_TOPIC_TO_CHAPTER, { chapter, topic })\r\n      }\r\n\r\n      return chapter.topics[topic.guid]\r\n    },\r\n    getTextContent(content) {\r\n      return GetContentString(content)\r\n    },\r\n    isEditing(index) {\r\n      return this.editingTopicIndex === index\r\n    },\r\n    restoreTopic({ index }) {\r\n      this.$store.commit(RESTORE_TOPIC, { topic: this.topics[index] })\r\n    },\r\n    showActions(chapterTopic) {\r\n      return !this.getMasterTopic(chapterTopic).archived && !this.chapter.archived\r\n    },\r\n    showTopic(chapterTopic) {\r\n      if (!chapterTopic) {\r\n        return false\r\n      }\r\n\r\n      return this.filterTopics(chapterTopic)\r\n    },\r\n    updateContent(topic, { content: newContent, contentId: guid }) {\r\n      const chapter = this.allChapters.find(chapter => chapter.guid === guid)\r\n      const chapterTopic = chapter.topics[topic.guid]\r\n      this.$store.commit(UPDATE_TOPIC_CONTENT, {\r\n        chapter,\r\n        newContent,\r\n        topic: chapterTopic,\r\n      })\r\n    },\r\n  },\r\n  props: {\r\n    chapter: {\r\n      required: true,\r\n      type: Object,\r\n    },\r\n    filterTopics: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    topics: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  width: 100%;\r\n}\r\n\r\n.topic {\r\n  border: 1px solid rgba(5, 133, 157, 1);\r\n  border-top: none;\r\n  color: #000;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.topic-head {\r\n  align-items: center;\r\n  background-color: rgba(5, 133, 157, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.topic-title {\r\n  flex: 1;\r\n  padding: 2px 0;\r\n}\r\n\r\n.topic-actions {\r\n  height: 100%;\r\n}\r\n\r\n.topic-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #FFF;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.topic-action:hover {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n\r\n.topic-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 6px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 1px;\r\n}\r\n\r\n.content-actions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.content-static, .content-editable {\r\n  max-height: 275px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.content-static {\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 13px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.content-static.space-above {\r\n  margin-top: 30px;\r\n}\r\n\r\n.content-placeholder {\r\n  color: #444;\r\n  white-space: normal;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./topicList.vue?vue&type=template&id=109018ef&scoped=true&\"\nimport script from \"./topicList.vue?vue&type=script&lang=js&\"\nexport * from \"./topicList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"109018ef\",\n  null\n  \n)\n\ncomponent.options.__file = \"topicList.vue\"\nexport default component.exports","export const UPDATE_SELECTION = 'UPDATE_SELECTION'\r\n\r\nconst store = {\r\n  state: {\r\n    selection: {\r\n      range: null,\r\n      text: '',\r\n    },\r\n  },\r\n  mutations: {\r\n    [UPDATE_SELECTION](state, selection) {\r\n      state.selection = selection\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showActions),expression:\"showActions\"}],staticClass:\"actions\"},[_c('div',{staticClass:\"define-icon\",domProps:{\"innerHTML\":_vm._s(_vm.defineIcon)}}),_c('div',{staticClass:\"define-buttons\"},[_c('a',{staticClass:\"define-link\",attrs:{\"href\":_vm.gDefineUrl,\"target\":\"_blank\"}},[_c('button',{staticClass:\"define-button\"},[_vm._v(\"Define\")])]),_c('a',{staticClass:\"define-link\",attrs:{\"href\":_vm.gSynonymUrl,\"target\":\"_blank\"}},[_c('button',{staticClass:\"define-button\"},[_vm._v(\"Synonyms\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div \r\n      class=\"actions\" \r\n      v-show=\"showActions\">\r\n      <div \r\n        class=\"define-icon\" \r\n        v-html=\"defineIcon\"/>\r\n      <div class=\"define-buttons\">\r\n        <a \r\n          class=\"define-link\" \r\n          :href=\"gDefineUrl\" \r\n          target=\"_blank\">\r\n          <button class=\"define-button\">Define</button>\r\n        </a>\r\n        <a \r\n          class=\"define-link\" \r\n          :href=\"gSynonymUrl\" \r\n          target=\"_blank\">\r\n          <button class=\"define-button\">Synonyms</button>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Octicons from 'octicons'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {\r\n    gDefineUrl() {\r\n      const urlWord = this.word.trim().replace(/\\s+/g, '+')\r\n      return `https://www.google.com/#q=define+${urlWord}`\r\n    },\r\n    gSynonymUrl() {\r\n      const urlWord = encodeURI(this.word.trim())\r\n      return `http://www.thesaurus.com/browse/${urlWord}`\r\n    },\r\n    showActions() {\r\n      return !!this.word.trim()\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      defineIcon: Octicons.book.toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      linkIcon: Octicons['link-external'].toSVG({\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n      xIcon: Octicons.x.toSVG({\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n    }\r\n  },\r\n  methods: {},\r\n  props: {\r\n    word: {\r\n      required: true,\r\n      type: String\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.actions {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  bottom: 0;\r\n  height: 50px;\r\n  pointer-events: auto;\r\n  position: absolute;\r\n  right: 16px;\r\n  width: 50px;\r\n}\r\n\r\n.define-icon {\r\n  align-items: center;\r\n  display: flex;\r\n  fill: #444;\r\n  height: 100%;\r\n  justify-content: center;\r\n  opacity: 1;\r\n  transition: opacity 100ms;\r\n  z-index: 1;\r\n}\r\n\r\n.actions:hover .define-icon {\r\n  opacity: 0;\r\n}\r\n\r\n.define-buttons {\r\n  align-items: flex-end;\r\n  background-color: #FFF;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  opacity: 0;\r\n  right: 0;\r\n  transition: opacity 100ms;\r\n  z-index: 10;\r\n}\r\n\r\n.actions:hover .define-buttons {\r\n  pointer-events: auto;\r\n  opacity: 1;\r\n}\r\n\r\n.define-link {\r\n  width: 100%;\r\n}\r\n\r\n.define-button {\r\n  background-color: #CCC;\r\n  border: none;\r\n  border-radius: 0;\r\n  transition: background-color 100ms;\r\n  width: 100%;\r\n}\r\n\r\n.define-button:hover {\r\n  background-color: #AAA;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wordDefine.vue?vue&type=template&id=8eeb2360&scoped=true&\"\nimport script from \"./wordDefine.vue?vue&type=script&lang=js&\"\nexport * from \"./wordDefine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eeb2360\",\n  null\n  \n)\n\ncomponent.options.__file = \"wordDefine.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.workshops.length > 0),expression:\"workshops.length > 0\"}],staticClass:\"workshops-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activeWorkshopNameIndex,\"data-array\":_vm.workshopNameTabs,\"filter-tabs\":function () { return true; },\"item-name\":\"Workshop\",\"can-add\":false},on:{\"update:activeIndex\":_vm.selectWorkshopNameIndex}}),_c('div',{staticClass:\"workshop-list\"},[_c('div',{staticClass:\"workshop-list-header\"},[_c('div',{staticClass:\"workshop-list-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.currentWorkshopDisplayName)+\"\\n      \")])]),_c('div',{staticClass:\"workshop-list-body\"},[_c('div',{staticClass:\"workshop-select\"},[_c('div',{staticClass:\"workshop-select-label\"},[_vm._v(\"\\n          Select a workshop:\\n        \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedWorkshopGuid),expression:\"selectedWorkshopGuid\"}],staticClass:\"workshop-select-dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedWorkshopGuid=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableWorkshops),function(workshop){return (_vm.filterWorkshops(workshop))?_c('option',{key:workshop.guid,domProps:{\"value\":workshop.guid}},[_vm._v(\"\\n            \"+_vm._s(workshop.title)+\"\\n          \")]):_vm._e()}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeWorkshopsTitle),expression:\"activeWorkshopsTitle\"}],staticClass:\"workshops\"},[_c('div',{staticClass:\"workshop\"},[_c('div',{staticClass:\"workshop-header\"},[_c('div',{staticClass:\"workshop-title\"},[_vm._v(\"\\n              \"+_vm._s(_vm.activeWorkshopsTitle)+\" (\"+_vm._s(_vm.activeWorkshopsDate)+\")\\n            \")]),_c('div',{staticClass:\"workshop-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.firstActiveWorkshop.archived),expression:\"!firstActiveWorkshop.archived\"}],staticClass:\"workshop-action\",on:{\"click\":function($event){_vm.archiveActiveWorkshops()}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstActiveWorkshop.archived),expression:\"firstActiveWorkshop.archived\"}],staticClass:\"workshop-action\",on:{\"click\":function($event){_vm.restoreActiveWorkshops()}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstActiveWorkshop.archived),expression:\"firstActiveWorkshop.archived\"}],staticClass:\"workshop-action button-red\",on:{\"click\":function($event){_vm.deleteActiveWorkshops()}}},[_vm._v(\"Delete Forever\")])])]),_vm._l((_vm.activeWorkshops),function(workshop){return _c('div',{key:((workshop.guid) + \"|\" + (workshop.order)),staticClass:\"workshop-content\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(workshop))}})])})],2)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"workshops-wrap\" \r\n    v-show=\"workshops.length > 0\">\r\n    <tabs-list \r\n      :active-index=\"activeWorkshopNameIndex\" \r\n      :data-array=\"workshopNameTabs\" \r\n      :filter-tabs=\"() => true\"\r\n      item-name=\"Workshop\"\r\n      :can-add=\"false\"\r\n      @update:activeIndex=\"selectWorkshopNameIndex\"/>\r\n    <div class=\"workshop-list\">\r\n      <div class=\"workshop-list-header\">\r\n        <div class=\"workshop-list-title\">\r\n          {{ currentWorkshopDisplayName }}\r\n        </div>\r\n      </div>\r\n      <div class=\"workshop-list-body\">\r\n        <div class=\"workshop-select\">\r\n          <div class=\"workshop-select-label\">\r\n            Select a workshop:\r\n          </div>\r\n          <select \r\n            class=\"workshop-select-dropdown\" \r\n            v-model=\"selectedWorkshopGuid\">\r\n            <option \r\n              v-for=\"workshop in selectableWorkshops\" \r\n              v-if=\"filterWorkshops(workshop)\" \r\n              :key=\"workshop.guid\" \r\n              :value=\"workshop.guid\">\r\n              {{ workshop.title }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div \r\n          class=\"workshops\" \r\n          v-show=\"activeWorkshopsTitle\">\r\n          <div class=\"workshop\">\r\n            <div class=\"workshop-header\">\r\n              <div class=\"workshop-title\">\r\n                {{ activeWorkshopsTitle }} ({{ activeWorkshopsDate }})\r\n              </div>\r\n              <div class=\"workshop-actions\">\r\n                <button \r\n                  class=\"workshop-action\" \r\n                  v-show=\"!firstActiveWorkshop.archived\" \r\n                  @click=\"archiveActiveWorkshops()\">Archive</button>\r\n                <button \r\n                  class=\"workshop-action\" \r\n                  v-show=\"firstActiveWorkshop.archived\" \r\n                  @click=\"restoreActiveWorkshops()\">Restore</button>\r\n                <button \r\n                  class=\"workshop-action button-red\" \r\n                  v-show=\"firstActiveWorkshop.archived\" \r\n                  @click=\"deleteActiveWorkshops()\">Delete Forever</button>\r\n              </div>\r\n            </div>\r\n            <div \r\n              class=\"workshop-content\" \r\n              v-for=\"workshop in activeWorkshops\" \r\n              :key=\"`${workshop.guid}|${workshop.order}`\">\r\n              <div v-html=\"getHtml(workshop)\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ARCHIVE_WORKSHOP, DELETE_WORKSHOP, RESTORE_WORKSHOP } from '../shared/workshops.store'\r\nimport { GetHtml } from '../shared/deltaParser'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport uniq from 'lodash/uniq'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nexport default {\r\n  components: {\r\n    TabsList,\r\n  },\r\n  computed: {\r\n    currentWorkshopDisplayName() {\r\n      return writingWorkshops[this.currentWorkshopName].displayName\r\n    },\r\n    currentWorkshopName() {\r\n      if (this.activeWorkshopNameIndex === -1) {\r\n        return this.workshopNames[0]\r\n      }\r\n\r\n      return this.workshopNames[this.activeWorkshopNameIndex] || {}\r\n    },\r\n    activeWorkshops() {\r\n      return this.viewingWorkshops.filter(workshop => workshop.guid === this.selectedWorkshopGuid)\r\n    },\r\n    activeWorkshopsDate() {\r\n      return this.activeWorkshops && this.activeWorkshops.length && new Date(this.activeWorkshops[0].date).toLocaleDateString()\r\n    },\r\n    activeWorkshopsTitle() {\r\n      return this.firstActiveWorkshop.title\r\n    },\r\n    firstActiveWorkshop() {\r\n      return (this.activeWorkshops && this.activeWorkshops.length && this.activeWorkshops[0]) || {}\r\n    },\r\n    selectableWorkshops() {\r\n      return this.viewingWorkshops.filter(workshop => workshop.order === 0).slice(0).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())\r\n    },\r\n    viewingWorkshops() {\r\n      return this.workshops.filter(workshop => workshop.workshopName === this.currentWorkshopName)\r\n    },\r\n    workshopNames() {\r\n      return uniq(this.workshops.map(workshop => workshop.workshopName))\r\n    },\r\n    workshopNameTabs() {\r\n      return this.workshopNames.map(name => ({ title: writingWorkshops[name].displayName }))\r\n    },\r\n    workshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeWorkshopNameIndex: -1,\r\n      selectedWorkshopGuid: null,\r\n    }\r\n  },\r\n  methods: {\r\n    archiveActiveWorkshops() {\r\n      for (const workshop of this.activeWorkshops) {\r\n        this.$store.commit(ARCHIVE_WORKSHOP, { workshop })\r\n      }\r\n    },\r\n    deleteActiveWorkshops() {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this workshop? All of its content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n        for (const workshop of this.activeWorkshops) {\r\n          this.$store.commit(DELETE_WORKSHOP, { workshop })\r\n        }\r\n\r\n        if (!(this.selectableWorkshops && this.selectableWorkshops.length)) {\r\n          this.selectWorkshopNameIndex(-1)\r\n          return\r\n        }\r\n\r\n        this.selectedWorkshopGuid = this.selectableWorkshops[0].guid\r\n      })\r\n    },\r\n    getHtml(workshop) {\r\n      return GetHtml(workshop.content)\r\n    },\r\n    restoreActiveWorkshops() {\r\n      for (const workshop of this.activeWorkshops) {\r\n        this.$store.commit(RESTORE_WORKSHOP, { workshop })\r\n      }\r\n    },\r\n    // The following two methods are available for use by parent components\r\n    selectWorkshopGuid(guid) {\r\n      this.selectedWorkshopGuid = guid\r\n    },\r\n    selectWorkshopName(name) {\r\n      this.activeWorkshopNameIndex = this.workshopNames.indexOf(name)\r\n    },\r\n    selectWorkshopNameIndex(index) {\r\n      if (index === -1) {\r\n        index = 0\r\n        this.selectDefaultWorkshop()\r\n      }\r\n\r\n      this.activeWorkshopNameIndex = index\r\n    },\r\n    selectDefaultWorkshop() {\r\n      if (!this.viewingWorkshops || !this.viewingWorkshops.length) {\r\n        return\r\n      }\r\n\r\n      this.selectedWorkshopGuid = this.viewingWorkshops[0].guid\r\n    },\r\n  },\r\n  mounted() {\r\n    this.selectDefaultWorkshop()\r\n  },\r\n  props: {\r\n    filterWorkshops: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.workshop-list {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.workshop-list-header {\r\n  align-items: center;\r\n  background-color: rgba(1, 171, 109, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.workshop-list-title {\r\n  flex: 1;\r\n}\r\n\r\n.workshop-list-body {\r\n  background-color: rgba(1, 171, 109, 0.05);\r\n}\r\n\r\n.workshop-select {\r\n  padding: 12px 6px;\r\n}\r\n\r\n.workshop-select-label {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.workshop-select-dropdown {\r\n  border: 1px solid #BBB;\r\n}\r\n\r\n.workshops {\r\n  padding: 8px;\r\n}\r\n\r\n.workshop {\r\n  border: 1px solid rgba(1, 171, 109, 1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.workshop-header {\r\n  align-items: center;\r\n  background-color: rgba(1, 171, 109, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.workshop-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n}\r\n\r\n.workshop-actions {\r\n  height: 100%;\r\n}\r\n\r\n.workshop-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #fff;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.workshop-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.workshop-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workshopList.vue?vue&type=template&id=41a6efe2&scoped=true&\"\nimport script from \"./workshopList.vue?vue&type=script&lang=js&\"\nexport * from \"./workshopList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41a6efe2\",\n  null\n  \n)\n\ncomponent.options.__file = \"workshopList.vue\"\nexport default component.exports","<template>\r\n  <div class=\"composer-wrap\">\r\n    <div \r\n      class=\"composer\" \r\n      v-if=\"hasChapters\">\r\n      <div class=\"map-wrap\">\r\n        <text-map \r\n          :editor-element=\"editorElement\" \r\n          :data-stream=\"activeChapter.content\"\r\n          @select=\"selectMap\" \r\n          :mark=\"mark\"/>\r\n      </div>\r\n      <div class=\"editor-wrap\">\r\n        <tabs-list \r\n          :active-index=\"activeChapterIndex\" \r\n          :data-array=\"allChapters\" \r\n          :filter-tabs=\"isViewing\"\r\n          item-name=\"Chapter\"\r\n          @add=\"addChapter\"\r\n          @hover=\"hoverChapter\"\r\n          @unhover=\"unhoverChapter\"\r\n          @update:activeIndex=\"selectChapter\"/>\r\n        <div \r\n          class=\"below-tabs\" \r\n          ref=\"editorContainer\">\r\n          <div \r\n            class=\"stats\" \r\n            :class=\"{ 'active': showStats }\">\r\n            <div class=\"stats-content\">\r\n              <p>\r\n                <b>{{ activeChapter.title }}</b>\r\n              </p>\r\n              <p>{{ chapterWordCount }} words</p>\r\n              <p>{{ chapterParagraphCount }} paragraphs</p>\r\n              <p>{{ chapterPageCount }} pages</p>\r\n              <p>{{ chapterReadTimeMinutes }} minute read</p>\r\n              <br>\r\n              <p>\r\n                <b>{{ documentTitle }} (Full document)</b>\r\n              </p>\r\n              <p>{{ documentWordCount }} words</p>\r\n              <p>{{ documentPageCount }} pages</p>\r\n              <p>{{ documentReadTimeMinutes }} minute read</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"define\">\r\n            <word-define :word=\"mark\"/>\r\n          </div>\r\n          <quill-editor \r\n            ref=\"textEditor\" \r\n            :content=\"activeChapter.content\" \r\n            :content-id=\"activeChapter.guid\"\r\n            :scroll-to=\"scrollTo\"\r\n            :container=\"editorContainerNode\"\r\n            @update:content=\"updateContent\"\r\n            @update:selection=\"updateSelection\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"sidebar-wrap\">\r\n        <!-- Plans/Outlines/Workshops switch -->\r\n        <div class=\"sidebar-options\">\r\n          <div class=\"plan-switch\">\r\n            <button \r\n              class=\"switch-label\" \r\n              :class=\"{ 'active': sidebar === 'outline' }\" \r\n              @click=\"switchOutline()\">\r\n              <div v-html=\"outlineSvg\"/>\r\n              <div class=\"switch-label-text\">Outline</div>\r\n            </button>\r\n            <hr class=\"vert\">\r\n            <button \r\n              class=\"switch-label\" \r\n              :class=\"{ 'active': sidebar === 'plan' }\" \r\n              @click=\"switchPlans()\">\r\n              <div v-html=\"planSvg\"/>\r\n              <div class=\"switch-label-text\">Plans</div>\r\n            </button>\r\n            <template v-if=\"isPremium\">\r\n              <hr class=\"vert\">\r\n              <button \r\n                class=\"switch-label\" \r\n                :class=\"{ 'active': sidebar === 'workshop' }\" \r\n                @click=\"switchWorkshops()\">\r\n                <div v-html=\"workshopSvg\"/>\r\n                <div class=\"switch-label-text\">Workshops</div>\r\n              </button>\r\n            </template>\r\n          </div>\r\n          <div class=\"archived-filter\">\r\n            <input \r\n              id=\"showArchivedTopics\" \r\n              type=\"checkbox\" \r\n              v-model=\"filters.archived\">\r\n            <label for=\"showArchivedTopics\">Show Archived</label>\r\n          </div>\r\n        </div>\r\n        <!-- Document Plans -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'plan'\">\r\n          <template v-if=\"hasPlans\">\r\n            <plans-list \r\n              :filter-plans=\"showPlan\" \r\n              :filter-sections=\"showSection\"/>\r\n          </template>\r\n          <template v-else>\r\n            <div>No plans yet.</div>\r\n            <div>\r\n              <router-link to=\"/plan\">Start planning</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <!-- Chapter Outlines -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'outline'\">\r\n          <template v-if=\"hasTopics\">\r\n            <div class=\"topic-list-wrap\">\r\n              <topic-list \r\n                :chapter=\"activeChapter\" \r\n                :filter-topics=\"showTopic\" \r\n                :topics=\"allTopics\"/>\r\n            </div>\r\n          </template>\r\n          <template v-else>\r\n            <div>No outline yet.</div>\r\n            <div>\r\n              <router-link to=\"/outline\">Start outlining</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <!-- Workshops -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'workshop'\">\r\n          <template v-if=\"hasWorkshops\">\r\n            <workshop-list \r\n              ref=\"workshopList\" \r\n              :filter-workshops=\"showWorkshop\"/>\r\n          </template>\r\n          <template v-else>\r\n            <div>No workshops completed yet.</div>\r\n            <div>\r\n              <router-link to=\"/workshop/free-write\">Do a free write</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <div>No chapters yet.</div>\r\n      <div>\r\n        <router-link to=\"/outline\">Create one</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ADD_CHAPTER, UPDATE_CHAPTER_CONTENT } from '../shared/chapters.store'\r\nimport Cache from '../shared/cache'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport PlansList from '../shared/plansList.vue'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport TextMap from './textMap.vue'\r\nimport TopicList from '../shared/topicList.vue'\r\nimport { UPDATE_SELECTION } from './composer.store'\r\nimport { ValidateTitle } from '../shared/validate'\r\nimport VueSwitch from 'vue-switches'\r\nimport WordDefine from './wordDefine.vue'\r\nimport WorkshopList from '../shared/workshopList.vue'\r\n\r\nconst planSwitch = new Cache('COMPOSER_PLAN_SWITCH')\r\n\r\nexport default {\r\n  components: {\r\n    PlansList,\r\n    QuillEditor,\r\n    TabsList,\r\n    TextMap,\r\n    TopicList,\r\n    VueSwitch,\r\n    WordDefine,\r\n    WorkshopList,\r\n  },\r\n  computed: {\r\n    activeChapter() {\r\n      if (this.activeChapterIndex === -1) {\r\n        return this.viewingChapters[0]\r\n      }\r\n\r\n      return this.allChapters[this.activeChapterIndex] || {}\r\n    },\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics\r\n    },\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    chapterPageCount() {\r\n      return this.getPageCount(this.textContent)\r\n    },\r\n    chapterParagraphCount() {\r\n      return this.getParagraphCount(this.textContent)\r\n    },\r\n    chapterReadTimeMinutes() {\r\n      return this.getReadTimeMinutes(this.textContent)\r\n    },\r\n    chapterWordCount() {\r\n      return this.getWordCount(this.textContent)\r\n    },\r\n    documentFullText() {\r\n      return (\r\n        this.$store.state.chapters.chapters\r\n          .map(chapter => chapter.content)\r\n          .map(content => GetContentString(content))\r\n          .join(' ')\r\n      )\r\n    },\r\n    documentPageCount() {\r\n      return this.getPageCount(this.documentFullText)\r\n    },\r\n    documentReadTimeMinutes() {\r\n      return this.getReadTimeMinutes(this.documentFullText)\r\n    },\r\n    documentTitle() {\r\n      return this.$store.state.document.currentDocument.name\r\n    },\r\n    documentWordCount() {\r\n      return this.getWordCount(this.documentFullText)\r\n    },\r\n    hasChapters() {\r\n      return this.viewingChapters && this.viewingChapters.length\r\n    },\r\n    hasPlans() {\r\n      return this.allPlans && this.allPlans.length\r\n    },\r\n    hasTopics() {\r\n      return this.allTopics && this.allTopics.length\r\n    },\r\n    hasWorkshops() {\r\n      return this.allWorkshops && this.allWorkshops.length\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n    mark() {\r\n      return this.selection.text\r\n    },\r\n    selection() {\r\n      return this.$store.state.composer.selection\r\n    },\r\n    textContent() {\r\n      return GetContentString(this.activeChapter.content)\r\n    },\r\n    viewingChapters() {\r\n      return this.allChapters.filter(chapter => !chapter.archived)\r\n    },\r\n    viewingPlans() {\r\n      return (this.allPlans\r\n        .filter(plan => !plan.archived || this.filters.archived))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeChapterIndex: -1,\r\n      editorContainerNode: null,\r\n      editorElement: null,\r\n      filters: {\r\n        archived: false,\r\n      },\r\n      newChapter: '',\r\n      outlineSvg: Octicons['list-unordered'].toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      planSvg: Octicons.telescope.toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      workshopSvg: Octicons.tools.toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      scrollTo: {\r\n        paragraphIndex: -1,\r\n        searchTermIndex: -1,\r\n      },\r\n      sidebar: 'outline',\r\n      showStats: false,\r\n    }\r\n  },\r\n  methods: {\r\n    addChapter(title) {\r\n      if (!ValidateTitle('chapter', title)) {\r\n        return\r\n      }\r\n\r\n      const chapter = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }\r\n\r\n      this.$store.commit(ADD_CHAPTER, { chapter })\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    getReadTimeMinutes(str) {\r\n      return Math.ceil(this.getWordCount(str) / 275)\r\n    },\r\n    getPageCount(str) {\r\n      return Math.ceil(this.getWordCount(str) / 300)\r\n    },\r\n    getParagraphCount(str) {\r\n      return (str.match(/[\\n]+/g) || []).length\r\n    },\r\n    getWordCount(str) {\r\n      return (str.match(/[^\\s]+/g) || []).length\r\n    },\r\n    hoverChapter() {\r\n      this.showStats = true\r\n    },\r\n    isActive(index) {\r\n      return index === this.activeChapterIndex\r\n    },\r\n    isViewing(chapter) {\r\n      return !chapter.archived || this.filters.archived\r\n    },\r\n    selectChapter(index) {\r\n      // If no active chapter has been set, default to the first one\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      // If viewing an archived chapter but \"show archived\" is false\r\n      if (this.allChapters[index].archived && !this.filters.archived) {\r\n        index = this.allChapters.indexOf(this.viewingChapters[0])\r\n      }\r\n\r\n      this.activeChapterIndex = index\r\n    },\r\n    selectMap(descriptor) {\r\n      this.scrollTo = descriptor\r\n    },\r\n    showPlan(plan) {\r\n      return this.viewingPlans.includes(plan)\r\n    },\r\n    showSection(section) {\r\n      return !section.archived || this.filters.archived\r\n    },\r\n    showTopic(chapterTopic) {\r\n      const masterTopic = this.getMasterTopic(chapterTopic)\r\n      return !masterTopic || !masterTopic.archived || this.filters.archived\r\n    },\r\n    showWorkshop(workshop) {\r\n      return !workshop.archived || this.filters.archived\r\n    },\r\n    switchOutline() {\r\n      this.sidebar = 'outline'\r\n      planSwitch.cacheSet('outline')\r\n    },\r\n    switchPlans() {\r\n      this.sidebar = 'plan'\r\n      planSwitch.cacheSet('plan')\r\n    },\r\n    switchWorkshops() {\r\n      this.sidebar = 'workshop'\r\n      planSwitch.cacheSet('workshop')\r\n    },\r\n    unhoverChapter() {\r\n      this.showStats = false\r\n    },\r\n    updateContent({ content: newContent, contentId: guid }) {\r\n      const chapter = this.allChapters.find(chapter => chapter.guid === guid)\r\n      if (!chapter) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_CHAPTER_CONTENT, {\r\n        chapter,\r\n        newContent,\r\n      })\r\n    },\r\n    updateSelection(selection) {\r\n      this.$store.commit(UPDATE_SELECTION, selection)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.editorContainerNode = this.$refs.editorContainer\r\n    this.editorElement = this.$refs.textEditor\r\n    this.sidebar = planSwitch.cacheGet() || 'outline'\r\n\r\n    const chapterGuid = this.$route.query.chapter\r\n    if (chapterGuid) {\r\n      const activeChapter = this.allChapters.find(chapter => chapter.guid === chapterGuid)\r\n      if (activeChapter.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.selectChapter(this.allChapters.indexOf(activeChapter) || -1)\r\n    }\r\n\r\n    const workshopGuid = this.$route.query.workshop\r\n    const workshopName = this.$route.query.workshopName\r\n    if (workshopName && workshopGuid) {\r\n      this.switchWorkshops()\r\n      const activeWorkshop = this.allWorkshops.find(workshop => workshop.guid === workshopGuid)\r\n      if (activeWorkshop.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.$refs.workshopList.selectWorkshopName(workshopName)\r\n      this.$refs.workshopList.selectWorkshopGuid(workshopGuid)\r\n    }\r\n\r\n    this.$router.replace('/write')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.composer-wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  min-height: 300px;\r\n  width: 100%;\r\n}\r\n\r\n.composer {\r\n  display: flex;\r\n  flex: 1;\r\n  max-width: 1500px;\r\n}\r\n\r\n.map-wrap {\r\n  display: flex;\r\n  height: 100%;\r\n  margin-right: 20px;\r\n  width: 160px;\r\n  z-index: 25;\r\n}\r\n\r\n.editor-wrap {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  margin-right: 20px;\r\n  position: relative;\r\n}\r\n\r\n.below-tabs {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.stats {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  bottom: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  transition: opacity 100ms;\r\n  width: 100%;\r\n  z-index: 15;\r\n}\r\n\r\n.stats.active {\r\n  opacity: 1;\r\n}\r\n\r\n.stats-content {\r\n  height: 100%;\r\n  padding: 12px;\r\n  width: 100%;\r\n}\r\n\r\n.define {\r\n  bottom: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 15;\r\n\r\n}\r\n\r\n.sidebar-wrap {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 300px;\r\n}\r\n\r\n.sidebar-content {\r\n  overflow: auto;\r\n}\r\n\r\n.sidebar-options {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  min-height: 60px;\r\n  max-height: 60px;\r\n}\r\n\r\n.plan-switch {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 35px;\r\n  margin-bottom: 6px;\r\n  margin-top: 6px;\r\n}\r\n\r\n.switch-label {\r\n  align-items: center;\r\n  border: none;\r\n  color: #888;\r\n  cursor: pointer;\r\n  display: flex;\r\n  fill: #888;\r\n  flex-direction: column;\r\n  font-size: 16px;\r\n  margin: 0 4px;\r\n  transition: color 100ms, fill 100ms;\r\n}\r\n\r\n.switch-label:hover {\r\n  color: #000;\r\n  fill: #000;\r\n}\r\n\r\n.switch-label.active {\r\n  color: #000;\r\n  fill: #000;\r\n}\r\n\r\n.switch-label-text {\r\n  margin: 0 12px;\r\n}\r\n\r\n.archived-filter {\r\n  align-items: center;\r\n  align-self: flex-start;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 8px;\r\n}\r\n\r\n.topic-list-wrap {\r\n  overflow: auto;\r\n}\r\n\r\n/* MOBILE */\r\n@media (max-width: 800px) {\r\n  .map-wrap {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media (max-width: 700px) {\r\n  .sidebar-wrap {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./composer.page.vue?vue&type=template&id=2105d8d6&scoped=true&\"\nimport script from \"./composer.page.vue?vue&type=script&lang=js&\"\nexport * from \"./composer.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2105d8d6\",\n  null\n  \n)\n\ncomponent.options.__file = \"composer.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"document\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\"\\n        \\\"\"+_vm._s(_vm.documentName)+\"\\\"\\n      \")])]),_c('div',{staticClass:\"actions\"},[_c('label',{staticClass:\"name-label\",attrs:{\"for\":\"documentNameInput\"}},[_vm._v(\"Change document name:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocumentName),expression:\"newDocumentName\"}],staticClass:\"name-input\",attrs:{\"id\":\"documentNameInput\",\"type\":\"text\"},domProps:{\"value\":(_vm.newDocumentName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newDocumentName=$event.target.value}}}),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.saveDocumentName()}}},[_vm._v(\"Save\")])])]),_c('hr'),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"button-red\",on:{\"click\":function($event){_vm.deleteDocument()}}},[_vm._v(\"Delete Document\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"document\">\r\n      <div class=\"title\">\r\n        <h3>\r\n          \"{{ documentName }}\"\r\n        </h3>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <label \r\n          class=\"name-label\" \r\n          for=\"documentNameInput\">Change document name:</label>\r\n        <div>\r\n          <input \r\n            class=\"name-input\" \r\n            id=\"documentNameInput\" \r\n            type=\"text\" \r\n            v-model=\"newDocumentName\">\r\n          <button \r\n            class=\"button-green\" \r\n            @click=\"saveDocumentName()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <div class=\"actions\">\r\n        <button \r\n          class=\"button-red\" \r\n          @click=\"deleteDocument()\">Delete Document</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nimport { DELETE_DOCUMENT, UPDATE_DOCUMENT_NAME } from '../shared/document.store'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {\r\n    documentGuid() {\r\n      return this.$store.state.document.currentDocument.guid\r\n    },\r\n    documentName() {\r\n      return this.$store.state.document.currentDocument.name\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newDocumentName: '',\r\n    }\r\n  },\r\n  methods: {\r\n    deleteDocument() {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this document? All plans, outlines, and chapters will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.dispatch(DELETE_DOCUMENT, { guid: this.documentGuid })\r\n      })\r\n    },\r\n    saveDocumentName() {\r\n      this.$store.commit(UPDATE_DOCUMENT_NAME, { guid: this.documentGuid, name: this.newDocumentName })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.newDocumentName = this.documentName\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.document {\r\n  background-color: #FFF;\r\n  border-radius: 5px;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n  overflow: auto;\r\n  padding: 15px;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.name-label {\r\n  display: inline-block;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.name-input {\r\n  margin-right: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentEdit.page.vue?vue&type=template&id=fcb1d9b4&scoped=true&\"\nimport script from \"./documentEdit.page.vue?vue&type=script&lang=js&\"\nexport * from \"./documentEdit.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcb1d9b4\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentEdit.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outliner-wrap\"},[_c('div',{staticClass:\"outliner\"},[_c('div',{staticClass:\"filters\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],attrs:{\"id\":\"showArchivedCheckbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedCheckbox\"}},[_vm._v(\"Show Archived\")])]),_c('hr'),_c('div',{staticClass:\"chips-wrap chapter-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Chapters\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpChapterChipsNode, 'Chapter List')}}})]),_c('chips-list',{attrs:{\"name\":\"Chapter\",\"name-prop\":\"title\",\"data-array\":_vm.allChapters,\"filter-chips\":_vm.showChapter,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addChapter,\"delete\":_vm.archiveChapter,\"rearrange\":_vm.rearrangeChapter,\"restore\":_vm.restoreChapter,\"update\":_vm.renameChapter}})],1),_c('div',{staticClass:\"chips-wrap topic-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Topics\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpTopicChipsNode, 'Topic List')}}})]),_c('chips-list',{attrs:{\"name\":\"Topic\",\"name-prop\":\"title\",\"data-array\":_vm.allTopics,\"filter-chips\":_vm.showTopic,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addTopic,\"delete\":_vm.archiveTopic,\"rearrange\":_vm.rearrangeTopic,\"restore\":_vm.restoreTopic,\"update\":_vm.renameTopic}})],1),_c('hr'),(_vm.viewingChapters.length > 0)?_c('div',{staticClass:\"chapters\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Outline\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpChapterBlocksNode, 'Outline')}}})]),_c('tabs-list',{attrs:{\"active-index\":_vm.activeChapterIndex,\"data-array\":_vm.allChapters,\"filter-tabs\":_vm.showChapter,\"item-name\":\"Chapter\"},on:{\"add\":_vm.addChapter,\"update:activeIndex\":_vm.selectChapter}}),(_vm.activeChapter)?_c('div',{staticClass:\"chapter\"},[_c('div',{staticClass:\"chapter-head\",class:{ 'light': _vm.activeChapter.archived }},[_c('h4',{staticClass:\"chapter-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.activeChapter.title)+\"\\n          \")]),_c('div',{staticClass:\"chapter-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeChapter.archived),expression:\"!activeChapter.archived\"}],staticClass:\"chapter-action\",on:{\"click\":function($event){_vm.archiveChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeChapter.archived),expression:\"activeChapter.archived\"}],staticClass:\"chapter-action\",on:{\"click\":function($event){_vm.restoreChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeChapter.archived),expression:\"activeChapter.archived\"}],staticClass:\"chapter-action button-red\",on:{\"click\":function($event){_vm.deleteChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"chapter-content\"},[_c('topic-list',{attrs:{\"chapter\":_vm.activeChapter,\"filter-topics\":_vm.showTopic,\"topics\":_vm.allTopics}})],1)]):_vm._e()],1):_vm._e()]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpChapterChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the chapter list. It's the easiest place to add, archive, restore, rename, and rearrange chapters.\")]),_c('p',[_vm._v(\"To add a chapter, type its name into the \\\"New Chapter\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a chapter, click the \\\"X\\\" next to its name in the list.\\n        Archiving a chapter removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived chapter, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a chapter, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a chapter, click and drag it to where you want it to go.\")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpTopicChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the topic list. It's the easiest place to add, archive, restore, rename, and rearrange topics.\")]),_c('p',[_vm._v(\"To add a topic, type its name into the \\\"New Topic\\\" box and click \\\"Add\\\". It will show up in every chapter in the \\\"Outline\\\" section.\")]),_c('p',[_vm._v(\"\\n        To archive a topic, click the \\\"X\\\" next to its name in the list.\\n        Archiving a topic removes it from all chapters without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived topic, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a topic, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a topic, click and drag it to where you want it to go.\")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpChapterBlocksModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is where the real work happens. Each of your chapters has a block below, with a section for each topic.\")]),_c('p',[_vm._v(\"\\n        A \\\"topic\\\" can be a character arc, a list of subpoints, citations you've found in your research, or really anything\\n        that you want to keep handy while you write. Everything you outline here will be visible on the Write page, next to\\n        the main editor.\\n      \")]),_c('p',[_vm._v(\"\\n        You can update these topics any time you want.\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"outliner-wrap\">\r\n    <div class=\"outliner\">\r\n      <!-- Filters -->\r\n      <div class=\"filters\">\r\n        <input \r\n          id=\"showArchivedCheckbox\" \r\n          type=\"checkbox\" \r\n          v-model=\"filters.archived\" >\r\n        <label for=\"showArchivedCheckbox\">Show Archived</label>\r\n      </div>\r\n      <hr>\r\n      <!-- Chapter Chips -->\r\n      <div class=\"chips-wrap chapter-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Chapters</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpChapterChipsNode, 'Chapter List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Chapter\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allChapters\"\r\n          :filter-chips=\"showChapter\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addChapter\"\r\n          @delete=\"archiveChapter\"\r\n          @rearrange=\"rearrangeChapter\"\r\n          @restore=\"restoreChapter\"\r\n          @update=\"renameChapter\"/>\r\n      </div>\r\n      <!-- Topic Chips -->\r\n      <div class=\"chips-wrap topic-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Topics</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpTopicChipsNode, 'Topic List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Topic\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allTopics\"\r\n          :filter-chips=\"showTopic\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addTopic\"\r\n          @delete=\"archiveTopic\"\r\n          @rearrange=\"rearrangeTopic\"\r\n          @restore=\"restoreTopic\"\r\n          @update=\"renameTopic\"/>\r\n      </div>\r\n      <hr>\r\n      <div \r\n        class=\"chapters\" \r\n        v-if=\"viewingChapters.length > 0\">\r\n        <div class=\"section-title\">\r\n          <h3>Outline</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpChapterBlocksNode, 'Outline')\"/>\r\n        </div>\r\n        <!-- Chapters > Topics -->\r\n        <tabs-list \r\n          :active-index=\"activeChapterIndex\" \r\n          :data-array=\"allChapters\" \r\n          :filter-tabs=\"showChapter\"\r\n          item-name=\"Chapter\"\r\n          @add=\"addChapter\"\r\n          @update:activeIndex=\"selectChapter\"/>\r\n        <div \r\n          class=\"chapter\" \r\n          v-if=\"activeChapter\">\r\n          <div \r\n            class=\"chapter-head\" \r\n            :class=\"{ 'light': activeChapter.archived }\">\r\n            <h4 class=\"chapter-title\">\r\n              {{ activeChapter.title }}\r\n            </h4>\r\n            <div class=\"chapter-actions\">\r\n              <button \r\n                class=\"chapter-action\" \r\n                v-show=\"!activeChapter.archived\" \r\n                @click=\"archiveChapter({ index: activeChapterIndex })\">Archive</button>\r\n              <button \r\n                class=\"chapter-action\" \r\n                v-show=\"activeChapter.archived\" \r\n                @click=\"restoreChapter({ index: activeChapterIndex })\">Restore</button>\r\n              <button \r\n                class=\"chapter-action button-red\" \r\n                v-show=\"activeChapter.archived\" \r\n                @click=\"deleteChapter({ index: activeChapterIndex })\">Delete Forever</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"chapter-content\">\r\n            <topic-list \r\n              :chapter=\"activeChapter\" \r\n              :filter-topics=\"showTopic\" \r\n              :topics=\"allTopics\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chapters: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpChapterChipsModal\">\r\n        <p>This is the chapter list. It's the easiest place to add, archive, restore, rename, and rearrange chapters.</p>\r\n        <p>To add a chapter, type its name into the \"New Chapter\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a chapter, click the \"X\" next to its name in the list.\r\n          Archiving a chapter removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived chapter, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a chapter, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a chapter, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Topics: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpTopicChipsModal\">\r\n        <p>This is the topic list. It's the easiest place to add, archive, restore, rename, and rearrange topics.</p>\r\n        <p>To add a topic, type its name into the \"New Topic\" box and click \"Add\". It will show up in every chapter in the \"Outline\" section.</p>\r\n        <p>\r\n          To archive a topic, click the \"X\" next to its name in the list.\r\n          Archiving a topic removes it from all chapters without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived topic, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a topic, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a topic, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chapter blocks: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpChapterBlocksModal\">\r\n        <p>This is where the real work happens. Each of your chapters has a block below, with a section for each topic.</p>\r\n        <p>\r\n          A \"topic\" can be a character arc, a list of subpoints, citations you've found in your research, or really anything\r\n          that you want to keep handy while you write. Everything you outline here will be visible on the Write page, next to\r\n          the main editor.\r\n        </p>\r\n        <p>\r\n          You can update these topics any time you want.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_CHAPTER, ADD_TOPIC, ARCHIVE_CHAPTER, ARCHIVE_TOPIC,\r\n  DELETE_CHAPTER, REARRANGE_CHAPTERS, REARRANGE_TOPICS,\r\n  RESTORE_CHAPTER, RESTORE_TOPIC, UPDATE_CHAPTER, UPDATE_TOPIC,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport TopicList from '../shared/topicList.vue'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    TabsList,\r\n    TopicList,\r\n  },\r\n  computed: {\r\n    activeChapter() {\r\n      if (this.activeChapterIndex === -1) {\r\n        return null\r\n      }\r\n\r\n      return this.allChapters[this.activeChapterIndex]\r\n    },\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics || []\r\n    },\r\n    viewingChapters() {\r\n      return (this.allChapters\r\n        .filter(chapter => !chapter.archived || this.filters.archived))\r\n        .filter(chapter => !this.filters.chapter ||\r\n                chapter.title.toLowerCase().includes(this.filters.chapter.toLowerCase()))\r\n    },\r\n    viewingTopicsFilteredArchived() {\r\n      return (this.allTopics.filter(topic => !topic.archived || this.filters.archived))\r\n    },\r\n    viewingTopicsFilteredTitle() {\r\n      return this.allTopics.filter((topic) => {\r\n        if (!this.filters.topic) {\r\n          return true\r\n        }\r\n\r\n        const filter = this.filters.topic.toLowerCase()\r\n        const title = topic.title.toLowerCase()\r\n\r\n        return title.includes(filter)\r\n      })\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeChapterIndex: -1,\r\n      addSvg: Octicons.plus.toSVG({\r\n        class: 'add-icon--svg',\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      expandSvg: Octicons['chevron-down'].toSVG({\r\n        height: 18,\r\n        width: 18,\r\n      }),\r\n      filters: {\r\n        archived: false,\r\n        chapter: '',\r\n        topic: '',\r\n      },\r\n      filtersVisible: false,\r\n      helpChapterBlocksNode: null,\r\n      helpChapterChipsNode: null,\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n      helpTopicChipsNode: null,\r\n    }\r\n  },\r\n  methods: {\r\n    addChapter(title) {\r\n      if (!ValidateTitle('chapter', title)) {\r\n        return\r\n      }\r\n\r\n      const chapter = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }\r\n\r\n      this.$store.commit(ADD_CHAPTER, { chapter })\r\n    },\r\n    addTopic(title) {\r\n      if (!ValidateTitle('topic', title)) {\r\n        return\r\n      }\r\n\r\n      const topic = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n      }\r\n\r\n      this.$store.commit(ADD_TOPIC, { topic })\r\n    },\r\n    archiveChapter({ index }) {\r\n      this.$store.commit(ARCHIVE_CHAPTER, { chapter: this.allChapters[index] })\r\n\r\n      if (index === this.activeChapterIndex && !this.filters.archived) {\r\n        this.selectChapter(-1)\r\n      }\r\n    },\r\n    archiveTopic({ index }) {\r\n      this.$store.commit(ARCHIVE_TOPIC, { topic: this.allTopics[index] })\r\n    },\r\n    deleteChapter({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Are you sure you want to delete this chapter? Its outline and all of its written content (from the Write page)\r\n               will be lost. This cannot be undone.`,\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_CHAPTER, { chapter: this.allChapters[index] })\r\n\r\n        if (index === this.activeChapterIndex) {\r\n          this.selectChapter(-1)\r\n        }\r\n      })\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    rearrangeChapter(chapters) {\r\n      this.$store.commit(REARRANGE_CHAPTERS, { chapters })\r\n    },\r\n    rearrangeTopic(topics) {\r\n      this.$store.commit(REARRANGE_TOPICS, { topics })\r\n    },\r\n    renameChapter({ index, value: newTitle }) {\r\n      if (!ValidateTitle('chapter', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_CHAPTER, {\r\n        chapter: this.allChapters[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    renameTopic({ index, value: newTitle }) {\r\n      if (!ValidateTitle('topic', newTitle)) {\r\n        return\r\n      }\r\n\r\n      const topic = this.allTopics[index]\r\n\r\n      this.$store.commit(UPDATE_TOPIC, {\r\n        topic,\r\n        newTitle,\r\n      })\r\n    },\r\n    restoreChapter({ index }) {\r\n      this.$store.commit(RESTORE_CHAPTER, { chapter: this.allChapters[index] })\r\n    },\r\n    restoreTopic({ index }) {\r\n      this.$store.commit(RESTORE_TOPIC, { topic: this.allTopics[index] })\r\n    },\r\n    selectChapter(index) {\r\n      // If no active chapter has been set, default to the first one\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      // If viewing an archived chapter but \"show archived\" is false\r\n      if (this.allChapters[index].archived && !this.filters.archived) {\r\n        index = this.allChapters.indexOf(this.viewingChapters[0])\r\n      }\r\n\r\n      this.activeChapterIndex = index\r\n    },\r\n    showChapter(chapter) {\r\n      return this.viewingChapters.includes(chapter)\r\n    },\r\n    showTopic(topic) {\r\n      const masterTopic = this.getMasterTopic(topic)\r\n      const textContent = GetContentString(topic.content)\r\n\r\n      return (this.viewingTopicsFilteredArchived.includes(masterTopic) &&\r\n        (this.viewingTopicsFilteredTitle.includes(masterTopic) ||\r\n        textContent && textContent.includes(this.filters.topic)))\r\n    },\r\n    toggleFilters() {\r\n      this.filtersVisible = !this.filtersVisible\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpChapterBlocksNode = this.$refs.helpChapterBlocksModal\r\n    this.helpChapterChipsNode = this.$refs.helpChapterChipsModal\r\n    this.helpTopicChipsNode = this.$refs.helpTopicChipsModal\r\n\r\n    const chapterGuid = this.$route.query.chapter\r\n    if (chapterGuid) {\r\n      const activeChapter = this.allChapters.find(chapter => chapter.guid === chapterGuid)\r\n      if (activeChapter.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.selectChapter(this.allChapters.indexOf(activeChapter))\r\n    } else {\r\n      this.selectChapter(-1)\r\n    }\r\n\r\n    this.$router.replace('/outline')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.outliner-wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.outliner {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.help-icon {\r\n  margin-left: 6px;\r\n}\r\n\r\n.filters {\r\n  margin: 10px 0;\r\n}\r\n\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(5, 133, 157, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.chapters {\r\n  display: block;\r\n}\r\n\r\n.chapter {\r\n  background-color: #FFF;\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  box-shadow: 0px -2px 12px -4px rgba(0, 0, 0, 0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.chapter-head {\r\n  align-items: center;\r\n  background-color: rgba(5, 133, 157, 1);\r\n  border: 1px solid rgba(5, 133, 157, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.chapter-head.light {\r\n  background-color: rgba(5, 133, 157, 0.5);\r\n}\r\n\r\n.chapter-title {\r\n  flex: 1;\r\n  margin: 0;\r\n}\r\n\r\n.chapter-action {\r\n  background-color: transparent;\r\n  border-color: #FFF;\r\n  color: #FFF;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.chapter-action:hover {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n\r\n.chapter-content {\r\n  background-color: rgba(5, 133, 157, 0.05);\r\n  border: 1px solid rgba(5, 133, 157, 0.75);\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  border-top: none;\r\n  padding: 0 8px;\r\n  padding-top: 20px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.add-icon--svg {\r\n  fill: #FFF;\r\n  margin-right: 6px;\r\n}\r\n\r\n.filter-toggle svg {\r\n  transform-origin: center;\r\n  transition: transform 100ms;\r\n}\r\n\r\n.filter-toggle.expanded svg {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./outliner.page.vue?vue&type=template&id=3e9b1370&scoped=true&\"\nimport script from \"./outliner.page.vue?vue&type=script&lang=js&\"\nexport * from \"./outliner.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"\nimport style1 from \"./outliner.page.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e9b1370\",\n  null\n  \n)\n\ncomponent.options.__file = \"outliner.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"planner\"},[_c('div',{staticClass:\"filters\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],staticClass:\"show-archived\",attrs:{\"id\":\"showArchivedCheckbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedCheckbox\"}},[_vm._v(\"Show Archived\")])]),_c('hr'),_c('div',{staticClass:\"chips-wrap plan-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Plans\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpPlanChipsModal, 'Plan List')}}})]),_c('chips-list',{attrs:{\"name\":\"Plan\",\"name-prop\":\"title\",\"data-array\":_vm.allPlans,\"filter-chips\":_vm.showPlan,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addPlan,\"delete\":_vm.archivePlan,\"rearrange\":_vm.rearrangePlan,\"restore\":_vm.restorePlan,\"update\":_vm.renamePlan}})],1),_c('hr'),_c('plans-list',{ref:\"plansList\",attrs:{\"filter-plans\":_vm.showPlan,\"filter-sections\":_vm.showSection}})],1),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpPlanChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the plan list. It's the easiest place to add, archive, restore, rename, and rearrange plans.\")]),_c('p',[_vm._v(\"To add a plan, type its name into the \\\"New Plan\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a plan, click the \\\"X\\\" next to its name in the list.\\n        Archiving a plan removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived plan, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a plan, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a plan, click and drag it to where you want it to go.\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"planner\">\r\n      <!-- 'Show Archived' checkbox -->\r\n      <div class=\"filters\">\r\n        <input \r\n          class=\"show-archived\" \r\n          id=\"showArchivedCheckbox\" \r\n          type=\"checkbox\" \r\n          v-model=\"filters.archived\" >\r\n        <label for=\"showArchivedCheckbox\">Show Archived</label>\r\n      </div>\r\n      <hr>\r\n      <!-- Plan Chips -->\r\n      <div class=\"chips-wrap plan-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Plans</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpPlanChipsModal, 'Plan List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Plan\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allPlans\"\r\n          :filter-chips=\"showPlan\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addPlan\"\r\n          @delete=\"archivePlan\"\r\n          @rearrange=\"rearrangePlan\"\r\n          @restore=\"restorePlan\"\r\n          @update=\"renamePlan\"/>\r\n      </div>\r\n      <hr>\r\n      <plans-list \r\n        ref=\"plansList\" \r\n        :filter-plans=\"showPlan\" \r\n        :filter-sections=\"showSection\"/>\r\n    </div>\r\n\r\n    <!-- Plans: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpPlanChipsModal\">\r\n        <p>This is the plan list. It's the easiest place to add, archive, restore, rename, and rearrange plans.</p>\r\n        <p>To add a plan, type its name into the \"New Plan\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a plan, click the \"X\" next to its name in the list.\r\n          Archiving a plan removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived plan, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a plan, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a plan, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_PLAN, ARCHIVE_PLAN, REARRANGE_PLANS,\r\n  RESTORE_PLAN, UPDATE_PLAN,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport PlansList from '../shared/plansList.vue'\r\nimport swal from 'sweetalert'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    PlansList,\r\n  },\r\n  computed: {\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    viewingPlans() {\r\n      return (this.allPlans\r\n        .filter(plan => !plan.archived || this.filters.archived))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filters: {\r\n        archived: false,\r\n      },\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addPlan(title) {\r\n      if (!ValidateTitle('plan', title)) {\r\n        return\r\n      }\r\n\r\n      const plan = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [],\r\n      }\r\n\r\n      this.$store.commit(ADD_PLAN, { plan })\r\n    },\r\n    archivePlan({ index }) {\r\n      this.$store.commit(ARCHIVE_PLAN, { plan: this.allPlans[index] })\r\n\r\n      if (index === this.activePlanIndex) {\r\n        this.activePlanIndex = -1\r\n      }\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    rearrangePlan(plans) {\r\n      this.$store.commit(REARRANGE_PLANS, { plans })\r\n    },\r\n    renamePlan({ index, value: newTitle }) {\r\n      if (!ValidateTitle('plan', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_PLAN, {\r\n        plan: this.allPlans[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    restorePlan({ index }) {\r\n      this.$store.commit(RESTORE_PLAN, { plan: this.allPlans[index] })\r\n    },\r\n    showPlan(plan) {\r\n      return this.viewingPlans.includes(plan)\r\n    },\r\n    showSection(section) {\r\n      return !section.archived || this.filters.archived\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpPlanChipsModal = this.$refs.helpPlanChipsModal\r\n\r\n    const planGuid = this.$route.query.plan\r\n    if (planGuid) {\r\n      const activePlan = this.allPlans.find(plan => plan.guid === planGuid)\r\n      if (activePlan.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.$refs.plansList.selectPlan(this.allPlans.indexOf(activePlan))\r\n    }\r\n\r\n    this.$router.replace('/plan')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.planner {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.filters {\r\n  margin: 10px 0;\r\n}\r\n\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(13, 91, 166, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./planner.page.vue?vue&type=template&id=3b3a778d&scoped=true&\"\nimport script from \"./planner.page.vue?vue&type=script&lang=js&\"\nexport * from \"./planner.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b3a778d\",\n  null\n  \n)\n\ncomponent.options.__file = \"planner.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"search\"},[_c('h2',[_vm._v(\"Document Search\")]),_c('p',[_vm._v(\"\\n      Enter a partial word, full word or phrase and Edward will find all your chapters, outlines, plans and workshops\\n      that match it.\\n    \")]),_c('div',{staticClass:\"search-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],ref:\"searchInput\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search text\"},domProps:{\"value\":(_vm.searchText)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.search()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value}}}),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.search()}}},[_vm._v(\"Search\")])]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.loading)?_c('div',{key:\"results\",staticClass:\"results\"},[(_vm.hasResults)?[_c('hr'),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showChapters),expression:\"filters.showChapters\"}],attrs:{\"id\":\"show-chapters\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showChapters)?_vm._i(_vm.filters.showChapters,null)>-1:(_vm.filters.showChapters)},on:{\"change\":function($event){var $$a=_vm.filters.showChapters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showChapters\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showChapters\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showChapters\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-chapters\"}},[_vm._v(\"Show Chapters\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showOutlines),expression:\"filters.showOutlines\"}],attrs:{\"id\":\"show-outlines\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showOutlines)?_vm._i(_vm.filters.showOutlines,null)>-1:(_vm.filters.showOutlines)},on:{\"change\":function($event){var $$a=_vm.filters.showOutlines,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showOutlines\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showOutlines\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showOutlines\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-outlines\"}},[_vm._v(\"Show Outlines\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showPlans),expression:\"filters.showPlans\"}],attrs:{\"id\":\"show-plans\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showPlans)?_vm._i(_vm.filters.showPlans,null)>-1:(_vm.filters.showPlans)},on:{\"change\":function($event){var $$a=_vm.filters.showPlans,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showPlans\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showPlans\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showPlans\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-plans\"}},[_vm._v(\"Show Plans\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showWorkshops),expression:\"filters.showWorkshops\"}],attrs:{\"id\":\"show-workshops\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showWorkshops)?_vm._i(_vm.filters.showWorkshops,null)>-1:(_vm.filters.showWorkshops)},on:{\"change\":function($event){var $$a=_vm.filters.showWorkshops,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showWorkshops\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showWorkshops\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showWorkshops\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-workshops\"}},[_vm._v(\"Show Workshops\")])])])]:_vm._e(),(_vm.searched && !_vm.hasResults)?_c('div',[_c('strong',[_vm._v(\"No results found.\")])]):_vm._e(),(_vm.matches.chapters.length && _vm.filters.showChapters)?_c('div',{staticClass:\"result-set chapter-results\"},[_c('h3',[_vm._v(\"Chapters\")]),_vm._l((_vm.matches.chapters),function(chapter){return _c('div',{key:chapter.guid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',{domProps:{\"textContent\":_vm._s(chapter.title)}}),_c('router-link',{attrs:{\"to\":'/write?chapter=' + chapter.guid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((chapter._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.outlines.length && _vm.filters.showOutlines)?_c('div',{staticClass:\"result-set outline-results\"},[_c('h3',[_vm._v(\"Outlines\")]),_vm._l((_vm.matches.outlines),function(topicMatch){return _c('div',{key:topicMatch.chapterGuid + topicMatch.topicGuid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(topicMatch.chapterTitle)+\" | \"+_vm._s(topicMatch.topicTitle))]),_c('router-link',{attrs:{\"to\":'/outline?chapter=' + topicMatch.chapterGuid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((topicMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.plans.length && _vm.filters.showPlans)?_c('div',{staticClass:\"result-set plan-results\"},[_c('h3',[_vm._v(\"Plans\")]),_vm._l((_vm.matches.plans),function(sectionMatch){return _c('div',{key:sectionMatch.planGuid + sectionMatch.sectionGuid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(sectionMatch.planTitle)+\" | \"+_vm._s(sectionMatch.sectionTitle))]),_c('router-link',{attrs:{\"to\":'/plan?plan=' + sectionMatch.planGuid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((sectionMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.workshops.length && _vm.filters.showWorkshops)?_c('div',{staticClass:\"result-set workshop-results\"},[_c('h3',[_vm._v(\"Workshops\")]),_vm._l((_vm.matches.workshops),function(workshopMatch){return _c('div',{key:workshopMatch.guid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(workshopMatch.title))]),_c('router-link',{attrs:{\"to\":'/write?workshopName=' + workshopMatch.workshopName + '&workshop=' + workshopMatch.guid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((workshopMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e()],2):_c('div',{key:\"loading\",staticClass:\"loading\"},[_c('pulse-loader')],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"match\"},[(!_vm.match.atHead)?_c('span',[_vm._v(\"...\")]):_vm._e(),_c('span',{domProps:{\"textContent\":_vm._s(_vm.formattedPre)}}),_c('em',{domProps:{\"textContent\":_vm._s(_vm.formattedQuery)}}),_c('span',{domProps:{\"textContent\":_vm._s(_vm.formattedPost)}}),(!_vm.match.atTail)?_c('span',[_vm._v(\"...\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p class=\"match\">\r\n    <span v-if=\"!match.atHead\">...</span>\r\n    <span v-text=\"formattedPre\"/>\r\n    <em v-text=\"formattedQuery\"/>\r\n    <span v-text=\"formattedPost\"/>\r\n    <span v-if=\"!match.atTail\">...</span>\r\n  </p>\r\n</template>\r\n\r\n<script>\r\nimport trimEnd from 'lodash/trimEnd'\r\nimport trimStart from 'lodash/trimStart'\r\n\r\nexport default {\r\n  computed: {\r\n    formattedPre() {\r\n      return trimStart(this.match.pre).replace(/\\n/g, '  ')\r\n    },\r\n    formattedQuery() {\r\n      return this.match.query.replace(/\\n/g, '  ')\r\n    },\r\n    formattedPost() {\r\n      return trimEnd(this.match.post).replace(/\\n/g, '  ')\r\n    },\r\n  },\r\n  props: {\r\n    match: {\r\n      required: true,\r\n      type: Object,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.match {\r\n  line-height: 1.2em;\r\n  margin: 2px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./match.vue?vue&type=template&id=3b69e175&scoped=true&\"\nimport script from \"./match.vue?vue&type=script&lang=js&\"\nexport * from \"./match.vue?vue&type=script&lang=js&\"\nimport style0 from \"./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b69e175\",\n  null\n  \n)\n\ncomponent.options.__file = \"match.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"search\">\r\n      <h2>Document Search</h2>\r\n      <p>\r\n        Enter a partial word, full word or phrase and Edward will find all your chapters, outlines, plans and workshops\r\n        that match it.\r\n      </p>\r\n      <div class=\"search-box\">\r\n        <input \r\n          class=\"search-input\" \r\n          v-model=\"searchText\" \r\n          type=\"text\" \r\n          placeholder=\"Search text\"\r\n          @keyup.enter=\"search()\" \r\n          ref=\"searchInput\">\r\n        <button \r\n          class=\"button-green\" \r\n          @click=\"search()\">Search</button>\r\n      </div>\r\n      <transition \r\n        name=\"fade\" \r\n        mode=\"out-in\">\r\n        <div \r\n          class=\"results\" \r\n          v-if=\"!loading\" \r\n          key=\"results\">\r\n          <template v-if=\"hasResults\">\r\n            <hr>\r\n            <div class=\"filters\">\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-chapters\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showChapters\">\r\n                <label for=\"show-chapters\">Show Chapters</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-outlines\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showOutlines\">\r\n                <label for=\"show-outlines\">Show Outlines</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-plans\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showPlans\">\r\n                <label for=\"show-plans\">Show Plans</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-workshops\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showWorkshops\">\r\n                <label for=\"show-workshops\">Show Workshops</label>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <div v-if=\"searched && !hasResults\">\r\n            <strong>No results found.</strong>\r\n          </div>\r\n          <div \r\n            class=\"result-set chapter-results\" \r\n            v-if=\"matches.chapters.length && filters.showChapters\">\r\n            <h3>Chapters</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"chapter in matches.chapters\" \r\n              :key=\"chapter.guid\">\r\n              <p class=\"result-title\">\r\n                <strong v-text=\"chapter.title\"/>\r\n                <router-link :to=\"'/write?chapter=' + chapter.guid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in chapter._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set outline-results\" \r\n            v-if=\"matches.outlines.length && filters.showOutlines\">\r\n            <h3>Outlines</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"topicMatch in matches.outlines\" \r\n              :key=\"topicMatch.chapterGuid + topicMatch.topicGuid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ topicMatch.chapterTitle }} | {{ topicMatch.topicTitle }}</strong>\r\n                <router-link :to=\"'/outline?chapter=' + topicMatch.chapterGuid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in topicMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set plan-results\" \r\n            v-if=\"matches.plans.length && filters.showPlans\">\r\n            <h3>Plans</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"sectionMatch in matches.plans\" \r\n              :key=\"sectionMatch.planGuid + sectionMatch.sectionGuid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ sectionMatch.planTitle }} | {{ sectionMatch.sectionTitle }}</strong>\r\n                <router-link :to=\"'/plan?plan=' + sectionMatch.planGuid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in sectionMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set workshop-results\" \r\n            v-if=\"matches.workshops.length && filters.showWorkshops\">\r\n            <h3>Workshops</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"workshopMatch in matches.workshops\" \r\n              :key=\"workshopMatch.guid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ workshopMatch.title }}</strong>\r\n                <router-link :to=\"'/write?workshopName=' + workshopMatch.workshopName + '&workshop=' + workshopMatch.guid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in workshopMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div \r\n          class=\"loading\" \r\n          v-else \r\n          key=\"loading\">\r\n          <pulse-loader/>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetContentString, GetIndicesOf } from '../shared/deltaParser'\r\nimport Match from './match.vue'\r\nimport Octicons from 'octicons'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\n\r\nconst prePostChars = 40\r\n\r\nexport default {\r\n  components: {\r\n    Match,\r\n    PulseLoader,\r\n  },\r\n  computed: {\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters || []\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics || []\r\n    },\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops || []\r\n    },\r\n    hasResults() {\r\n      return (\r\n        this.matches.chapters.length ||\r\n        this.matches.outlines.length ||\r\n        this.matches.plans.length ||\r\n        this.matches.workshops.length\r\n      )\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filters: {\r\n        showChapters: true,\r\n        showOutlines: true,\r\n        showPlans: true,\r\n        showWorkshops: true,\r\n      },\r\n      linkSvg: Octicons.link.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      loading: false,\r\n      matches: {\r\n        chapters: [],\r\n        outlines: [],\r\n        plans: [],\r\n        workshops: [],\r\n      },\r\n      searched: false,\r\n      searchText: '',\r\n    }\r\n  },\r\n  methods: {\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    getMatchArray(fullText, indices, query) {\r\n      return indices.map((index) => {\r\n        const pre = fullText.slice(\r\n          Math.max(index - prePostChars, 0),\r\n          index,\r\n        )\r\n        const matched = fullText.slice(\r\n          index,\r\n          index + query.length,\r\n        )\r\n        const post = fullText.slice(\r\n          index + query.length,\r\n          index + query.length + prePostChars,\r\n        )\r\n\r\n        return {\r\n          atHead: (index - prePostChars) <= 0,\r\n          atTail: (index + query.length + prePostChars) >= (fullText.length - 1),\r\n          pre,\r\n          post,\r\n          index,\r\n          query: matched,\r\n        }\r\n      })\r\n    },\r\n    getMatchingChapters(query) {\r\n      return this.allChapters.map((chapter) => {\r\n        const fullText = GetContentString(chapter.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n        chapter._matches = this.getMatchArray(fullText, indices, query)\r\n        return chapter\r\n      }).filter(chapter => chapter._matches.length > 0 || chapter.title.toLowerCase().includes(query))\r\n    },\r\n    getMatchingOutlines(query) {\r\n      return this.allChapters.reduce((arr, chapter) => {\r\n        for (const key in chapter.topics) {\r\n          if (!chapter.topics.hasOwnProperty(key)) {\r\n            continue\r\n          }\r\n\r\n          const chapterTopic = chapter.topics[key]\r\n          const fullText = GetContentString(chapterTopic.content)\r\n          const indices = GetIndicesOf(query, fullText)\r\n          const masterTopic = this.getMasterTopic(chapterTopic)\r\n\r\n          arr.push({\r\n            _matches: this.getMatchArray(fullText, indices, query),\r\n            chapterGuid: chapter.guid,\r\n            chapterTitle: chapter.title,\r\n            topicGuid: chapterTopic.guid,\r\n            topicTitle: masterTopic.title,\r\n          })\r\n        }\r\n        return arr\r\n      }, []).filter(topicMatch => topicMatch._matches.length > 0 || topicMatch.topicTitle.toLowerCase().includes(query))\r\n    },\r\n    getMatchingPlans(query) {\r\n      return this.allPlans.reduce((arr, plan) => arr.concat(plan.sections.map((section) => {\r\n        const fullText = GetContentString(section.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n\r\n        return {\r\n          _matches: this.getMatchArray(fullText, indices, query),\r\n          planGuid: plan.guid,\r\n          planTitle: plan.title,\r\n          sectionGuid: section.guid,\r\n          sectionTitle: section.title,\r\n        }\r\n      })), []).filter(sectionMatch => sectionMatch._matches.length > 0 || sectionMatch.sectionTitle.toLowerCase().includes(query))\r\n    },\r\n    getMatchingWorkshops(query) {\r\n      const workshopsByGuid = this.allWorkshops.reduce((obj, workshop) => {\r\n        obj[workshop.guid] = obj[workshop.guid] || {\r\n          guid: workshop.guid,\r\n          title: workshop.title,\r\n          workshopName: workshop.workshopName,\r\n          _matches: [],\r\n        }\r\n        const workshopMatch = obj[workshop.guid]\r\n\r\n        const fullText = GetContentString(workshop.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n\r\n        workshopMatch._matches = workshopMatch._matches.concat(this.getMatchArray(fullText, indices, query))\r\n        return obj\r\n      }, {})\r\n\r\n      return Object.keys(workshopsByGuid).map(key => workshopsByGuid[key]).filter(workshopMatch => workshopMatch._matches.length > 0 || workshopMatch.title.toLowerCase().includes(query))\r\n    },\r\n    search() {\r\n      this.loading = true\r\n      this.searched = false\r\n      this.matches.chapters = this.getMatchingChapters(this.searchText.toLowerCase())\r\n      this.matches.outlines = this.getMatchingOutlines(this.searchText.toLowerCase())\r\n      this.matches.plans = this.getMatchingPlans(this.searchText.toLowerCase())\r\n      this.matches.workshops = this.getMatchingWorkshops(this.searchText.toLowerCase())\r\n      this.searched = true\r\n      this.loading = false\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$refs.searchInput.focus()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 100ms;\r\n}\r\n\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave, .fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.search {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.search-input {\r\n  font-size: 18px;\r\n  margin-bottom: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.result-set {\r\n  margin: 20px 0;\r\n}\r\n\r\n.result-set h3 {\r\n  border-left: 2px solid rgb(1,171,109);\r\n  padding-left: 8px;\r\n}\r\n\r\n.result {\r\n  margin-top: 8px;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 10px 0;\r\n}\r\n\r\n.filter:not(:last-of-type) {\r\n  margin-right: 20px;\r\n}\r\n\r\n.result-title {\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.link-out {\r\n  align-items: center;\r\n  border: none;\r\n  color: #444;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 20px;\r\n  padding: 0;\r\n  margin: 0 4px;\r\n}\r\n\r\n.loading {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.page.vue?vue&type=template&id=10533e1c&scoped=true&\"\nimport script from \"./search.page.vue?vue&type=script&lang=js&\"\nexport * from \"./search.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10533e1c\",\n  null\n  \n)\n\ncomponent.options.__file = \"search.page.vue\"\nexport default component.exports","import userApi from '../api/userApi'\r\n\r\nexport const COMMIT_NEW_EMAIL = 'COMMIT_NEW_EMAIL'\r\nexport const SET_DEFAULT_USER = 'SET_DEFAULT_USER'\r\nexport const SET_USER = 'SET_USER'\r\nexport const SET_USER_PROMISE = 'SET_USER_PROMISE'\r\nexport const UPDATE_EMAIL = 'SET_USER_EMAIL'\r\nexport const UPDATE_PASSWORD = 'SET_USER_PASSWORD'\r\n\r\nconst defaultUser = {\r\n  accountType: {\r\n    description: 'Either your internet or our servers are down right now. Any work you do may be lost.',\r\n    displayName: 'Connectivity issues',\r\n    name: 'ERROR',\r\n  },\r\n  email: 'ERROR',\r\n  isPremium: false,\r\n  verified: true,\r\n}\r\n\r\nfunction setSentryUser(user) {\r\n  if (!window.Raven || typeof window.Raven.setUserContext !== 'function') {\r\n    return\r\n  }\r\n\r\n  window.Raven.setUserContext(user)\r\n}\r\n\r\n// We provide a userPromise from the beginning to prevent race conditions,\r\n//  which could be disastrous given that we store user data based on the\r\n//  user type. However, the actual user API call occurs later, so we allow\r\n//  deferred resolving of the original promise via SET_USER_PROMISE.\r\nlet userPromiseResolve\r\n\r\nconst store = {\r\n  state: {\r\n    // user { accountType accountType, email string, isPremium boolean }\r\n    // accountType { description string, displayName string, name string }\r\n    user: {},\r\n    // A promise that will resolve once the user API call has returned.\r\n    // It cannot be rejected.\r\n    userPromise: new Promise((resolve) => {\r\n      userPromiseResolve = resolve\r\n    }),\r\n  },\r\n  actions: {\r\n    [UPDATE_EMAIL]({ commit }, { email }) {\r\n      commit(COMMIT_NEW_EMAIL, { email })\r\n      return userApi.updateEmail(email)\r\n    },\r\n  },\r\n  mutations: {\r\n    [COMMIT_NEW_EMAIL](state, { email }) {\r\n      state.user.email = email\r\n    },\r\n    [SET_DEFAULT_USER](state) {\r\n      state.user = defaultUser\r\n      setSentryUser()\r\n    },\r\n    [SET_USER](state, user) {\r\n      state.user = user\r\n      setSentryUser(user)\r\n    },\r\n    [SET_USER_PROMISE](state, promise) {\r\n      promise.then((data) => {\r\n        userPromiseResolve(data)\r\n      }, (err) => {\r\n        console.error(err)\r\n        userPromiseResolve(null, err)\r\n      })\r\n    },\r\n    [UPDATE_PASSWORD](state, { password }) {\r\n      userApi.updatePassword(password)\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"settings\"},[_vm._m(0),_c('hr'),_c('h4',[_vm._v(\"Email\")]),_c('div',{staticClass:\"change-email\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account.email),expression:\"account.email\"}],staticClass:\"account-input\",attrs:{\"disabled\":!_vm.editingEmail},domProps:{\"value\":(_vm.account.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.account, \"email\", $event.target.value)}}}),(_vm.notDemo && !_vm.editingEmail)?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editEmail()}}},[_vm._v(\"\\n        Edit\\n      \")]):_vm._e(),(_vm.editingEmail)?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.cancelEditEmail()}}},[_vm._v(\"\\n        Cancel\\n      \")]):_vm._e(),(_vm.notDemo)?_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.editingEmail},on:{\"click\":function($event){_vm.saveEmail()}}},[_vm._v(\"\\n        Save\\n      \")]):_vm._e()]),(_vm.error)?_c('div',{staticClass:\"error\"},[_vm._v(\"\\n      That didn't work. Please try again or contact support.\\n    \")]):_vm._e(),_c('hr'),_c('h4',[_vm._v(\"Password\")]),_c('div',{staticClass:\"change-password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account.password),expression:\"account.password\"}],staticClass:\"account-input\",attrs:{\"type\":\"password\",\"disabled\":!_vm.editingPassword},domProps:{\"value\":(_vm.account.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.account, \"password\", $event.target.value)}}}),(_vm.notDemo && !_vm.editingPassword)?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editPassword()}}},[_vm._v(\"\\n        Edit\\n      \")]):_vm._e(),(_vm.editingPassword)?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.cancelEditPassword()}}},[_vm._v(\"\\n        Cancel\\n      \")]):_vm._e(),(_vm.notDemo)?_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.editingPassword},on:{\"click\":function($event){_vm.savePassword()}}},[_vm._v(\"\\n        Save\\n      \")]):_vm._e()]),_c('hr'),_c('h3',[_vm._v(\"Account Status\")]),(_vm.notDemo)?_c('div',{staticClass:\"account-type\"},[_c('p',[_vm._v(\"You have a \"+_vm._s(_vm.accountType)+\".\")]),(!_vm.isPremium)?_c('p',[_vm._v(\"For a better experience, upgrade to a Premium Account.\")]):_vm._e(),_vm._m(1)]):_vm._e(),_c('hr'),_c('h3',[_vm._v(\"About\")]),_c('div',{staticClass:\"about-app\"},[_vm._m(2),_c('p',[_c('a',{attrs:{\"href\":\"https://twitter.com/edwardtheapp\"}},[_c('span',{staticClass:\"twitter-icon\",domProps:{\"innerHTML\":_vm._s(_vm.twitterIcon)}})])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\"Settings\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upgrade-button\"},[_c('a',{attrs:{\"href\":\"/auth#/account\"}},[_c('button',{staticClass:\"button-green\"},[_vm._v(\"\\n            Manage account\\n          \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Edward was created by \"),_c('a',{attrs:{\"href\":\"http://isaaclyman.com\"}},[_vm._v(\"Isaac\")]),_vm._v(\". For updates on new features and Edward-flavored fun, follow the app on Twitter.\")])}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\n\r\nconst route = route => `/api/user/${route}`\r\n\r\nconst api = {\r\n  simpleGet(route) {\r\n    return axios.get(route).then(response => response.data)\r\n  },\r\n  simplePost(route, body) {\r\n    return axios.post(route, body).then(response => response.data)\r\n  },\r\n\r\n  getUser() { return this.simpleGet(route('current')) },\r\n  logOut() { return this.simpleGet(route('logout')) },\r\n  updateEmail(email) { return this.simplePost(route('email'), { email }) },\r\n  updatePassword(password) { return this.simplePost(route('password'), { password }) },\r\n}\r\n\r\nexport default api\r\n","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"settings\">\r\n      <div class=\"title\">\r\n        <h3>Settings</h3>\r\n      </div>\r\n      <hr>\r\n      <h4>Email</h4>\r\n      <div class=\"change-email\">\r\n        <input \r\n          class=\"account-input\" \r\n          v-model=\"account.email\" \r\n          :disabled=\"!editingEmail\">\r\n        <button \r\n          class=\"button-link\" \r\n          v-if=\"notDemo && !editingEmail\" \r\n          @click=\"editEmail()\">\r\n          Edit\r\n        </button>\r\n        <button \r\n          class=\"button-link\" \r\n          v-if=\"editingEmail\" \r\n          @click=\"cancelEditEmail()\">\r\n          Cancel\r\n        </button>\r\n        <button \r\n          class=\"button-green\" \r\n          v-if=\"notDemo\" \r\n          @click=\"saveEmail()\" \r\n          :disabled=\"!editingEmail\">\r\n          Save\r\n        </button>\r\n      </div>\r\n      <div \r\n        class=\"error\" \r\n        v-if=\"error\">\r\n        That didn't work. Please try again or contact support.\r\n      </div>\r\n      <hr>\r\n      <h4>Password</h4>\r\n      <div class=\"change-password\">\r\n        <input \r\n          class=\"account-input\" \r\n          type=\"password\" \r\n          v-model=\"account.password\" \r\n          :disabled=\"!editingPassword\">\r\n        <button \r\n          class=\"button-link\" \r\n          v-if=\"notDemo && !editingPassword\" \r\n          @click=\"editPassword()\">\r\n          Edit\r\n        </button>\r\n        <button \r\n          class=\"button-link\" \r\n          v-if=\"editingPassword\" \r\n          @click=\"cancelEditPassword()\">\r\n          Cancel\r\n        </button>\r\n        <button \r\n          class=\"button-green\" \r\n          v-if=\"notDemo\" \r\n          @click=\"savePassword()\" \r\n          :disabled=\"!editingPassword\">\r\n          Save\r\n        </button>\r\n      </div>\r\n      <hr>\r\n      <h3>Account Status</h3>\r\n      <div \r\n        class=\"account-type\" \r\n        v-if=\"notDemo\">\r\n        <p>You have a {{ accountType }}.</p>\r\n        <p v-if=\"!isPremium\">For a better experience, upgrade to a Premium Account.</p>\r\n        <div class=\"upgrade-button\">\r\n          <a href=\"/auth#/account\">\r\n            <button class=\"button-green\">\r\n              Manage account\r\n            </button>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <h3>About</h3>\r\n      <div class=\"about-app\">\r\n        <p>Edward was created by <a href=\"http://isaaclyman.com\">Isaac</a>. For updates on new features and Edward-flavored fun, follow the app on Twitter.</p>\r\n        <p>\r\n          <a href=\"https://twitter.com/edwardtheapp\">\r\n            <span \r\n              class=\"twitter-icon\" \r\n              v-html=\"twitterIcon\"/>\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { UPDATE_EMAIL, UPDATE_PASSWORD } from '../shared/user.store'\r\nimport swal from 'sweetalert'\r\n\r\nconst mockPassword = '************'\r\nconst twitterIcon = '<svg id=\"Logo_FIXED\" data-name=\"Logo  FIXED\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 400\"><defs><style>.cls-1{fill:none;}.cls-2{fill:#1da1f2;}</style></defs><title>Twitter_Logo_Blue</title><rect class=\"cls-1\" width=\"400\" height=\"400\"/><path class=\"cls-2\" d=\"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23\"/></svg>'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {\r\n    accountType() {\r\n      return this.user.accountType.displayName\r\n    },\r\n    isPremium() {\r\n      return this.user.isPremium\r\n    },\r\n    notDemo() {\r\n      return this.user.accountType.name !== 'DEMO'\r\n    },\r\n    user() {\r\n      return this.$store.state.user.user\r\n    },\r\n    userPromise() {\r\n      return this.$store.state.user.userPromise\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      account: {\r\n        email: '',\r\n        password: mockPassword,\r\n      },\r\n      editingEmail: false,\r\n      editingPassword: false,\r\n      error: false,\r\n      twitterIcon,\r\n    }\r\n  },\r\n  methods: {\r\n    cancelEditEmail() {\r\n      this.editingEmail = false\r\n      this.account.email = this.user.email\r\n    },\r\n    cancelEditPassword() {\r\n      this.editingPassword = false\r\n      this.account.password = mockPassword\r\n    },\r\n    editEmail() {\r\n      this.editingEmail = true\r\n    },\r\n    editPassword() {\r\n      this.editingPassword = true\r\n      this.account.password = ''\r\n    },\r\n    saveEmail() {\r\n      this.error = false\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to change your email address? You will have to verify the new address before you can access your account.',\r\n        title: 'Change email and re-verify?',\r\n      }).then((willChange) => {\r\n        if (!willChange) {\r\n          return\r\n        }\r\n\r\n        this.$store.dispatch(UPDATE_EMAIL, { email: this.account.email }).then(() => {\r\n          this.editingEmail = false\r\n          window.location.href = '/auth#/verification'\r\n        }, (err) => {\r\n          console.error(err)\r\n          this.error = true\r\n        })\r\n      })\r\n    },\r\n    savePassword() {\r\n      this.$store.commit(UPDATE_PASSWORD, { password: this.account.password })\r\n      this.editingPassword = false\r\n    },\r\n  },\r\n  mounted() {\r\n    this.userPromise.then(() => {\r\n      this.account.email = this.user.email\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.settings {\r\n  background-color: #FFF;\r\n  border-radius: 5px;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n  overflow: auto;\r\n  padding: 15px;\r\n}\r\n\r\n.account-input {\r\n  min-width: 250px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n\r\n.upgrade-button {\r\n  margin-top: 6px;\r\n}\r\n\r\n.twitter-icon {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\r\n<style>\r\n.twitter-icon svg {\r\n  height: 32px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settings.page.vue?vue&type=template&id=ed1daeb4&scoped=true&\"\nimport script from \"./settings.page.vue?vue&type=script&lang=js&\"\nexport * from \"./settings.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settings.page.vue?vue&type=style&index=0&id=ed1daeb4&scoped=true&lang=css&\"\nimport style1 from \"./settings.page.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed1daeb4\",\n  null\n  \n)\n\ncomponent.options.__file = \"settings.page.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nimport NotFound from './NotFound.vue'\r\n\r\nimport Composer from './composer/composer.page.vue'\r\nimport DocumentEdit from './documentEdit/documentEdit.page.vue'\r\nimport Outliner from './outliner/outliner.page.vue'\r\nimport Planner from './planner/planner.page.vue'\r\nimport Search from './search/search.page.vue'\r\nimport Settings from './settings/settings.page.vue'\r\n\r\nimport userApi from './api/userApi'\r\nimport api from './api/api'\r\n\r\nVue.use(Router)\r\n\r\nconst assertPremium = () => userApi.getUser().then((user) => {\r\n  if (user.isPremium) {\r\n    return true\r\n  }\r\n  throw new Error('Can\\'t access this route with a Limited account.')\r\n})\r\n\r\nconst assertOnline = () => api.isOnline().then(\r\n  () => true,\r\n  () => {\r\n    throw new Error('Can\\'t access this route while offline.')\r\n  },\r\n)\r\n\r\n/*\r\nWe can't use next(false) in any guard because there's no global hook that's called\r\n when navigation is cancelled. This would leave the app in a 'loading' state forever\r\n (see App.vue). Instead, we need to use next(error) to cancel navigation.\r\n*/\r\nconst compose = (...guards) => function (to, from, next) {\r\n  const guardPromises = guards.map(guard => guard())\r\n  Promise.all(guardPromises).then((...results) => {\r\n    const blocks = results.filter(res => res !== true)\r\n    if (blocks.length === 0) {\r\n      return next()\r\n    }\r\n\r\n    const nav = results.filter(res => typeof res === 'object')[0]\r\n    if (nav) {\r\n      return next(nav)\r\n    }\r\n\r\n    return next(new Error('Navigation was not allowed.'))\r\n  }, err => next(err))\r\n}\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      redirect: '/write',\r\n    },\r\n    {\r\n      path: '/plan',\r\n      name: 'Plan',\r\n      component: Planner,\r\n    },\r\n    {\r\n      path: '/outline',\r\n      name: 'Outline',\r\n      component: Outliner,\r\n    },\r\n    {\r\n      path: '/write',\r\n      name: 'Write',\r\n      component: Composer,\r\n    },\r\n    {\r\n      path: '/analyze',\r\n      name: 'Analyze',\r\n      component: () => import('./analyser/analyser.page.vue' /* webpackChunkName: \"analyser\" */),\r\n      beforeEnter: compose(assertOnline),\r\n    },\r\n    {\r\n      path: '/export',\r\n      name: 'Export',\r\n      component: () => import('./exporter/exporter.page.vue' /* webpackChunkName: \"exporter\" */),\r\n      beforeEnter: compose(assertOnline),\r\n    },\r\n    {\r\n      path: '/documentEdit',\r\n      name: 'Document Edit',\r\n      component: DocumentEdit,\r\n    },\r\n    {\r\n      path: '/settings',\r\n      name: 'Settings',\r\n      component: Settings,\r\n    },\r\n    {\r\n      path: '/search',\r\n      name: 'Search',\r\n      component: Search,\r\n    },\r\n    {\r\n      path: '/workshop/free-write',\r\n      name: 'Free Write',\r\n      component: () => import('./workshops/freeWrite.page.vue' /* webpackChunkName: \"w-free-write\" */),\r\n      beforeEnter: compose(assertOnline, assertPremium),\r\n    },\r\n    {\r\n      path: '/workshop/novel-quickstart',\r\n      name: 'Novel Quickstart',\r\n      component: () => import('./workshops/novelQuickstart.page.vue' /* webpackChunkName: \"w-novel-quickstart\" */),\r\n      beforeEnter: compose(assertOnline, assertPremium),\r\n    },\r\n    {\r\n      path: '/workshop/unblock',\r\n      name: 'Writer\\'s Unblock',\r\n      component: () => import('./workshops/writersUnblock.vue' /* webpackChunkName: \"w-writers-unblock\" */),\r\n      beforeEnter: compose(assertOnline, assertPremium),\r\n    },\r\n    {\r\n      path: '/workshop/plot',\r\n      name: 'Plot Workshop',\r\n      component: () => import('./workshops/plotWorkshop.vue' /* webpackChunkName: \"w-plot-workshop\" */),\r\n      beforeEnter: compose(assertOnline, assertPremium),\r\n    },\r\n    {\r\n      path: '*',\r\n      name: 'Page does not exist',\r\n      component: NotFound,\r\n    },\r\n  ],\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('idle-watcher',[_c('transition',{attrs:{\"name\":\"wrapper\",\"mode\":\"out-in\"}},[(_vm.loaded && _vm.currentDocument && _vm.currentDocument.guid)?_c('div',{key:\"app\",staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('document-menu'),_c('div',{staticClass:\"app-header\"},[_c('div',{staticClass:\"logo-wrap\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../public/img/logo.png\")}})]),_c('div',{staticClass:\"app-header--menu\"},[_c('main-menu')],1)]),_c('div',{staticClass:\"page\"},[_c('transition',{attrs:{\"name\":\"wrapper\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)],1):(!_vm.loaded)?_c('div',{key:\"loading\",staticClass:\"loading\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../public/img/logo.png\")}}),_c('pulse-loader')],1):_c('div',{key:\"wizard\",staticClass:\"page\"},[_c('wizard')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\"},[_c('document-picker')],1),_c('div',{staticClass:\"menu-item\"},[_c('router-link',{attrs:{\"to\":\"/documentEdit\"}},[_c('button',{staticClass:\"menu-button\"},[_vm._v(\"\\n        Edit\\n      \")])]),_c('router-link',{attrs:{\"to\":\"/export\"}},[_c('button',{staticClass:\"menu-button mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"\\n        Download / Upload\\n      \")])]),_c('hr',{staticClass:\"vert-flex\"}),_c('button',{staticClass:\"menu-button\",attrs:{\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.showWizard()}}},[_vm._v(\"\\n      New\\n    \")])],1),_c('div',{staticClass:\"spacer\"}),(_vm.notDemo)?_c('div',{staticClass:\"menu-item\"},[_c('router-link',{attrs:{\"to\":\"/settings\"}},[_c('button',{staticClass:\"menu-button mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"\\n        Settings\\n      \")])]),_c('a',{attrs:{\"href\":\"/auth#/account\"}},[_c('button',{staticClass:\"menu-button button-green mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"\\n        Upgrade\\n      \")])])],1):_vm._e(),(!_vm.notDemo)?_c('div',{staticClass:\"menu-item\"},[_c('a',{attrs:{\"href\":\"/auth#/signup\"}},[_c('button',{staticClass:\"menu-button button-green mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"\\n        Upgrade\\n      \")])])]):_vm._e(),_c('div',{staticClass:\"menu-item\"},[_c('button',{staticClass:\"menu-button\",attrs:{\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.logOut()}}},[_vm._v(\"\\n      Log Out\\n    \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.documentValue),expression:\"documentValue\"}],staticClass:\"document-dropdown\",attrs:{\"disabled\":!_vm.isOnline},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.documentValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.changeDocument]}},[(!_vm.currentDocument)?_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"No document selected\")]):_vm._e(),_vm._l((_vm.allDocuments),function(document){return _c('option',{key:document.guid,domProps:{\"value\":document.guid}},[_vm._v(\"\\n    \"+_vm._s(document.name)+\"\\n  \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <select \r\n    class=\"document-dropdown\" \r\n    v-model=\"documentValue\" \r\n    @change=\"changeDocument\" \r\n    :disabled=\"!isOnline\">\r\n    <option \r\n      v-if=\"!currentDocument\" \r\n      value=\"\">No document selected</option>\r\n    <option \r\n      v-for=\"document in allDocuments\" \r\n      :key=\"document.guid\" \r\n      :value=\"document.guid\">\r\n      {{ document.name }}\r\n    </option>\r\n  </select>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api'\r\nimport { CHANGE_DOCUMENT } from './document.store'\r\nimport { Statuses, SET_STATUS_OFFLINE } from './status.store'\r\n\r\nexport default {\r\n  computed: {\r\n    allDocuments() {\r\n      return this.$store.state.document.ownedDocuments\r\n    },\r\n    currentDocument() {\r\n      return this.$store.state.document.currentDocument\r\n    },\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      documentValue: '',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.documentValue = this.currentDocument ? this.currentDocument.guid : ''\r\n  },\r\n  methods: {\r\n    changeDocument() {\r\n      api.isOnline().then(() => {\r\n        const document = this.allDocuments.find(doc => doc.guid === this.documentValue)\r\n\r\n        if (!document || (this.currentDocument && (document.guid === this.currentDocument.guid))) {\r\n          return\r\n        }\r\n\r\n        this.$store.dispatch(CHANGE_DOCUMENT, document)\r\n      }, () => {\r\n        this.$store.commit(SET_STATUS_OFFLINE)\r\n        this.documentValue = this.currentDocument.guid\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.document-dropdown {\r\n  background-color: #777;\r\n  color: #FFF;\r\n  font-size: 14px;\r\n  opacity: 1;\r\n  padding: 4px;\r\n}\r\n\r\n.document-dropdown[disabled] {\r\n  opacity: 0.5;\r\n}\r\n\r\n.document-dropdown /deep/ option {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentPicker.vue?vue&type=template&id=6669ec1d&scoped=true&\"\nimport script from \"./documentPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./documentPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6669ec1d\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentPicker.vue\"\nexport default component.exports","<template>\r\n  <div class=\"menu\">\r\n    <div class=\"menu-item\">\r\n      <document-picker/>\r\n    </div>\r\n    <div class=\"menu-item\">\r\n      <router-link to=\"/documentEdit\">\r\n        <button class=\"menu-button\">\r\n          Edit\r\n        </button>\r\n      </router-link>\r\n      <router-link to=\"/export\">\r\n        <button \r\n          class=\"menu-button mobile-hide\" \r\n          :disabled=\"!isOnline\">\r\n          Download / Upload\r\n        </button>\r\n      </router-link>\r\n      <hr class=\"vert-flex\">\r\n      <button \r\n        class=\"menu-button\" \r\n        @click=\"showWizard()\" \r\n        :disabled=\"!isOnline\">\r\n        New\r\n      </button>\r\n    </div>\r\n    <div class=\"spacer\"/>\r\n    <div \r\n      class=\"menu-item\" \r\n      v-if=\"notDemo\">\r\n      <router-link to=\"/settings\">\r\n        <button \r\n          class=\"menu-button mobile-hide\" \r\n          :disabled=\"!isOnline\">\r\n          Settings\r\n        </button>\r\n      </router-link>\r\n      <a href=\"/auth#/account\">\r\n        <button \r\n          class=\"menu-button button-green mobile-hide\" \r\n          :disabled=\"!isOnline\">\r\n          Upgrade\r\n        </button>\r\n      </a>\r\n    </div>\r\n    <div \r\n      class=\"menu-item\" \r\n      v-if=\"!notDemo\">\r\n      <a href=\"/auth#/signup\">\r\n        <button \r\n          class=\"menu-button button-green mobile-hide\" \r\n          :disabled=\"!isOnline\">\r\n          Upgrade\r\n        </button>\r\n      </a>\r\n    </div>\r\n    <div class=\"menu-item\">\r\n      <button \r\n        class=\"menu-button\" \r\n        @click=\"logOut()\" \r\n        :disabled=\"!isOnline\">\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DocumentPicker from './documentPicker.vue'\r\nimport { Statuses } from './status.store'\r\nimport swal from 'sweetalert'\r\nimport { UNLOAD_CURRENT_DOCUMENT } from './document.store'\r\nimport userApi from '../api/userApi'\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPicker,\r\n  },\r\n  computed: {\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n    notDemo() {\r\n      return this.$store.state.user.user.accountType.name !== 'DEMO'\r\n    },\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    logOut() {\r\n      userApi.logOut().then(() => {\r\n        window.location.href = '/auth'\r\n      }, () => {\r\n        swal({\r\n          icon: 'error',\r\n          text: 'Sorry, logout failed. If security is a concern, please clear your cookies and other browsing data and close your browser.',\r\n        })\r\n      })\r\n    },\r\n    showWizard() {\r\n      this.$store.dispatch(UNLOAD_CURRENT_DOCUMENT)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.menu {\r\n  align-items: center;\r\n  background-color: #444;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 30px;\r\n  padding: 2px 30px;\r\n}\r\n\r\n.menu-item {\r\n  color: #FFF;\r\n  margin: 3px 0;\r\n  margin-right: 20px;\r\n}\r\n\r\n.menu-button {\r\n  color: #FFF;\r\n  margin: 0 2px;\r\n  padding: 3px 10px;\r\n}\r\n\r\n.spacer {\r\n  flex: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentMenu.vue?vue&type=template&id=cf75f42c&scoped=true&\"\nimport script from \"./documentMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./documentMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentMenu.vue?vue&type=style&index=0&id=cf75f42c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf75f42c\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentMenu.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.needsReload)?_c('div',{staticClass:\"page-wrap\",class:{ 'fade': _vm.fadeOn, 'hidden': _vm.needsReload },on:{\"&click\":function($event){_vm.resetIdleTime()},\"&mousemove\":function($event){_vm.resetIdleTime()},\"&scroll\":function($event){_vm.resetIdleTime()},\"&keypress\":function($event){_vm.resetIdleTime()}}},[_vm._t(\"default\")],2):_c('div',{staticClass:\"page-wrap\"},[_c('div',{staticClass:\"idle-page\"},[_c('div',{staticClass:\"idle-message\"},[_c('h4',[_vm._v(\"\\n        The page has been idle for over 30 minutes.\\n      \")]),_c('div',[_vm._v(\"\\n        If you've edited your work on another computer, you should reload the page in order to get your latest content.\\n        Otherwise, you may lose your changes.\\n      \")]),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"button-green reload-button\",on:{\"click\":function($event){_vm.reload()}}},[_vm._v(\"Reload\")]),_c('button',{staticClass:\"button-red cancel-button\",on:{\"click\":function($event){_vm.backToApp()}}},[_vm._v(\"Back to the app\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"page-wrap\" \r\n    :class=\"{ 'fade': fadeOn, 'hidden': needsReload }\" \r\n    v-if=\"!needsReload\"\r\n    @click.passive=\"resetIdleTime()\"\r\n    @mousemove.passive=\"resetIdleTime()\"\r\n    @scroll.passive=\"resetIdleTime()\"\r\n    @keypress.passive=\"resetIdleTime()\">\r\n    <slot/>\r\n  </div>\r\n  <div \r\n    class=\"page-wrap\" \r\n    v-else>\r\n    <div class=\"idle-page\">\r\n      <div class=\"idle-message\">\r\n        <h4>\r\n          The page has been idle for over 30 minutes.\r\n        </h4>\r\n        <div>\r\n          If you've edited your work on another computer, you should reload the page in order to get your latest content.\r\n          Otherwise, you may lose your changes.\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button \r\n            class=\"button-green reload-button\" \r\n            @click=\"reload()\">Reload</button>\r\n          <button \r\n            class=\"button-red cancel-button\" \r\n            @click=\"backToApp()\">Back to the app</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  computed: {\r\n    isPremium() {\r\n      return this.user.isPremium\r\n    },\r\n    user() {\r\n      return this.$store.state.user.user\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      fadeOn: false,\r\n      fadeTimeout: null,\r\n      idleTimeout: null,\r\n      needsReload: false,\r\n    }\r\n  },\r\n  methods: {\r\n    backToApp() {\r\n      this.needsReload = false\r\n      this.fadeOn = false\r\n      this.resetIdleTime()\r\n    },\r\n    goIdle() {\r\n      if (!this.isPremium) {\r\n        return\r\n      }\r\n\r\n      // Fade for 3 seconds\r\n      this.fadeTimeout = window.setTimeout(this.showIdlePage, 3 * 1000)\r\n      this.fadeOn = true\r\n    },\r\n    reload() {\r\n      window.location.reload()\r\n    },\r\n    resetIdleTime() {\r\n      if (!this.isPremium) {\r\n        return\r\n      }\r\n\r\n      this.fadeOn = false\r\n\r\n      if (this.idleTimeout) {\r\n        window.clearTimeout(this.idleTimeout)\r\n      }\r\n\r\n      if (this.fadeTimeout) {\r\n        window.clearTimeout(this.fadeTimeout)\r\n      }\r\n\r\n      // Go idle after 30 minutes\r\n      const wait = 30 * 60 * 1000\r\n      this.idleTimeout = window.setTimeout(this.goIdle, wait)\r\n    },\r\n    showIdlePage() {\r\n      this.needsReload = true\r\n    },\r\n  },\r\n  mounted() {\r\n    this.resetIdleTime()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-wrap {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  opacity: 1;\r\n  transition: opacity 2s;\r\n}\r\n\r\n.page-wrap.fade {\r\n  opacity: 0.1;\r\n}\r\n\r\n.page-wrap.hidden {\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n}\r\n\r\n.idle-page {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.idle-message {\r\n  margin-top: 60px;\r\n  max-width: 800px;\r\n  min-width: 300px;\r\n}\r\n\r\n.idle-message div {\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdleWatcher.vue?vue&type=template&id=46cd5d12&scoped=true&\"\nimport script from \"./IdleWatcher.vue?vue&type=script&lang=js&\"\nexport * from \"./IdleWatcher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46cd5d12\",\n  null\n  \n)\n\ncomponent.options.__file = \"IdleWatcher.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-menu\"},[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('offline-storage')],1),_vm._l((_vm.routes),function(route){return [_c('router-link',{key:route.name,attrs:{\"to\":(route.worksOffline || _vm.isOnline) ? route.location : '#'}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"main-menu--button\",attrs:{\"title\":route.tooltip,\"disabled\":!route.worksOffline && !_vm.isOnline}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getIconSvg(route.icon))}}),_c('div',[_vm._v(_vm._s(route.name))])])]),_c('hr',{key:route.name + '-hr',staticClass:\"vert between mobile-hide\"})]}),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"main-menu--button\",attrs:{\"title\":_vm.toolsTooltip,\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.showWorkshops()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getIconSvg('tools'))}}),_c('div',[_vm._v(\"Workshop\")])]),_c('div',{staticClass:\"spacer\"}),_c('status-signal'),_c('hr',{staticClass:\"vert mobile-hide\"}),_c('a',{staticClass:\"disguised mobile-hide\",attrs:{\"href\":_vm.isOnline ? '/auth#/account' : '#'}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"account\",class:{ 'offline': !_vm.isOnline },attrs:{\"title\":_vm.accountType.description}},[_c('div',{staticClass:\"email\"},[_vm._v(\"\\n        \"+_vm._s(_vm.email)+\"\\n      \")]),_c('div',{staticClass:\"account-type\"},[_vm._v(\"\\n        \"+_vm._s(_vm.accountType.displayName)+\"\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"workshopsModal\",staticClass:\"workshops\"},[(!_vm.isPremium)?_c('p',{staticClass:\"warn\"},[_vm._v(\"\\n        Workshops are only available for Premium subscribers.\\n      \")]):_vm._e(),_vm._l((_vm.workshops),function(workshop){return _c('div',{key:workshop.name,on:{\"click\":function($event){_vm.startWorkshop(workshop)}}},[_c('div',{staticClass:\"workshop\",class:{ 'restricted': !_vm.isPremium || !workshop.available }},[(!workshop.available)?_c('div',{staticClass:\"workshop-restricted\"},[_vm._v(\"\\n            COMING SOON\\n          \")]):_vm._e(),(workshop.available && !_vm.isPremium)?_c('div',{staticClass:\"workshop-restricted\"},[_vm._v(\"\\n            PREMIUM ONLY\\n          \")]):_vm._e(),_c('div',{staticClass:\"workshop-details\"},[_c('div',{staticClass:\"workshop-name\"},[_vm._v(\"\\n              \"+_vm._s(workshop.displayName)+\"\\n            \")]),_c('div',{staticClass:\"workshop-description\"},[_vm._v(\"\\n              \"+_vm._s(workshop.description)+\"\\n            \")])]),_vm._m(0,true)])])})],2)])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workshop-button\"},[_c('button',{staticClass:\"button-green\"},[_vm._v(\"\\n              Begin\\n            \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"chromePermissionModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Edward will work even when you don't have an Internet connection.\\n        To avoid data loss when offline, you need to grant app-level permissions on this device,\\n        including push notifications.\\n      \")]),_c('p',[_vm._v(\"\\n        Do you want to allow this?\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"standardPermissionModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Edward will work even when you don't have an Internet connection.\\n        To avoid data loss when offline, you need to give permission to store files on your system.\\n      \")]),_c('p',[_vm._v(\"\\n        Do you want to allow this?\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"permissionFailedModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Failed to get the required permissions. Edward may still work offline,\\n        but this could result in data loss.\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- Chrome permissions modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"chromePermissionModal\">\r\n        <p>\r\n          Edward will work even when you don't have an Internet connection.\r\n          To avoid data loss when offline, you need to grant app-level permissions on this device,\r\n          including push notifications.\r\n        </p>\r\n        <p>\r\n          Do you want to allow this?\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- Firefox/other permissions modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"standardPermissionModal\">\r\n        <p>\r\n          Edward will work even when you don't have an Internet connection.\r\n          To avoid data loss when offline, you need to give permission to store files on your system.\r\n        </p>\r\n        <p>\r\n          Do you want to allow this?\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- Permission failed modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"permissionFailedModal\">\r\n        <p>\r\n          Failed to get the required permissions. Edward may still work offline,\r\n          but this could result in data loss.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from '../shared/cache'\r\nimport { detect } from 'detect-browser'\r\nimport swal from 'sweetalert'\r\n\r\nconst browser = detect()\r\nconst offlineModalSeen = new Cache('OFFLINE_MODAL_SEEN')\r\n\r\nfunction askPermission() {\r\n  return new Promise(((resolve, reject) => {\r\n    const permissionResult = Notification.requestPermission((result) => {\r\n      resolve(result)\r\n    })\r\n\r\n    if (permissionResult) {\r\n      permissionResult.then(resolve, reject)\r\n    }\r\n  }))\r\n    .then((permissionResult) => {\r\n      if (permissionResult !== 'granted') {\r\n        throw new Error('Push notification permission was not granted.')\r\n      }\r\n    })\r\n}\r\n\r\nexport default {\r\n  computed: {\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      allowsOffline: true,\r\n    }\r\n  },\r\n  methods: {\r\n    checkOfflineStorage() {\r\n      if (navigator.storage && navigator.storage.persisted) {\r\n        navigator.storage.persisted().then((persistent) => {\r\n          this.allowsOffline = persistent\r\n\r\n          const seen = offlineModalSeen.cacheGet()\r\n          if (!seen && this.isPremium && !persistent) {\r\n            this.promptForPermission()\r\n          }\r\n        })\r\n      }\r\n    },\r\n    chromePrompt() {\r\n      swal({\r\n        content: this.$refs.chromePermissionModal,\r\n        title: 'Offline Permissions',\r\n        buttons: {\r\n          cancel: 'No',\r\n          confirm: 'Yes',\r\n        },\r\n      }).then((allow) => {\r\n        offlineModalSeen.cacheSet(true)\r\n        if (allow) {\r\n          askPermission().then(() => navigator.storage.persist().then((persist) => {\r\n            this.allowsOffline = persist\r\n            if (!persist) {\r\n              throw new Error('Could not obtain persistent storage permissions.')\r\n            }\r\n          }), () => {\r\n            this.permissionFailed()\r\n          })\r\n        } else {\r\n          this.allowsOffline = false\r\n        }\r\n      })\r\n    },\r\n    permissionFailed() {\r\n      swal({\r\n        content: this.$refs.permissionFailedModal,\r\n        title: 'Permission not obtained',\r\n        icon: 'error',\r\n      })\r\n    },\r\n    promptForPermission() {\r\n      if (browser && browser.name === 'chrome') {\r\n        return this.chromePrompt()\r\n      }\r\n      return this.standardPrompt()\r\n    },\r\n    standardPrompt() {\r\n      swal({\r\n        content: this.$refs.standardPermissionModal,\r\n        title: 'Offline Permissions',\r\n        buttons: {\r\n          cancel: 'No',\r\n          confirm: 'Yes',\r\n        },\r\n      }).then((allow) => {\r\n        offlineModalSeen.cacheSet(true)\r\n        if (allow) {\r\n          navigator.storage.persist().then((persist) => {\r\n            this.allowsOffline = persist\r\n            if (!persist) {\r\n              this.permissionFailed()\r\n            }\r\n          })\r\n        } else {\r\n          this.allowsOffline = false\r\n        }\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkOfflineStorage()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./offlineStorage.vue?vue&type=template&id=1739da34&scoped=true&\"\nimport script from \"./offlineStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./offlineStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1739da34\",\n  null\n  \n)\n\ncomponent.options.__file = \"offlineStorage.vue\"\nexport default component.exports","<template>\r\n  <div \r\n    class=\"status-wrap\" \r\n    v-if=\"!isDemo\">\r\n    <div class=\"status\">\r\n      <div \r\n        class=\"status-saving\" \r\n        :class=\"{ 'show': isSaving }\">\r\n        Saving...\r\n      </div>\r\n      <div \r\n        class=\"status-saved\" \r\n        :class=\"{ 'show': !isSaving && saved }\">\r\n        Saved <span v-html=\"savedIcon\"/>\r\n      </div>\r\n      <div \r\n        class=\"status-error\" \r\n        :class=\"{ 'show': !isSaving && saveError }\"\r\n        :title=\"saveErrorText\" \r\n        v-tooltip=\"{ enabled: !isSaving && saveError }\">\r\n        Error <span v-html=\"errorIcon\"/>\r\n      </div>\r\n      <div \r\n        class=\"status-offline\" \r\n        :class=\"{ 'show': !isSaving && offline }\"\r\n        :title=\"offlineText\" \r\n        v-tooltip=\"{ enabled: !isSaving && offline }\" \r\n        ref=\"offlineStatus\">\r\n        Offline <span v-html=\"offlineIcon\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api'\r\nimport Octicons from 'octicons'\r\nimport { Statuses, SET_STATUS_DONE, SET_STATUS_OFFLINE } from './status.store'\r\nimport tooltip from './tooltip.directive'\r\n\r\nlet offlineInterval\r\n\r\nexport default {\r\n  created() {\r\n    offlineInterval = setInterval(() => {\r\n      api.isOnline().then(() => {\r\n        // TODO: If previously offline, then upsync to the server\r\n        this.$store.commit(SET_STATUS_DONE)\r\n      }, () => {\r\n        this.$store.commit(SET_STATUS_OFFLINE)\r\n      })\r\n    }, 15 * 1000)\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(offlineInterval)\r\n  },\r\n  computed: {\r\n    accountType() {\r\n      return this.$store.state.user.user.accountType || {}\r\n    },\r\n    isDemo() {\r\n      return this.accountType.name === 'DEMO'\r\n    },\r\n    offline() {\r\n      return this.$store.state.status.status === Statuses.OFFLINE\r\n    },\r\n    saved() {\r\n      return this.$store.state.status.status === Statuses.SAVED\r\n    },\r\n    saving() {\r\n      return this.$store.state.status.status === Statuses.SAVING\r\n    },\r\n    saveError() {\r\n      return this.$store.state.status.status === Statuses.ERROR\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      errorIcon: Octicons.alert.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      isSaving: false,\r\n      offlineIcon: Octicons.plug.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      offlineText:\r\n        'No internet connection is available. Your work is saved locally. ' +\r\n        'To avoid losing work, don\\'t edit this document on any other device until the connection is restored.',\r\n      saveErrorText: 'An error has occurred. Your work may not be saved.',\r\n      savedIcon: Octicons.check.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      savingDebouncer: window.setTimeout(() => {}),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  watch: {\r\n    offline(isOffline, wasOffline) {\r\n      if (isOffline === wasOffline || !isOffline) {\r\n        return\r\n      }\r\n\r\n      const el = this.$refs.offlineStatus\r\n      if (!el._tippy) {\r\n        console.warn('Expected a Tippy.js instance on statusSignal')\r\n        return\r\n      }\r\n\r\n      setTimeout(() => {\r\n        el._tippy.show()\r\n      }, 1000)\r\n    },\r\n    // A bit of trickery to make the \"Saving\" indicator show for at least 500ms.\r\n    // This comforts me.\r\n    saving(saving) {\r\n      if (saving) {\r\n        this.isSaving = true\r\n      }\r\n\r\n      clearTimeout(this.savingDebouncer)\r\n      this.savingDebouncer = window.setTimeout(() => {\r\n        this.isSaving = this.saving\r\n      }, 500)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.status-wrap {\r\n  align-items: center;\r\n  display: flex;\r\n  font-size: 17px;\r\n  justify-content: center;\r\n  margin-right: 8px;\r\n}\r\n\r\n.status {\r\n  cursor: default;\r\n  height: 20px;\r\n  position: relative;\r\n  text-align: right;\r\n  width: 65px;\r\n}\r\n\r\n.status-saving {\r\n  color: rgb(255, 165, 0);\r\n  fill: rgb(255, 165, 0);\r\n}\r\n\r\n.status-saved {\r\n  color: rgb(1,171,109);\r\n  fill: rgb(1,171,109);\r\n}\r\n\r\n.status-error {\r\n  color: rgb(255, 0, 0);\r\n  fill: rgb(255, 0, 0);\r\n}\r\n\r\n.status-offline {\r\n  color: rgb(47, 79, 79);\r\n  fill: rgb(47, 79, 79);\r\n}\r\n\r\n.status-saving, .status-saved, .status-error, .status-offline {\r\n  cursor: default;\r\n  opacity: 0;\r\n  position: absolute;\r\n  transition: opacity 500ms;\r\n}\r\n\r\n.status-saving.show, .status-saved.show, .status-error.show, .status-offline.show {\r\n  opacity: 1;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isDemo)?_c('div',{staticClass:\"status-wrap\"},[_c('div',{staticClass:\"status\"},[_c('div',{staticClass:\"status-saving\",class:{ 'show': _vm.isSaving }},[_vm._v(\"\\n      Saving...\\n    \")]),_c('div',{staticClass:\"status-saved\",class:{ 'show': !_vm.isSaving && _vm.saved }},[_vm._v(\"\\n      Saved \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.savedIcon)}})]),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ enabled: !_vm.isSaving && _vm.saveError }),expression:\"{ enabled: !isSaving && saveError }\"}],staticClass:\"status-error\",class:{ 'show': !_vm.isSaving && _vm.saveError },attrs:{\"title\":_vm.saveErrorText}},[_vm._v(\"\\n      Error \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.errorIcon)}})]),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ enabled: !_vm.isSaving && _vm.offline }),expression:\"{ enabled: !isSaving && offline }\"}],ref:\"offlineStatus\",staticClass:\"status-offline\",class:{ 'show': !_vm.isSaving && _vm.offline },attrs:{\"title\":_vm.offlineText}},[_vm._v(\"\\n      Offline \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.offlineIcon)}})])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./statusSignal.vue?vue&type=template&id=cb803e96&scoped=true&\"\nimport script from \"./statusSignal.vue?vue&type=script&lang=js&\"\nexport * from \"./statusSignal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./statusSignal.vue?vue&type=style&index=0&id=cb803e96&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb803e96\",\n  null\n  \n)\n\ncomponent.options.__file = \"statusSignal.vue\"\nexport default component.exports","<template>\r\n  <div class=\"main-menu\">\r\n    <div style=\"display:none\">\r\n      <offline-storage/>\r\n    </div>\r\n    <template v-for=\"route in routes\">\r\n      <router-link \r\n        :to=\"(route.worksOffline || isOnline) ? route.location : '#'\" \r\n        :key=\"route.name\">\r\n        <button \r\n          class=\"main-menu--button\" \r\n          :title=\"route.tooltip\" \r\n          v-tooltip \r\n          :disabled=\"!route.worksOffline && !isOnline\">\r\n          <div v-html=\"getIconSvg(route.icon)\"/>\r\n          <div>{{ route.name }}</div>\r\n        </button>\r\n      </router-link>\r\n      <hr \r\n        class=\"vert between mobile-hide\" \r\n        :key=\"route.name + '-hr'\">\r\n    </template>\r\n    <button \r\n      class=\"main-menu--button\" \r\n      :title=\"toolsTooltip\" \r\n      v-tooltip \r\n      @click=\"showWorkshops()\" \r\n      :disabled=\"!isOnline\">\r\n      <div v-html=\"getIconSvg('tools')\"/>\r\n      <div>Workshop</div>\r\n    </button>\r\n    <div class=\"spacer\"/>\r\n    <status-signal/>\r\n    <hr class=\"vert mobile-hide\">\r\n    <a \r\n      class=\"disguised mobile-hide\" \r\n      :href=\"isOnline ? '/auth#/account' : '#'\">\r\n      <div \r\n        class=\"account\" \r\n        :class=\"{ 'offline': !isOnline }\" \r\n        :title=\"accountType.description\" \r\n        v-tooltip>\r\n        <div class=\"email\">\r\n          {{ email }}\r\n        </div>\r\n        <div class=\"account-type\">\r\n          {{ accountType.displayName }}\r\n        </div>\r\n      </div>\r\n    </a>\r\n    <!-- Workshops modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"workshops\" \r\n        ref=\"workshopsModal\">\r\n        <p \r\n          v-if=\"!isPremium\" \r\n          class=\"warn\">\r\n          Workshops are only available for Premium subscribers.\r\n        </p>\r\n        <div \r\n          v-for=\"workshop in workshops\" \r\n          :key=\"workshop.name\" \r\n          @click=\"startWorkshop(workshop)\">\r\n          <div \r\n            class=\"workshop\" \r\n            :class=\"{ 'restricted': !isPremium || !workshop.available }\">\r\n            <div \r\n              class=\"workshop-restricted\" \r\n              v-if=\"!workshop.available\">\r\n              COMING SOON\r\n            </div>\r\n            <div \r\n              class=\"workshop-restricted\" \r\n              v-if=\"workshop.available && !isPremium\">\r\n              PREMIUM ONLY\r\n            </div>\r\n            <div class=\"workshop-details\">\r\n              <div class=\"workshop-name\">\r\n                {{ workshop.displayName }}\r\n              </div>\r\n              <div class=\"workshop-description\">\r\n                {{ workshop.description }}\r\n              </div>\r\n            </div>\r\n            <div class=\"workshop-button\">\r\n              <button class=\"button-green\">\r\n                Begin\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Octicons from 'octicons'\r\nimport OfflineStorage from '../offlineStorage/offlineStorage.vue'\r\nimport { Statuses } from './status.store'\r\nimport StatusSignal from './statusSignal.vue'\r\nimport swal from 'sweetalert'\r\nimport tooltip from './tooltip.directive'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nexport default {\r\n  components: {\r\n    OfflineStorage,\r\n    StatusSignal,\r\n  },\r\n  computed: {\r\n    accountType() {\r\n      return this.$store.state.user.user.accountType || {}\r\n    },\r\n    email() {\r\n      return this.$store.state.user.user.email || ''\r\n    },\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      routes: [{\r\n        icon: 'telescope',\r\n        location: '/plan',\r\n        name: 'Plan',\r\n        tooltip: 'Make general notes about characters, topics, settings, and more.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'list-unordered',\r\n        location: '/outline',\r\n        name: 'Outline',\r\n        tooltip: 'Create and organize chapters and chapter-specific notes.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'pencil',\r\n        location: '/write',\r\n        name: 'Write',\r\n        tooltip: 'Write, search and measure your content.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'pulse',\r\n        location: '/analyze',\r\n        name: 'Analyze',\r\n        tooltip: 'Get data-driven insights into your writing.',\r\n        worksOffline: false,\r\n      }, {\r\n        icon: 'search',\r\n        location: '/search',\r\n        name: 'Search',\r\n        tooltip: 'Search your entire document for a word or phrase.',\r\n        worksOffline: true,\r\n      }],\r\n      toolsTooltip: 'Workshop your novel with free or prompted writing exercises.',\r\n      workshops: Object.keys(writingWorkshops).map(key => writingWorkshops[key]),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  methods: {\r\n    getIconSvg(iconName) {\r\n      return Octicons[iconName].toSVG({\r\n        class: 'main-menu--icon',\r\n        height: 25,\r\n        width: 25,\r\n      })\r\n    },\r\n    showWorkshops() {\r\n      swal({\r\n        content: this.$refs.workshopsModal,\r\n        title: 'Workshops',\r\n        buttons: {\r\n          cancel: true,\r\n        },\r\n      })\r\n    },\r\n    startWorkshop(workshop) {\r\n      if (!this.isPremium || !workshop.available) {\r\n        return\r\n      }\r\n\r\n      swal.close()\r\n      this.$router.push(workshop.route)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main-menu {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n}\r\n\r\n.main-menu--button {\r\n  background-color: transparent;\r\n  border: none;\r\n  color: #777;\r\n  height: 100%;\r\n  margin-bottom: 2px;\r\n  margin-top: 2px;\r\n  padding: 6px 20px;\r\n  transition: color 100ms ease-in-out;\r\n}\r\n\r\n.main-menu--button:not([disabled]):hover {\r\n  color: #000;\r\n}\r\n\r\n@media (max-width: 800px) {\r\n  .main-menu--button {\r\n    padding: 6px 10px;\r\n  }\r\n}\r\n\r\n.router-link-active > .main-menu--button {\r\n  color: #000;\r\n}\r\n\r\nhr.between:last-of-type {\r\n  display: none;\r\n}\r\n\r\n.spacer {\r\n  flex: 1;\r\n}\r\n\r\n.account {\r\n  color: inherit;\r\n  cursor: pointer;\r\n  margin-left: 8px;\r\n  opacity: 1;\r\n  text-decoration: none;\r\n}\r\n\r\n.account.offline {\r\n  cursor: default;\r\n  opacity: 0.5;\r\n}\r\n\r\n.email {\r\n  color: rgb(13, 91, 166);\r\n  font-size: 14px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.account-type {\r\n  color: rgb(13, 91, 166);\r\n  font-size: 14px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.warn {\r\n  color: red;\r\n}\r\n\r\n.workshop {\r\n  align-items: center;\r\n  border: 1px solid rgb(1, 171, 109);\r\n  color: #000;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  margin-bottom: 12px;\r\n  padding: 8px;\r\n  position: relative;\r\n  text-decoration: none;\r\n}\r\n\r\n.workshop.restricted {\r\n  cursor: default;\r\n}\r\n\r\n.workshop-restricted {\r\n  background-color: rgba(255, 255, 255, 0.85);\r\n  bottom: 0;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  left: 0;\r\n  padding-top: 5px;\r\n  position: absolute;\r\n  right: 0;\r\n  text-align: center;\r\n  top: 0;\r\n}\r\n\r\n.workshop-details {\r\n  align-items: flex-start;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n}\r\n\r\n.workshop-name {\r\n  font-size: 28px;\r\n  text-align: left;\r\n}\r\n\r\n.workshop-description {\r\n  font-size: 14px;\r\n  text-align: left;\r\n}\r\n\r\n.workshop-button {\r\n  margin-left: 12px;\r\n  padding: 8px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.main-menu--icon {\r\n  fill: #777;\r\n  transition: fill 100ms ease-in-out;\r\n}\r\n\r\n.main-menu--button:not([disabled]):hover .main-menu--icon {\r\n  fill: #000;\r\n}\r\n\r\n.router-link-active > .main-menu--button .main-menu--icon {\r\n  fill: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainMenu.vue?vue&type=template&id=4d7c5f33&scoped=true&\"\nimport script from \"./mainMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./mainMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mainMenu.vue?vue&type=style&index=0&id=4d7c5f33&scoped=true&lang=css&\"\nimport style1 from \"./mainMenu.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d7c5f33\",\n  null\n  \n)\n\ncomponent.options.__file = \"mainMenu.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"content border-bottom\"},[(!_vm.hasDocuments)?_c('div',[_c('p',[_vm._v(\"You haven't created any documents yet.\")])]):_vm._e(),(_vm.hasDocuments)?_c('div',[_c('p',[_vm._v(\"Choose a saved document:\")]),_c('div',{staticClass:\"document-picker-wrap\"},[_c('document-picker')],1)]):_vm._e()]),_c('div',{staticClass:\"content\"},[_vm._m(1),_c('div',{staticClass:\"types\"},_vm._l((_vm.documentTypes),function(type){return _c('button',{key:type.name,staticClass:\"type\",class:{ 'selected': type === _vm.selectedType },on:{\"click\":function($event){_vm.selectDocument(type)}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(type.svg)}}),_c('div',[_vm._v(_vm._s(type.name))])])})),(_vm.selectedType)?[_c('div',{staticClass:\"title\"},[_c('label',{attrs:{\"for\":\"new-document-title\"}},[_vm._v(_vm._s(_vm.selectedType.name)+\" title:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],attrs:{\"id\":\"new-document-title\"},domProps:{\"value\":(_vm.title)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.createDocument()},\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('div',{staticClass:\"actions\"},[(_vm.saving)?_c('pulse-loader'):_vm._e(),(!_vm.saving)?_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.title},on:{\"click\":function($event){_vm.createDocument()}}},[_vm._v(\"\\n            Create\\n          \")]):_vm._e(),(_vm.error)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n            That didn't work. Please try again.\\n          \")]):_vm._e()],1)]:_vm._e()],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('p',[_c('strong',[_vm._v(\"Welcome to Edward.\")])]),_c('p',[_vm._v(\"\\n        New here? \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.youtube.com/watch?v=OvERL5CPPXM\"}},[_vm._v(\"Watch the introductory video.\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"Create a new document:\")])])}]\n\nexport { render, staticRenderFns }","const createType = (name, svg, plans, chapters, topics) => ({\r\n  name, svg, plans, chapters, topics,\r\n})\r\n\r\nconst NOVEL = createType(\r\n  'Novel',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M23 5v13.883l-1 .117v-16c-3.895.119-7.505.762-10.002 2.316-2.496-1.554-6.102-2.197-9.998-2.316v16l-1-.117v-13.883h-1v15h9.057c1.479 0 1.641 1 2.941 1 1.304 0 1.461-1 2.942-1h9.06v-15h-1zm-12 13.645c-1.946-.772-4.137-1.269-7-1.484v-12.051c2.352.197 4.996.675 7 1.922v11.613zm9-1.484c-2.863.215-5.054.712-7 1.484v-11.613c2.004-1.247 4.648-1.725 7-1.922v12.051z\"/></svg>',\r\n  ['Synopsis', 'Plot', 'Characters', 'Settings', 'Ideas'],\r\n  ['Introduction', 'Chapter 1'],\r\n  ['Events', 'Scenes', 'Conversations'],\r\n)\r\n\r\nconst ESSAY = createType(\r\n  'Essay',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z\"/></svg>',\r\n  ['Thesis Statement', 'Abstract', 'Research Notes', 'Ideas'],\r\n  ['Introduction', 'Part 1', 'Part 2', 'Part 3', 'Conclusion'],\r\n  ['Arguments', 'Counter-arguments', 'Citations'],\r\n)\r\n\r\nconst SCRIPT = createType(\r\n  'Script',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M22 1v2h-2v-2h-2v4h-12v-4h-2v2h-2v-2h-2v22h2v-2h2v2h2v-4h12v4h2v-2h2v2h2v-22h-2zm-18 18h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm14 9h-12v-8h12v8zm4 3h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2z\"/></svg>',\r\n  ['Synopsis', 'Plot', 'Dramatis Personae', 'Settings', 'Ideas'],\r\n  ['Opening', 'First Act', 'Second Act', 'Third Act', 'Denouement'],\r\n  ['Events', 'Scenes'],\r\n)\r\n\r\nconst BLANK = createType(\r\n  'Blank Document',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 2v5h5v15h-16v-20h11zm1-2h-14v24h20v-18l-6-6z\"/></svg>',\r\n  [],\r\n  ['Chapter 1'],\r\n  [],\r\n)\r\n\r\nconst types = [NOVEL, ESSAY, SCRIPT, BLANK]\r\n\r\nexport default types\r\n","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"container\">\r\n      <div class=\"header\">\r\n        <p>\r\n          <strong>Welcome to Edward.</strong>\r\n        </p>\r\n        <p>\r\n          New here? <a \r\n            target=\"_blank\" \r\n            href=\"https://www.youtube.com/watch?v=OvERL5CPPXM\">Watch the introductory video.</a>\r\n        </p>\r\n      </div>\r\n      <div class=\"content border-bottom\">\r\n        <div v-if=\"!hasDocuments\">\r\n          <p>You haven't created any documents yet.</p>\r\n        </div>\r\n        <div v-if=\"hasDocuments\">\r\n          <p>Choose a saved document:</p>\r\n          <div class=\"document-picker-wrap\">\r\n            <document-picker/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div>\r\n          <p>Create a new document:</p>\r\n        </div>\r\n        <div class=\"types\">\r\n          <button \r\n            class=\"type\" \r\n            :class=\"{ 'selected': type === selectedType }\"\r\n            v-for=\"type in documentTypes\" \r\n            :key=\"type.name\"\r\n            @click=\"selectDocument(type)\">\r\n            <div v-html=\"type.svg\"/>\r\n            <div>{{ type.name }}</div>\r\n          </button>\r\n        </div>\r\n        <template v-if=\"selectedType\">\r\n          <div class=\"title\">\r\n            <label for=\"new-document-title\">{{ selectedType.name }} title:</label>\r\n            <input \r\n              id=\"new-document-title\" \r\n              v-model=\"title\" \r\n              @keyup.enter=\"createDocument()\">\r\n          </div>\r\n          <div class=\"actions\">\r\n            <pulse-loader v-if=\"saving\"/>\r\n            <button \r\n              v-if=\"!saving\" \r\n              class=\"button-green\" \r\n              @click=\"createDocument()\" \r\n              :disabled=\"!title\">\r\n              Create\r\n            </button>\r\n            <p \r\n              class=\"error\" \r\n              v-if=\"error\">\r\n              That didn't work. Please try again.\r\n            </p>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SET_UP_DOCUMENT } from '../shared/document.store'\r\nimport documentTypes from './documentTypes'\r\nimport DocumentPicker from '../shared/documentPicker.vue'\r\nimport guid from '../shared/guid'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPicker,\r\n    PulseLoader,\r\n  },\r\n  computed: {\r\n    hasDocuments() {\r\n      return this.$store.state.document.ownedDocuments.length > 0\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      documentTypes,\r\n      error: false,\r\n      saving: false,\r\n      selectedType: null,\r\n      title: '',\r\n    }\r\n  },\r\n  methods: {\r\n    createDocument() {\r\n      const type = this.selectedType\r\n      const name = this.title\r\n\r\n      if (!type || !name) {\r\n        return\r\n      }\r\n\r\n      const newDocument = {\r\n        guid: guid(),\r\n        name,\r\n      }\r\n\r\n      this.saving = true\r\n      this.error = false\r\n\r\n      this.$store.dispatch(SET_UP_DOCUMENT, { document: newDocument, type }).then(() => {\r\n        this.saving = false\r\n        if (this.isPremium && type.name === 'Novel') {\r\n          this.$router.push('/workshop/novel-quickstart')\r\n        }\r\n      }, () => {\r\n        this.error = true\r\n        this.saving = false\r\n      })\r\n    },\r\n    selectDocument(type) {\r\n      this.selectedType = type\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: block;\r\n  flex: 1;\r\n}\r\n\r\n.container {\r\n  background-color: #FFF;\r\n  border-radius: 3px;\r\n  box-shadow: 0px 0px 15px 2px rgba(136,136,136,1);\r\n  display: block;\r\n  flex: 1;\r\n  margin: 0 auto;\r\n  max-width: 800px;\r\n}\r\n\r\n.header {\r\n  border-bottom: 1px solid #CCC;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 75px;\r\n  justify-content: center;\r\n  padding: 0 12px;\r\n}\r\n\r\n.header /deep/ p {\r\n  margin: 0;\r\n}\r\n\r\n.header /deep/ a {\r\n  font-family: 'Khula', sans-serif;\r\n}\r\n\r\n.content {\r\n  padding: 12px;\r\n}\r\n\r\n.content /deep/ p {\r\n  margin: 0;\r\n}\r\n\r\n.border-bottom {\r\n  border-bottom: 1px solid #CCC;\r\n}\r\n\r\n.document-picker-wrap {\r\n  margin-top: 6px;\r\n}\r\n\r\n.types {\r\n  display: flex;\r\n  margin-top: 8px;\r\n}\r\n\r\n.type {\r\n  align-items: center;\r\n  background-color: #FFF;\r\n  border: 2px solid #CCC;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 90px;\r\n  justify-content: center;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n  padding: 8px;\r\n  width: 90px;\r\n}\r\n\r\n.type:hover {\r\n  background-color: #F0F0F0;\r\n}\r\n\r\n.type.selected {\r\n  background-color: #F0F0F0;\r\n  border-color: rgb(1,171,109);\r\n}\r\n\r\n.title {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 8px 0;\r\n  max-width: 500px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wizard.vue?vue&type=template&id=582964bd&scoped=true&\"\nimport script from \"./wizard.vue?vue&type=script&lang=js&\"\nexport * from \"./wizard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wizard.vue?vue&type=style&index=0&id=582964bd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"582964bd\",\n  null\n  \n)\n\ncomponent.options.__file = \"wizard.vue\"\nexport default component.exports","<template>\r\n  <idle-watcher>\r\n    <transition \r\n      name=\"wrapper\" \r\n      mode=\"out-in\">\r\n      <div \r\n        id=\"app\" \r\n        class=\"app\" \r\n        v-if=\"loaded && currentDocument && currentDocument.guid\" \r\n        key=\"app\">\r\n        <document-menu/>\r\n        <div class=\"app-header\">\r\n          <div class=\"logo-wrap\">\r\n            <img \r\n              class=\"logo\" \r\n              src=\"../../public/img/logo.png\">\r\n          </div>\r\n          <div class=\"app-header--menu\">\r\n            <main-menu/>\r\n          </div>\r\n        </div>\r\n        <div class=\"page\">\r\n          <transition \r\n            name=\"wrapper\" \r\n            mode=\"out-in\">\r\n            <router-view/>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n      <div \r\n        v-else-if=\"!loaded\" \r\n        class=\"loading\" \r\n        key=\"loading\">\r\n        <img \r\n          class=\"logo\" \r\n          src=\"../../public/img/logo.png\">\r\n        <pulse-loader/>\r\n      </div>\r\n      <div \r\n        v-else \r\n        class=\"page\" \r\n        key=\"wizard\">\r\n        <wizard/>\r\n      </div>\r\n    </transition>\r\n  </idle-watcher>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './shared/cache'\r\nimport DocumentMenu from './shared/documentMenu.vue'\r\nimport IdleWatcher from './IdleWatcher.vue'\r\nimport { INIT_DOCUMENTS } from './shared/document.store'\r\nimport MainMenu from './shared/mainMenu.vue'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\nimport { SET_DEFAULT_USER, SET_USER, SET_USER_PROMISE } from './shared/user.store'\r\nimport userApi from './api/userApi'\r\nimport Wizard from './wizard/wizard.vue'\r\n\r\nconst userCache = new Cache('CURRENT_USER')\r\n\r\nexport default {\r\n  beforeCreate() {\r\n    const userPromise = userApi.getUser()\r\n    const safeUserPromise = userPromise.then((user) => {\r\n      if (!user.verified) {\r\n        window.location.href = '/auth#/verification'\r\n        return\r\n      }\r\n\r\n      userCache.cacheSet(user)\r\n      this.$store.commit(SET_USER, user)\r\n      return user\r\n    }, () => {\r\n      const cachedUser = userCache.cacheGet()\r\n      if (cachedUser) {\r\n        this.$store.commit(SET_USER, cachedUser)\r\n        return cachedUser\r\n      }\r\n\r\n      this.$store.commit(SET_DEFAULT_USER)\r\n      return this.$store.state.user.user\r\n    })\r\n\r\n    this.$store.commit(SET_USER_PROMISE, safeUserPromise)\r\n  },\r\n  created() {\r\n    this.$store.dispatch(INIT_DOCUMENTS).then(() => {\r\n      this.loaded = true\r\n    }, (err) => {\r\n      console.error(err)\r\n      this.loaded = true\r\n    })\r\n\r\n    let routeTransitionTimeout = null\r\n\r\n    this.$router.beforeEach((to, from, next) => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      routeTransitionTimeout = setTimeout(() => {\r\n        this.loaded = false\r\n      }, 800)\r\n      next()\r\n    })\r\n\r\n    this.$router.afterEach(() => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      this.loaded = true\r\n    })\r\n\r\n    this.$router.onError(() => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      this.loaded = true\r\n    })\r\n  },\r\n  components: {\r\n    DocumentMenu,\r\n    IdleWatcher,\r\n    MainMenu,\r\n    PulseLoader,\r\n    Wizard,\r\n  },\r\n  computed: {\r\n    currentDocument() {\r\n      return this.$store.state.document.currentDocument\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper-enter-active, .wrapper-leave-active {\r\n  transition: opacity 50ms;\r\n}\r\n\r\n.wrapper-enter, .wrapper-leave-to {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.wrapper-enter-to, .wrapper-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n}\r\n\r\n.app-header {\r\n  background-color: #FFF;\r\n  box-shadow: 0 10px 20px rgba(0,0,0,0.09), 0 6px 6px rgba(0,0,0,0.11);\r\n  display: flex;\r\n  height: 60px;\r\n  width: 100%;\r\n  z-index: 50;\r\n}\r\n\r\n.app-header--menu {\r\n  display: flex;\r\n  flex: 1;\r\n  height: 100%;\r\n}\r\n\r\n.logo-wrap {\r\n  align-items: center;\r\n  color: #FFF;\r\n  display: flex;\r\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-size: 22px;\r\n  height: 100%;\r\n  justify-content: center;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n}\r\n\r\n.logo {\r\n  height: 28px;\r\n}\r\n\r\n@media (max-width: 800px) {\r\n  .logo-wrap {\r\n    padding-left: 12px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .logo-wrap .logo {\r\n    height: 14px;\r\n  }\r\n}\r\n\r\n.loading {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  width: 100vw;\r\n}\r\n\r\n.page {\r\n  display: flex;\r\n  flex: 1;\r\n  max-height: calc(100% - 62px);\r\n  overflow: auto;\r\n  padding: 14px 14px;\r\n}\r\n\r\n.tooltip {\r\n  color: #FFF;\r\n  cursor: default;\r\n  font-size: 16px;\r\n}\r\n\r\n.tooltip a {\r\n  color: #CCC;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=72f00f74&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=72f00f74&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72f00f74\",\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import debounce from 'lodash/debounce'\r\nimport {\r\n  ADD_CHAPTER, ADD_PLAN, ADD_SECTION, ADD_TOPIC, ADD_TOPIC_TO_CHAPTER,\r\n  ARCHIVE_CHAPTER, ARCHIVE_PLAN, ARCHIVE_SECTION, ARCHIVE_TOPIC,\r\n  DELETE_CHAPTER, DELETE_PLAN, DELETE_SECTION, DELETE_TOPIC,\r\n  REARRANGE_CHAPTERS, REARRANGE_PLANS, REARRANGE_SECTIONS, REARRANGE_TOPICS,\r\n  RESTORE_CHAPTER, RESTORE_PLAN, RESTORE_SECTION, RESTORE_TOPIC,\r\n  UPDATE_CHAPTER, UPDATE_CHAPTER_CONTENT, UPDATE_PLAN,\r\n  UPDATE_SECTION, UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS,\r\n  UPDATE_TOPIC, UPDATE_TOPIC_CONTENT,\r\n} from '../shared/chapters.store'\r\n\r\nimport { ADD_DOCUMENT, REMOVE_OWNED_DOCUMENT, UPDATE_DOCUMENT_NAME } from '../shared/document.store'\r\n\r\nimport {\r\n  ADD_WORKSHOP, ARCHIVE_WORKSHOP, DELETE_WORKSHOP, RESTORE_WORKSHOP,\r\n  UPDATE_WORKSHOPS_CONTENT,\r\n} from '../shared/workshops.store'\r\n\r\nimport { getStorageApi } from './storageSwitch'\r\n\r\nconst mutations = {\r\n  addDocument: [ADD_DOCUMENT],\r\n  deleteChapter: [DELETE_CHAPTER],\r\n  deleteDocument: [REMOVE_OWNED_DOCUMENT],\r\n  deletePlan: [DELETE_PLAN],\r\n  deleteSection: [DELETE_SECTION],\r\n  deleteTopic: [DELETE_TOPIC],\r\n  deleteWorkshop: [DELETE_WORKSHOP],\r\n  rearrangeChapter: [REARRANGE_CHAPTERS],\r\n  rearrangePlan: [REARRANGE_PLANS],\r\n  rearrangeSection: [REARRANGE_SECTIONS],\r\n  rearrangeTopic: [REARRANGE_TOPICS],\r\n  updateChapter: [ADD_CHAPTER, ADD_TOPIC_TO_CHAPTER, ARCHIVE_CHAPTER,\r\n    RESTORE_CHAPTER, UPDATE_CHAPTER, UPDATE_CHAPTER_CONTENT,\r\n    UPDATE_TOPIC_CONTENT],\r\n  updateDocument: [UPDATE_DOCUMENT_NAME],\r\n  updatePlan: [ADD_PLAN, ARCHIVE_PLAN, RESTORE_PLAN, UPDATE_PLAN],\r\n  updateSection: [ADD_SECTION, ARCHIVE_SECTION, RESTORE_SECTION,\r\n    UPDATE_SECTION, UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS],\r\n  updateTopic: [ADD_TOPIC, ARCHIVE_TOPIC,\r\n    RESTORE_TOPIC, UPDATE_TOPIC],\r\n  updateWorkshop: [ADD_WORKSHOP, ARCHIVE_WORKSHOP, RESTORE_WORKSHOP],\r\n  updateWorkshops: [UPDATE_WORKSHOPS_CONTENT],\r\n}\r\n\r\nlet debouncedUpdateChapter = null\r\nlet chapterStorage = null\r\n\r\nconst getDebouncedUpdateChapter = () => {\r\n  if (!debouncedUpdateChapter) {\r\n    debouncedUpdateChapter = debounce((...args) => {\r\n      chapterStorage.updateChapter(...args)\r\n    }, 50)\r\n  }\r\n\r\n  return debouncedUpdateChapter\r\n}\r\n\r\nexport const chapterAutosaverPlugin = (store) => {\r\n  store.subscribe((mutation, state) => {\r\n    // Make sure we know the user type before handling mutations\r\n    state.user.userPromise.then((user) => {\r\n      getStorageApi(user).then((storage) => {\r\n        chapterStorage = storage\r\n        handleMutation(mutation, state, storage, getDebouncedUpdateChapter())\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\nfunction handleMutation(mutation, state, storage, debouncedUpdateChapter) {\r\n  const { type, payload } = mutation\r\n  const documentGuid = state.document.currentDocument && state.document.currentDocument.guid\r\n\r\n  if (mutations.addDocument.includes(type)) {\r\n    storage.addDocument(payload)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteDocument.includes(type)) {\r\n    storage.deleteDocument(payload.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateDocument.includes(type)) {\r\n    storage.updateDocument(payload)\r\n    return\r\n  }\r\n\r\n  if (!documentGuid) {\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteChapter.includes(type)) {\r\n    storage.deleteChapter(documentGuid, payload.chapter.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deletePlan.includes(type)) {\r\n    storage.deletePlan(documentGuid, payload.plan.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteSection.includes(type)) {\r\n    storage.deleteSection(documentGuid, payload.plan.guid, payload.section.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteTopic.includes(type)) {\r\n    storage.deleteTopic(documentGuid, payload.topic.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteWorkshop.includes(type)) {\r\n    storage.deleteWorkshop(documentGuid, payload.workshop.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeChapter.includes(type)) {\r\n    storage.arrangeChapters(documentGuid, payload.chapters.map(chapter => chapter.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangePlan.includes(type)) {\r\n    storage.arrangePlans(documentGuid, payload.plans.map(plan => plan.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeSection.includes(type)) {\r\n    storage.arrangeSections(documentGuid, payload.plan.guid, payload.sections.map(section => section.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeTopic.includes(type)) {\r\n    storage.arrangeTopics(documentGuid, payload.topics.map(topic => topic.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.updateChapter.includes(type)) {\r\n    debouncedUpdateChapter(documentGuid, payload.chapter.guid, payload.chapter)\r\n    return\r\n  }\r\n\r\n  if (mutations.updatePlan.includes(type)) {\r\n    storage.updatePlan(documentGuid, payload.plan.guid, payload.plan)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateSection.includes(type)) {\r\n    storage.updateSection(documentGuid, payload.plan.guid, payload.section.guid, payload.section)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateTopic.includes(type)) {\r\n    storage.updateTopic(documentGuid, payload.topic.guid, payload.topic)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateWorkshop.includes(type)) {\r\n    storage.updateWorkshops(documentGuid, [payload.workshop])\r\n  }\r\n\r\n  if (mutations.updateWorkshops.includes(type)) {\r\n    storage.updateWorkshops(documentGuid, payload.workshopUpdates.map(update => update.workshop))\r\n  }\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport { chapterAutosaverPlugin } from './app/api/chapters.persist'\r\nimport composer from './app/composer/composer.store.js'\r\nimport chapters from './app/shared/chapters.store.js'\r\nimport document from './app/shared/document.store.js'\r\nimport status from './app/shared/status.store'\r\nimport user from './app/shared/user.store'\r\nimport workshop from './app/shared/workshops.store'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    composer,\r\n    chapters,\r\n    document,\r\n    status,\r\n    user,\r\n    workshop,\r\n  },\r\n  plugins: [chapterAutosaverPlugin],\r\n})\r\n\r\nexport default store\r\n","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport Raven from 'raven-js'\r\nimport RavenVue from 'raven-js/plugins/vue'\r\n\r\nimport router from './app/router'\r\nimport App from './app/App.vue'\r\n\r\nimport './assets/yui-cssreset.css'\r\nimport 'tippy.js/dist/tippy.css'\r\n\r\nimport './main.css'\r\nimport store from './store'\r\n\r\nif (window && window.isProd !== false) {\r\n  Raven\r\n    .config('https://1deaeecd96244297ad475854be0d5502@sentry.io/540818')\r\n    .addPlugin(RavenVue, Vue)\r\n    .install()\r\n\r\n  window.Raven = Raven\r\n}\r\n\r\nVue.config.productionTip = false\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/service-worker.js').then((registration) => {\r\n      console.log('SW registered: ', registration)\r\n    }).catch((registrationError) => {\r\n      console.log('SW registration failed: ', registrationError)\r\n    })\r\n  })\r\n}\r\n\r\n/* eslint-disable no-new */\r\nexport default new Vue({\r\n  el: '#app',\r\n  components: { App },\r\n  router,\r\n  store,\r\n  render(h) {\r\n    return h('App')\r\n  },\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"container\",staticClass:\"editor\"},[_c('div',{ref:\"editor\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.emitDone($event)}}})]),(_vm.showFullScreen)?_c('div',[_c('quill-full-screen',{attrs:{\"content\":_vm.content,\"content-id\":_vm.contentId},on:{\"close\":function($event){_vm.hideFullScreen()},\"update:content\":_vm.emitFullscreenContent,\"update:selection\":_vm.emitSelection}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Octicons from 'octicons'\r\nimport Quill from 'quill'\r\nimport 'quill/dist/quill.snow.css'\r\nimport tooltip from './tippyBuilder'\r\n\r\nconst toolbarOptions = [[\r\n  { header: [1, 2, 3, false] },\r\n], [\r\n  'bold', 'italic', 'underline', 'strike',\r\n], [\r\n  { list: 'ordered' }, { list: 'bullet' },\r\n], [\r\n  'blockquote',\r\n], [\r\n  'clean',\r\n]]\r\n\r\nconst allowedFormats = [\r\n  'header',\r\n  'size',\r\n  'bold',\r\n  'italic',\r\n  'underline',\r\n  'strike',\r\n  'list',\r\n  'blockquote',\r\n]\r\n\r\nconst createQuill = (el, placeholder, container, onFullScreen) => {\r\n  const tempToolbar = [...toolbarOptions]\r\n  const handlers = {}\r\n  if (onFullScreen) {\r\n    tempToolbar.push(['fullscreen'])\r\n    handlers.fullscreen = onFullScreen\r\n  }\r\n\r\n  const quill = new Quill(el, {\r\n    bounds: container,\r\n    formats: allowedFormats,\r\n    modules: {\r\n      toolbar: {\r\n        container: tempToolbar,\r\n        handlers,\r\n      },\r\n    },\r\n    placeholder,\r\n    theme: 'snow',\r\n  })\r\n\r\n  if (onFullScreen) {\r\n    const fullScreenSvg = Octicons['device-desktop'].toSVG({\r\n      height: 30,\r\n    })\r\n    const fullScreenButton = container.querySelector('.ql-fullscreen')\r\n    fullScreenButton.title = 'Full-screen writing mode'\r\n    fullScreenButton.innerHTML = fullScreenSvg\r\n\r\n    tooltip({\r\n      distance: 10,\r\n      el: fullScreenButton,\r\n      interactive: false,\r\n      position: 'top',\r\n    })\r\n  }\r\n\r\n  return quill\r\n}\r\n\r\nexport default createQuill\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full-screen-wrap full-screen\"},[_c('div',{staticClass:\"actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isWideView),expression:\"!isWideView\"},{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"action wide-view\",attrs:{\"title\":\"Wide view\"},domProps:{\"innerHTML\":_vm._s(_vm.wideSvg)},on:{\"click\":function($event){_vm.showWideView()}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isWideView),expression:\"isWideView\"},{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"action narrow-view\",attrs:{\"title\":\"Book-width view\"},domProps:{\"innerHTML\":_vm._s(_vm.narrowSvg)},on:{\"click\":function($event){_vm.showNarrowView()}}}),_c('button',{staticClass:\"action close\",domProps:{\"innerHTML\":_vm._s(_vm.exitSvg)},on:{\"click\":function($event){_vm.close()}}})]),_c('div',{ref:\"container\",staticClass:\"container\",class:{ 'wide': _vm.isWideView }},[_c('div',{ref:\"editor\",staticClass:\"editor\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"full-screen-wrap full-screen\">\r\n    <div class=\"actions\">\r\n      <button \r\n        v-show=\"!isWideView\" \r\n        class=\"action wide-view\" \r\n        v-html=\"wideSvg\" \r\n        @click=\"showWideView()\"\r\n        title=\"Wide view\" \r\n        v-tooltip/>\r\n      <button \r\n        v-show=\"isWideView\" \r\n        class=\"action narrow-view\" \r\n        v-html=\"narrowSvg\" \r\n        @click=\"showNarrowView()\"\r\n        title=\"Book-width view\" \r\n        v-tooltip/>\r\n      <button \r\n        class=\"action close\" \r\n        v-html=\"exitSvg\" \r\n        @click=\"close()\"/>\r\n    </div>\r\n    <div \r\n      class=\"container\" \r\n      :class=\"{ 'wide': isWideView }\" \r\n      ref=\"container\">\r\n      <div \r\n        class=\"editor\" \r\n        ref=\"editor\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './cache'\r\nimport createQuill from './quillBuilder'\r\nimport debounce from 'lodash/debounce'\r\nimport Octicons from 'octicons'\r\nimport tooltip from './tooltip.directive'\r\n\r\nconst width = new Cache('FULL_SCREEN_EDITOR_WIDTH')\r\n\r\nexport default {\r\n  beforeDestroy() {\r\n    this.handlers.forEach(([name, fn]) => this.quill.off(name, fn))\r\n  },\r\n  data() {\r\n    return {\r\n      exitSvg: Octicons.x.toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      handlers: [],\r\n      isWideView: false,\r\n      narrowSvg: Octicons['screen-normal'].toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      quill: null,\r\n      wideSvg: Octicons['screen-full'].toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('close')\r\n    },\r\n    emitContent(content, contentId) {\r\n      this.$emit('update:content', { content, contentId })\r\n    },\r\n    emitSelection(selection) {\r\n      this.$emit('update:selection', selection)\r\n    },\r\n    listenQuill(quill) {\r\n      const textChanged = debounce((content, contentId) => {\r\n        this.emitContent(content, contentId)\r\n      }, 750, { maxWait: 2000 })\r\n\r\n      const onTextChange = () => {\r\n        const content = quill.getContents()\r\n        const contentId = this.contentId\r\n        textChanged(content, contentId)\r\n      }\r\n\r\n      const onSelectionChange = debounce((range) => {\r\n        if (!range) {\r\n          return\r\n        }\r\n\r\n        let selection\r\n        if (!range.length) {\r\n          selection = {\r\n            range: null,\r\n            text: '',\r\n          }\r\n        } else {\r\n          selection = {\r\n            range,\r\n            text: quill.getText(range.index, range.length),\r\n          }\r\n        }\r\n\r\n        this.emitSelection(selection)\r\n      }, 500)\r\n\r\n      quill.on('text-change', onTextChange)\r\n      quill.on('selection-change', onSelectionChange)\r\n\r\n      this.handlers.push(['text-change', onTextChange], ['selection-change', onSelectionChange])\r\n    },\r\n    showNarrowView() {\r\n      this.isWideView = false\r\n      width.cacheSet(false)\r\n    },\r\n    showWideView() {\r\n      this.isWideView = true\r\n      width.cacheSet(true)\r\n    },\r\n    updateQuill(quill, content) {\r\n      if (content) {\r\n        quill.setContents(content, 'api')\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isWideView = width.cacheGet() || false\r\n\r\n    this.quill = createQuill(\r\n      this.$refs.editor,\r\n      'Write here.',\r\n      this.$refs.container,\r\n    )\r\n\r\n    this.updateQuill(this.quill, this.content)\r\n    this.listenQuill(this.quill)\r\n  },\r\n  props: {\r\n    content: {\r\n      required: true,\r\n      type: Object\r\n    },\r\n    contentId: {\r\n      default: null,\r\n      required: false,\r\n      type: String\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.full-screen-wrap {\r\n  background-color: rgba(255, 255, 255, 0.98);\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  left: 0;\r\n  position: fixed;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.actions {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 5px;\r\n}\r\n\r\n.action {\r\n  align-items: center;\r\n  border: none;\r\n  display: flex;\r\n  fill: #000;\r\n  height: 45px;\r\n  justify-content: center;\r\n  padding: 0;\r\n  transition: fill 100ms;\r\n  width: 45px;\r\n}\r\n\r\n.action:hover {\r\n  fill: #CCC;\r\n}\r\n\r\n.container {\r\n  align-self: center;\r\n  height: calc(100% - 40px);\r\n  max-width: 500px;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n}\r\n\r\n.container.wide {\r\n  max-width: 1000px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quillFullScreen.vue?vue&type=template&id=fafac0d6&scoped=true&\"\nimport script from \"./quillFullScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./quillFullScreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fafac0d6\",\n  null\n  \n)\n\ncomponent.options.__file = \"quillFullScreen.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"editor\" \r\n      ref=\"container\">\r\n      <div \r\n        ref=\"editor\" \r\n        @keyup.ctrl.enter=\"emitDone\"/>\r\n    </div>\r\n    <div v-if=\"showFullScreen\">\r\n      <quill-full-screen\r\n        :content=\"content\" \r\n        :content-id=\"contentId\"\r\n        @close=\"hideFullScreen()\"\r\n        @update:content=\"emitFullscreenContent\"\r\n        @update:selection=\"emitSelection\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport createQuill from './quillBuilder'\r\nimport debounce from 'lodash/debounce'\r\nimport escapeStringRegexp from 'escape-string-regexp'\r\nimport isEqual from 'lodash/isEqual'\r\nimport QuillFullScreen from './quillFullScreen.vue'\r\n\r\nexport default {\r\n  beforeDestroy() {\r\n    this.handlers.forEach(([name, fn]) => this.quill.off(name, fn))\r\n  },\r\n  components: {\r\n    QuillFullScreen,\r\n  },\r\n  data() {\r\n    return {\r\n      cachedContentId: null,\r\n      handlers: [],\r\n      quill: null,\r\n      showFullScreen: false,\r\n    }\r\n  },\r\n  methods: {\r\n    // disable/enable are provided for the parent component to use\r\n    disable() {\r\n      this.quill.enable(false)\r\n    },\r\n    enable() {\r\n      this.quill.enable()\r\n    },\r\n    emitContent(content, contentId) {\r\n      this.$emit('update:content', { content, contentId })\r\n    },\r\n    emitFullscreenContent({ content, contentId }) {\r\n      this.emitContent(content, contentId)\r\n    },\r\n    emitDone() {\r\n      this.$emit('shortcut:done')\r\n    },\r\n    emitSelection(selection) {\r\n      this.$emit('update:selection', selection)\r\n    },\r\n    focus() {\r\n      this.$nextTick(() => this.quill.setSelection(this.quill.getLength(), 0, 'silent'))\r\n    },\r\n    hideFullScreen() {\r\n      this.showFullScreen = false\r\n    },\r\n    listenQuill(quill) {\r\n      const selectionChanged = debounce((selection) => {\r\n        this.emitSelection(selection)\r\n      }, 500)\r\n\r\n      const onSelectionChange = (range) => {\r\n        let selection\r\n        if (!range || !range.length) {\r\n          selection = {\r\n            range: null,\r\n            text: '',\r\n          }\r\n        } else {\r\n          selection = {\r\n            range,\r\n            text: quill.getText(range.index, range.length),\r\n          }\r\n        }\r\n\r\n        selectionChanged(selection)\r\n      }\r\n\r\n      const textChanged = debounce((content, contentId) => {\r\n        this.emitContent(content, contentId)\r\n      }, 750, { maxWait: 2000 })\r\n\r\n      const onTextChange = () => {\r\n        const selection = quill.getSelection()\r\n        onSelectionChange(selection)\r\n        const content = quill.getContents()\r\n        const contentId = this.contentId\r\n        textChanged(content, contentId)\r\n      }\r\n\r\n      quill.on('text-change', onTextChange)\r\n      quill.on('selection-change', onSelectionChange)\r\n\r\n      this.handlers.push(['text-change', onTextChange], ['selection-change', onSelectionChange])\r\n    },\r\n    updateQuill(quill, content, silent) {\r\n      if (content) {\r\n        quill.setContents(content, silent ? 'silent' : 'api')\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.quill = createQuill(\r\n      this.$refs.editor,\r\n      'Write here.',\r\n      this.container || this.$refs.container,\r\n      () => {\r\n        this.showFullScreen = true\r\n      },\r\n    )\r\n\r\n    this.updateQuill(this.quill, this.content, true)\r\n    this.listenQuill(this.quill)\r\n  },\r\n  props: {\r\n    container: {\r\n      default: null,\r\n      required: false,\r\n      type: null\r\n    },\r\n    content: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    contentId: {\r\n      required: false,\r\n      default: null,\r\n      type: String\r\n    },\r\n    scrollTo: {\r\n      default: null,\r\n      type: Object\r\n    },\r\n  },\r\n  watch: {\r\n    content(delta) {\r\n      if (delta === undefined || isEqual(delta, this.quill.getContents())) {\r\n        return\r\n      }\r\n\r\n      if (this.contentId !== this.cachedContentId) {\r\n        this.cachedContentId = this.contentId\r\n        this.quill.setContents(null, 'silent')\r\n        this.quill.setContents(delta, 'silent')\r\n      } else {\r\n        this.updateQuill(this.quill, delta, true)\r\n      }\r\n    },\r\n    scrollTo(descriptor) {\r\n      if (!descriptor || !~descriptor.paragraphIndex) {\r\n        return\r\n      }\r\n\r\n      const editor = this.$refs.editor.querySelector('.ql-editor')\r\n      const element = editor.childNodes[descriptor.paragraphIndex]\r\n      element.parentNode.scrollTop = element.offsetTop\r\n\r\n      if (!~descriptor.searchTermIndex) {\r\n        return\r\n      }\r\n\r\n      const searchTerm = this.$store.state.composer.selection.text\r\n      const contents = this.quill.getText()\r\n      const search = new RegExp(escapeStringRegexp(searchTerm), 'gi')\r\n\r\n      const searchRanges = getAllOccurrences(search, contents)\r\n      const selectedRange = searchRanges[descriptor.searchTermIndex]\r\n      this.quill.setSelection(selectedRange, 'api')\r\n    },\r\n  },\r\n}\r\n\r\nfunction getAllOccurrences(regex, str) {\r\n  const ranges = []\r\n  let result\r\n  while ((result = regex.exec(str))) {\r\n    ranges.push({\r\n      index: result.index,\r\n      length: result[0].length,\r\n    })\r\n  }\r\n  return ranges\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  height: calc(100% - 40px);\r\n}\r\n\r\n.editor {\r\n  height: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n<style>\r\n.ql-toolbar {\r\n  background-color: #F0F0F0;\r\n}\r\n\r\n.ql-container {\r\n  background-color: #FFF;\r\n}\r\n\r\n.ql-editor {\r\n  background-color: transparent;\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 14px;\r\n  overflow-wrap: break-word;\r\n  padding: 12px 20px 12px 10px;\r\n  word-break: break-word;\r\n}\r\n\r\n.ql-editor p {\r\n  padding-bottom: 6px;\r\n}\r\n\r\n.ql-editor h1, .ql-editor h2, .ql-editor h3 {\r\n  font-family: 'Asap Condensed', sans-serif;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.ql-editor h1 {\r\n  font-size: 25px;\r\n}\r\n\r\n.ql-fullscreen {\r\n  fill: #444;\r\n  min-width: 40px;\r\n  width: auto !important;\r\n}\r\n\r\n.ql-fullscreen:hover {\r\n  fill: #06c;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quillEditor.vue?vue&type=template&id=47f1beb8&scoped=true&\"\nimport script from \"./quillEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./quillEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"\nimport style1 from \"./quillEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47f1beb8\",\n  null\n  \n)\n\ncomponent.options.__file = \"quillEditor.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=0&id=4d7c5f33&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=0&id=4d7c5f33&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"","import tippy from 'tippy.js'\r\n\r\nconst tooltip = ({\r\n  arrow = true, content, distance = 10, el, interactive, placement = 'bottom', hideOnClick = true,\r\n} = {}) => tippy.one(el, {\r\n  arrow,\r\n  distance,\r\n  hideOnClick,\r\n  html: content,\r\n  interactive,\r\n  placement,\r\n})\r\n\r\nexport default tooltip\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"","import clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport uniq from 'lodash/uniq'\r\n\r\nconst { orderPromises } = require('../../../utilities')\r\n\r\nclass LocalStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for LocalStorageApi.')\r\n    }\r\n\r\n    localForage.setDriver([localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n    this.getStorageKeys = () => this.storage.keys()\r\n\r\n    this.planKeyPrefix = documentGuid => `${documentGuid}_PLAN_DATA_`\r\n    this.planOrderKey = documentGuid => `${documentGuid}_PLAN_ORDER`\r\n    this.getPlanKey = (documentGuid, planGuid) => `${this.planKeyPrefix(documentGuid)}${planGuid}`\r\n\r\n    this.sectionKeyPrefix = (documentGuid, planGuid) => `${documentGuid}_SECTION_DATA_${planGuid}_`\r\n    this.sectionOrderKey = (documentGuid, planGuid) => `${documentGuid}_SECTION_ORDER_${planGuid}`\r\n    this.getSectionKey = (documentGuid, planGuid, sectionGuid) => `${this.sectionKeyPrefix(documentGuid, planGuid)}${sectionGuid}`\r\n\r\n    this.chapterKeyPrefix = documentGuid => `${documentGuid}_CHAPTER_DATA_`\r\n    this.chapterOrderKey = documentGuid => `${documentGuid}_CHAPTER_ORDER`\r\n    this.getChapterKey = (documentGuid, chapterGuid) => `${this.chapterKeyPrefix(documentGuid)}${chapterGuid}`\r\n\r\n    this.topicKeyPrefix = documentGuid => `${documentGuid}_TOPIC_DATA_`\r\n    this.topicOrderKey = documentGuid => `${documentGuid}_TOPIC_ORDER`\r\n    this.getTopicKey = (documentGuid, topicGuid) => `${this.topicKeyPrefix(documentGuid)}${topicGuid}`\r\n\r\n    this.legacyDocumentGuids = 'DOCUMENT_IDS'\r\n    this.documentGuidsKey = `${username}_DOCUMENT_IDS`\r\n    this.documentsKey = documentGuid => `DOCUMENT_${documentGuid}`\r\n  }\r\n\r\n  // INFO\r\n  isPremium() {\r\n    return false\r\n  }\r\n\r\n  addDocument({ guid, name }) {\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (!documentGuids.includes(guid)) {\r\n        documentGuids.push(guid)\r\n        return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n      }\r\n    }).then(() => this.storage.setItem(this.documentsKey(guid), { guid, name }))\r\n  }\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.storage.setItem(this.chapterOrderKey(documentGuid), chapterGuids)\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.storage.setItem(this.planOrderKey(documentGuid), planGuids)\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.storage.setItem(this.sectionOrderKey(documentGuid, planGuid), sectionGuids)\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.storage.setItem(this.topicOrderKey(documentGuid), topicGuids)\r\n  }\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    // Remove document from document list\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (documentGuids.includes(guid)) {\r\n        documentGuids.splice(documentGuids.indexOf(guid), 1)\r\n      }\r\n\r\n      return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n    }).then(() =>\r\n      // Remove all content (chapters, plans, sections, topics)\r\n      Promise.all([\r\n        this._getAllChapters(guid).then(chapters =>\r\n          Promise.all(chapters.map(chapter => this.deleteChapter(guid, chapter.guid)))),\r\n        this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then(sections =>\r\n          Promise.all(sections.map(section => this.deleteSection(guid, plan.guid, section.guid)))).then(() => this.deletePlan(guid, plan.guid))))),\r\n        this._getAllTopics(guid).then(topics =>\r\n          Promise.all(topics.map(topic => this.deleteTopic(guid, topic.guid)))),\r\n      ]).then(() => this.storage.removeItem(this.documentsKey(guid))))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteWorkshop() {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  _getAllChapters(documentGuid) {\r\n    const prefix = this.chapterKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getChaptersSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((chapters) => {\r\n      chapters.sort((chap1, chap2) => sortOrder.indexOf(chap1.guid) - sortOrder.indexOf(chap2.guid))\r\n\r\n      return chapters\r\n    }))\r\n  }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this._getAllChapters(documentGuid)\r\n  }\r\n\r\n  _getAllDocumentGuids() {\r\n    // Migrate old document guids to an email-identified key\r\n    return Promise.all([\r\n      this.storage.getItem(this.legacyDocumentGuids),\r\n      this.storage.getItem(this.documentGuidsKey),\r\n    ]).then(([legacyGuids, guids]) => {\r\n      if (Array.isArray(legacyGuids)) {\r\n        const allGuids = uniq(legacyGuids.concat(guids || []))\r\n        return (\r\n          this.storage.setItem(this.documentGuidsKey, allGuids)\r\n            .then(() => this.storage.removeItem(this.legacyDocumentGuids))\r\n            .then(() => allGuids)\r\n        )\r\n      }\r\n      return uniq(guids || [])\r\n    })\r\n  }\r\n\r\n  _getAllDocuments() {\r\n    return this._getAllDocumentGuids().then(guids => Promise.all(guids.map((guid) => {\r\n      const key = this.documentsKey(guid)\r\n      return this.storage.getItem(key)\r\n    })))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this._getAllDocuments()\r\n  }\r\n\r\n  _getAllPlans(documentGuid) {\r\n    const prefix = this.planKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getPlansSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then(plans => Promise.all(plans.map(plan => this._getAllSections(documentGuid, plan.guid).then((sections) => {\r\n      plan.sections = sections\r\n    }))).then(() => {\r\n      plans.sort((plan1, plan2) => sortOrder.indexOf(plan1.guid) - sortOrder.indexOf(plan2.guid))\r\n      return plans\r\n    })))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this._getAllPlans(documentGuid)\r\n  }\r\n\r\n  _getAllSections(documentGuid, planGuid) {\r\n    const prefix = this.sectionKeyPrefix(documentGuid, planGuid)\r\n\r\n    return Promise.all([\r\n      this._getSectionSortOrder(documentGuid, planGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((sections) => {\r\n      sections.sort((section1, section2) => sortOrder.indexOf(section1.guid) - sortOrder.indexOf(section2.guid))\r\n      return sections\r\n    }))\r\n  }\r\n\r\n  _getAllTopics(documentGuid) {\r\n    const prefix = this.topicKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getTopicsSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((topics) => {\r\n      topics.sort((topic1, topic2) => sortOrder.indexOf(topic1.guid) - sortOrder.indexOf(topic2.guid))\r\n      return topics\r\n    }))\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this._getAllTopics(documentGuid)\r\n  }\r\n\r\n  _getChaptersSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.chapterOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getPlansSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.planOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getSectionSortOrder(documentGuid, planGuid) {\r\n    return this.storage.getItem(this.sectionOrderKey(documentGuid, planGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getTopicsSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.topicOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  getAllWorkshops() {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    const updateTopicFns = topics.map(topic => () => this.updateTopic(documentGuid, topic.guid, topic))\r\n    const updateTopicPromise = orderPromises(updateTopicFns)\r\n    const updateChapterPromise = updateTopicPromise.then(() => {\r\n      const updateChapterFns = chapters.map(chapter => () => this.updateChapter(documentGuid, chapter.guid, chapter))\r\n      return orderPromises(updateChapterFns)\r\n    })\r\n\r\n    const updatePlanFns = plans.map(plan => () => this.updatePlan(documentGuid, plan.guid, plan).then(() => {\r\n      const updateSectionFns = plan.sections.map(section => () => this.updateSection(documentGuid, plan.guid, section.guid, section))\r\n      return orderPromises(updateSectionFns)\r\n    }))\r\n    const updatePlanPromise = orderPromises(updatePlanFns)\r\n\r\n    return Promise.all([updateChapterPromise, updatePlanPromise])\r\n  }\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return Promise.all([\r\n      this.storage.setItem(key, chapter),\r\n      this._getChaptersSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(chapterGuid)) {\r\n          sortOrder.push(chapterGuid)\r\n          return this.arrangeChapters(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n\r\n    plan = clone(plan)\r\n    plan.sections = null\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, plan),\r\n      this._getPlansSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(planGuid)) {\r\n          sortOrder.push(planGuid)\r\n          return this.arrangePlans(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, section),\r\n      this._getSectionSortOrder(documentGuid, planGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(sectionGuid)) {\r\n          sortOrder.push(sectionGuid)\r\n          return this.arrangeSections(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, topic),\r\n      this._getTopicsSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(topicGuid)) {\r\n          sortOrder.push(topicGuid)\r\n          return this.arrangeTopics(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateWorkshops() {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid, name) {\r\n    return Promise.all([\r\n      this._getAllChapters(guid),\r\n      this._getAllTopics(guid),\r\n      this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then((sections) => {\r\n        plan.sections = sections\r\n        return plan\r\n      })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      const doc = {\r\n        guid,\r\n        name,\r\n        chapters,\r\n        topics,\r\n        plans,\r\n      }\r\n      return doc\r\n    })\r\n  }\r\n\r\n  docImport(doc) {\r\n    let backup\r\n    return this.docExport(doc.guid).then((_backup) => {\r\n      backup = _backup\r\n    }).then(() => this.deleteDocument(doc.guid)).then(() => {\r\n      if (!doc) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      return this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n    })\r\n      .then(undefined, (err) => {\r\n        console.error(err)\r\n        return this.addDocument(backup).then(() => this.saveAllContent(backup.guid, backup))\r\n      })\r\n  }\r\n\r\n  getFullExport() {\r\n    return this._getAllDocuments().then(documents => Promise.all(documents.map(doc => Promise.all([\r\n      this._getAllChapters(doc.guid),\r\n      this._getAllTopics(doc.guid),\r\n      this._getAllPlans(doc.guid).then(plans => Promise.all(plans.map(plan =>\r\n        this._getAllSections(doc.guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      doc.chapters = chapters\r\n      doc.topics = topics\r\n      doc.plans = plans\r\n      return doc\r\n    }))))\r\n  }\r\n\r\n  revertImport(backup) {\r\n    return (\r\n      Promise.all(Object.keys(backup).map(key => this.storage.setItem(key, backup[key])))\r\n        .then(undefined, (importErr) => {\r\n          console.error(importErr)\r\n          throw importErr\r\n        })\r\n    )\r\n  }\r\n\r\n  doFullImport(documents) {\r\n    const backup = {}\r\n\r\n    return this.storage.iterate((value, key) => {\r\n      backup[key] = value\r\n    }).then(() => this.storage.clear().then(() => {\r\n      if (!documents || !Array.isArray(documents) || !documents.length) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      const addDocumentPromises = documents.map(doc =>\r\n        () => this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc)))\r\n\r\n      return orderPromises(addDocumentPromises)\r\n    })).then(undefined, (err) => {\r\n      console.error(err)\r\n      return this.revertImport(backup)\r\n    })\r\n  }\r\n}\r\n\r\nexport default LocalStorageApi\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"","import api from './api'\r\nimport DemoStorageApi from './demoStorage'\r\nimport LocalStorageApi from './localStorage'\r\nimport ServerStorageApi from './serverStorage'\r\nimport OfflineStorageApi from './offlineStorage'\r\n\r\nlet storageApi\r\nlet temporaryStoragePromiseResolve\r\nconst temporaryStoragePromise = new Promise((resolve) => {\r\n  temporaryStoragePromiseResolve = resolve\r\n})\r\n\r\nconst setStorageApi = function (storage) {\r\n  if (!storageApi) {\r\n    temporaryStoragePromiseResolve(storage)\r\n  }\r\n\r\n  storageApi = storage\r\n  return storage\r\n}\r\n\r\nexport const storageApiPromise = function () {\r\n  if (storageApi) {\r\n    return Promise.resolve(storageApi)\r\n  }\r\n\r\n  return temporaryStoragePromise\r\n}\r\n\r\nconst cachedStorage = {\r\n  Local: {\r\n    cached: null,\r\n    get: username => new LocalStorageApi(username),\r\n  },\r\n  Demo: {\r\n    cached: null,\r\n    get: () => new DemoStorageApi(),\r\n  },\r\n  Server: {\r\n    cached: null,\r\n    get: username => new ServerStorageApi(username),\r\n  },\r\n  Offline: {\r\n    cached: null,\r\n    get: username => new OfflineStorageApi(username),\r\n  },\r\n}\r\n\r\nlet waitForInit = Promise.resolve()\r\nconst getCached = (storage, username) => {\r\n  if (!storage.cached) {\r\n    storage.cached = storage.get(username)\r\n  }\r\n\r\n  if (typeof storage.cached.init === 'function' && storageApi !== storage.cached) {\r\n    waitForInit = storage.cached.init() || Promise.resolve()\r\n  }\r\n\r\n  setStorageApi(storage.cached)\r\n  return waitForInit.then(() => storage.cached)\r\n}\r\n\r\nexport function getStorageApi(user) {\r\n  const isOnline = api.isOnlineCached\r\n  if (!user || !user.accountType) {\r\n    return getCached(cachedStorage.Demo)\r\n  }\r\n\r\n  if (user.accountType.name === 'DEMO') {\r\n    return getCached(cachedStorage.Demo)\r\n  }\r\n\r\n  if (!user.email) {\r\n    throw new Error('User does not have a valid username/email for initializing storage.')\r\n  }\r\n\r\n  if (!user.isPremium) {\r\n    return getCached(cachedStorage.Local, user.email)\r\n  }\r\n\r\n  if (!isOnline) {\r\n    return getCached(cachedStorage.Offline, user.email)\r\n  }\r\n\r\n  if (user.isPremium) {\r\n    return getCached(cachedStorage.Server, user.email)\r\n  }\r\n\r\n  return getCached(cachedStorage.Local, user.email)\r\n}\r\n","import clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport uniq from 'lodash/uniq'\r\n\r\nconst { orderPromises } = require('../../../utilities')\r\n\r\nclass DemoStorageApi {\r\n  constructor() {\r\n    localForage.setDriver(localForage.LOCALSTORAGE)\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n    this.getStorageKeys = () => this.storage.keys()\r\n\r\n    this.planKeyPrefix = documentGuid => `${documentGuid}_PLAN_DATA_`\r\n    this.planOrderKey = documentGuid => `${documentGuid}_PLAN_ORDER`\r\n    this.getPlanKey = (documentGuid, planGuid) => `${this.planKeyPrefix(documentGuid)}${planGuid}`\r\n\r\n    this.sectionKeyPrefix = (documentGuid, planGuid) => `${documentGuid}_SECTION_DATA_${planGuid}_`\r\n    this.sectionOrderKey = (documentGuid, planGuid) => `${documentGuid}_SECTION_ORDER_${planGuid}`\r\n    this.getSectionKey = (documentGuid, planGuid, sectionGuid) => `${this.sectionKeyPrefix(documentGuid, planGuid)}${sectionGuid}`\r\n\r\n    this.chapterKeyPrefix = documentGuid => `${documentGuid}_CHAPTER_DATA_`\r\n    this.chapterOrderKey = documentGuid => `${documentGuid}_CHAPTER_ORDER`\r\n    this.getChapterKey = (documentGuid, chapterGuid) => `${this.chapterKeyPrefix(documentGuid)}${chapterGuid}`\r\n\r\n    this.topicKeyPrefix = documentGuid => `${documentGuid}_TOPIC_DATA_`\r\n    this.topicOrderKey = documentGuid => `${documentGuid}_TOPIC_ORDER`\r\n    this.getTopicKey = (documentGuid, topicGuid) => `${this.topicKeyPrefix(documentGuid)}${topicGuid}`\r\n\r\n    this.documentGuidsKey = 'DOCUMENT_IDS'\r\n    this.documentsKey = documentGuid => `DOCUMENT_${documentGuid}`\r\n\r\n    window.onbeforeunload = function () {\r\n      localStorage.clear()\r\n    }\r\n  }\r\n\r\n  // INFO\r\n  isPremium() {\r\n    return false\r\n  }\r\n\r\n  addDocument({ guid, name }) {\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (!documentGuids.includes(guid)) {\r\n        documentGuids.push(guid)\r\n        return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n      }\r\n    }).then(() => this.storage.setItem(this.documentsKey(guid), { guid, name }))\r\n  }\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.storage.setItem(this.chapterOrderKey(documentGuid), chapterGuids)\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.storage.setItem(this.planOrderKey(documentGuid), planGuids)\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.storage.setItem(this.sectionOrderKey(documentGuid, planGuid), sectionGuids)\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.storage.setItem(this.topicOrderKey(documentGuid), topicGuids)\r\n  }\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    // Remove document from document list\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (documentGuids.includes(guid)) {\r\n        documentGuids.splice(documentGuids.indexOf(guid), 1)\r\n      }\r\n\r\n      return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n    }).then(() =>\r\n      // Remove all content (chapters, plans, sections, topics)\r\n      Promise.all([\r\n        this._getAllChapters(guid).then(chapters =>\r\n          Promise.all(chapters.map(chapter => this.deleteChapter(guid, chapter.guid)))),\r\n        this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then(sections =>\r\n          Promise.all(sections.map(section => this.deleteSection(guid, plan.guid, section.guid)))).then(() => this.deletePlan(guid, plan.guid))))),\r\n        this._getAllTopics(guid).then(topics =>\r\n          Promise.all(topics.map(topic => this.deleteTopic(guid, topic.guid)))),\r\n      ]).then(() => this.storage.removeItem(this.documentsKey(guid))))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteWorkshop() {\r\n    // Not implemented here. Premium-only feature.\r\n  }\r\n\r\n  _getAllChapters(documentGuid) {\r\n    const prefix = this.chapterKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getChaptersSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((chapters) => {\r\n      chapters.sort((chap1, chap2) => sortOrder.indexOf(chap1.guid) - sortOrder.indexOf(chap2.guid))\r\n\r\n      return chapters\r\n    }))\r\n  }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this._getAllChapters(documentGuid)\r\n  }\r\n\r\n  _getAllDocumentGuids() {\r\n    return this.storage.getItem(this.documentGuidsKey).then(guids => uniq(guids) || [])\r\n  }\r\n\r\n  _getAllDocuments() {\r\n    return this._getAllDocumentGuids().then(guids => Promise.all(guids.map((guid) => {\r\n      const key = this.documentsKey(guid)\r\n      return this.storage.getItem(key)\r\n    })))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this._getAllDocuments()\r\n  }\r\n\r\n  _getAllPlans(documentGuid) {\r\n    const prefix = this.planKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getPlansSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then(plans => Promise.all(plans.map(plan => this._getAllSections(documentGuid, plan.guid).then((sections) => {\r\n      plan.sections = sections\r\n    }))).then(() => {\r\n      plans.sort((plan1, plan2) => sortOrder.indexOf(plan1.guid) - sortOrder.indexOf(plan2.guid))\r\n      return plans\r\n    })))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this._getAllPlans(documentGuid)\r\n  }\r\n\r\n  _getAllSections(documentGuid, planGuid) {\r\n    const prefix = this.sectionKeyPrefix(documentGuid, planGuid)\r\n\r\n    return Promise.all([\r\n      this._getSectionSortOrder(documentGuid, planGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((sections) => {\r\n      sections.sort((section1, section2) => sortOrder.indexOf(section1.guid) - sortOrder.indexOf(section2.guid))\r\n      return sections\r\n    }))\r\n  }\r\n\r\n  _getAllTopics(documentGuid) {\r\n    const prefix = this.topicKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getTopicsSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((topics) => {\r\n      topics.sort((topic1, topic2) => sortOrder.indexOf(topic1.guid) - sortOrder.indexOf(topic2.guid))\r\n      return topics\r\n    }))\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this._getAllTopics(documentGuid)\r\n  }\r\n\r\n  _getChaptersSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.chapterOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getPlansSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.planOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getSectionSortOrder(documentGuid, planGuid) {\r\n    return this.storage.getItem(this.sectionOrderKey(documentGuid, planGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getTopicsSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.topicOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  getAllWorkshops() {\r\n    // Not implemented here. Premium-only feature.\r\n    return []\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    return Promise.all([\r\n      Promise.all(chapters.map(chapter => this.updateChapter(documentGuid, chapter.guid, chapter))),\r\n      Promise.all(plans.map(plan => this.updatePlan(documentGuid, plan.guid, plan).then(() => Promise.all(plan.sections.map(section =>\r\n        this.updateSection(documentGuid, plan.guid, section.guid, section)))))),\r\n      Promise.all(topics.map(topic => this.updateTopic(documentGuid, topic.guid, topic))),\r\n    ])\r\n  }\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return Promise.all([\r\n      this.storage.setItem(key, chapter),\r\n      this._getChaptersSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(chapterGuid)) {\r\n          sortOrder.push(chapterGuid)\r\n          return this.arrangeChapters(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n\r\n    plan = clone(plan)\r\n    plan.sections = null\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, plan),\r\n      this._getPlansSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(planGuid)) {\r\n          sortOrder.push(planGuid)\r\n          return this.arrangePlans(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, section),\r\n      this._getSectionSortOrder(documentGuid, planGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(sectionGuid)) {\r\n          sortOrder.push(sectionGuid)\r\n          return this.arrangeSections(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, topic),\r\n      this._getTopicsSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(topicGuid)) {\r\n          sortOrder.push(topicGuid)\r\n          return this.arrangeTopics(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateWorkshops() {\r\n    // Not implemented here. Premium-only feature.\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid, name) {\r\n    return Promise.all([\r\n      this._getAllChapters(guid),\r\n      this._getAllTopics(guid),\r\n      this._getAllPlans(guid).then(plans => Promise.all(plans.map((plan) => {\r\n        this._getAllSections(guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })\r\n      }))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      const doc = {\r\n        guid,\r\n        name,\r\n        chapters,\r\n        topics,\r\n        plans,\r\n      }\r\n      return doc\r\n    })\r\n  }\r\n\r\n  docImport(doc) {\r\n    let backup\r\n    return this.docExport(doc.guid).then((_backup) => {\r\n      backup = _backup\r\n    }).then(() => this.deleteDocument(doc.guid)).then(() => {\r\n      if (!doc) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      return this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n    })\r\n      .then(undefined, (err) => {\r\n        console.error(err)\r\n        return this.addDocument(backup).then(() => this.saveAllContent(backup.guid, backup))\r\n      })\r\n  }\r\n\r\n  getFullExport() {\r\n    return this._getAllDocuments().then(documents => Promise.all(documents.map(doc => Promise.all([\r\n      this._getAllChapters(doc.guid),\r\n      this._getAllTopics(doc.guid),\r\n      this._getAllPlans(doc.guid).then(plans => Promise.all(plans.map(plan =>\r\n        this._getAllSections(doc.guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      doc.chapters = chapters\r\n      doc.topics = topics\r\n      doc.plans = plans\r\n      return doc\r\n    }))))\r\n  }\r\n\r\n  revertImport(backup) {\r\n    return (\r\n      Promise.all(Object.keys(backup).map(key => this.storage.setItem(key, backup[key])))\r\n        .then(undefined, (importErr) => {\r\n          console.error(importErr)\r\n          throw importErr\r\n        })\r\n    )\r\n  }\r\n\r\n  doFullImport(documents) {\r\n    const backup = {}\r\n\r\n    return this.storage.iterate((value, key) => {\r\n      backup[key] = value\r\n    }).then(() => this.storage.clear().then(() => {\r\n      if (!documents || !Array.isArray(documents) || !documents.length) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      const addDocumentPromises = documents.map(doc =>\r\n        () => this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc)))\r\n\r\n      return orderPromises(addDocumentPromises)\r\n    })).then(undefined, (err) => {\r\n      console.error(err)\r\n      return this.revertImport(backup)\r\n    })\r\n  }\r\n}\r\n\r\nexport default DemoStorageApi\r\n","import Cache, { UNRESETTABLE } from '../shared/cache'\r\nimport clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport VueInstance from '../../app'\r\n\r\nclass OfflineStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for OfflineStorageApi.')\r\n    }\r\n\r\n    this.store = VueInstance.$store\r\n\r\n    this.requiresSyncCache = new Cache(`${UNRESETTABLE}_HAS_GONE_OFFLINE`)\r\n\r\n    localForage.setDriver([localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n\r\n    this.offlinePrefix = '@OFFLINE'\r\n    this.docGuid = () => this.store.state.document.currentDocument.guid\r\n    this.docKey = () => `${this.offlinePrefix}_USER_${username}_DOCUMENT_${this.docGuid()}`\r\n  }\r\n\r\n  init() {\r\n    this.requiresSyncCache.cacheSet(true)\r\n    return Promise.resolve()\r\n  }\r\n\r\n  isPremium() {\r\n    return true\r\n  }\r\n\r\n  getLatestStoredDocument() {\r\n    return this.storage.keys().then((keys) => {\r\n      const docKey = keys.filter(key => key.startsWith(this.offlinePrefix))[0]\r\n      if (!docKey) {\r\n        return null\r\n      }\r\n      return this.storage.getItem(docKey)\r\n    })\r\n  }\r\n\r\n  getStoredDocument() {\r\n    return this.storage.getItem(this.docKey())\r\n  }\r\n\r\n  clearOldStorage() {\r\n    return this.storage.keys().then((keys) => {\r\n      const deletePromises = keys.filter(key => key.startsWith(this.offlinePrefix)).map(key => this.storage.removeItem(key))\r\n      return Promise.all(deletePromises)\r\n    })\r\n  }\r\n\r\n  updateStorage() {\r\n    const doc = clone(this.store.state.document.currentDocument)\r\n\r\n    if (!doc) {\r\n      console.warn('Document not yet loaded.')\r\n      return\r\n    }\r\n\r\n    doc.chapters = this.store.state.chapters.chapters\r\n    doc.topics = this.store.state.chapters.topics\r\n    doc.plans = this.store.state.chapters.plans\r\n    doc.workshops = this.store.state.workshop.workshops\r\n    return this.clearOldStorage().then(() => this.storage.setItem(this.docKey(), doc))\r\n  }\r\n\r\n  notAllowedError() {\r\n    throw new Error('This action is not available while offline.')\r\n  }\r\n\r\n  // Disallowed operations\r\n\r\n  addDocument() { return this.notAllowedError() }\r\n\r\n  deleteDocument() { return this.notAllowedError() }\r\n\r\n  // Storage updates\r\n\r\n  arrangeChapters() { return this.updateStorage() }\r\n\r\n  arrangePlans() { return this.updateStorage() }\r\n\r\n  arrangeSections() { return this.updateStorage() }\r\n\r\n  arrangeTopics() { return this.updateStorage() }\r\n\r\n  deleteChapter() { return this.updateStorage() }\r\n\r\n  deletePlan() { return this.updateStorage() }\r\n\r\n  deleteSection() { return this.updateStorage() }\r\n\r\n  deleteTopic() { return this.updateStorage() }\r\n\r\n  deleteWorkshop() { return this.updateStorage() }\r\n\r\n  saveAllContent() { return this.updateStorage() }\r\n\r\n  updateChapter() { return this.updateStorage() }\r\n\r\n  updateDocument() { return this.updateStorage() }\r\n\r\n  updatePlan() { return this.updateStorage() }\r\n\r\n  updateSection() { return this.updateStorage() }\r\n\r\n  updateTopic() { return this.updateStorage() }\r\n\r\n  updateWorkshops() { return this.updateStorage() }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get chapters from a different document while offline.')\r\n      }\r\n\r\n      return doc.chapters\r\n    })\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this.getLatestStoredDocument().then(doc => (doc ? [doc] : []))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get plans from a different document while offline.')\r\n      }\r\n\r\n      return doc.plans\r\n    })\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get topics from a different document while offline.')\r\n      }\r\n\r\n      return doc.topics\r\n    })\r\n  }\r\n\r\n  getAllWorkshops(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get workshops from a different document while offline.')\r\n      }\r\n\r\n      return doc.workshops\r\n    })\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid) {\r\n    if (guid !== this.docGuid()) {\r\n      throw new Error('Cannot export a different document while offline.')\r\n    }\r\n\r\n    return this.getStoredDocument()\r\n  }\r\n\r\n  docImport() {\r\n    throw new Error('Cannot import a document while offline.')\r\n  }\r\n\r\n  getFullExport() {\r\n    throw new Error('Cannot export all documents while offline.')\r\n  }\r\n\r\n  doFullImport() {\r\n    throw new Error('Cannot do a full import while offline.')\r\n  }\r\n}\r\n\r\nexport default OfflineStorageApi\r\n","import api from './api'\r\nimport OfflineStorageApi from './offlineStorage'\r\nimport shallowEqualArrays from 'shallow-equal/arrays'\r\nimport VersionResolver from '../shared/versionResolver'\r\nimport VueInstance from '../../app'\r\nimport { SET_STATUS_DONE, SET_STATUS_ERROR, SET_STATUS_OFFLINE, SET_STATUS_SAVING } from '../shared/status.store'\r\nimport { LOAD_CONTENT } from '../shared/chapters.store'\r\nimport { LOAD_WORKSHOPS } from '../shared/workshops.store'\r\n\r\nclass ServerStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for ServerStorageApi.')\r\n    }\r\n\r\n    let savingCounter = 0\r\n    const store = VueInstance.$store\r\n\r\n    this.offlineStorage = new OfflineStorageApi(username)\r\n\r\n    this.goOffline = () => {\r\n      store.commit(SET_STATUS_OFFLINE)\r\n      api.isOnlineCached = false\r\n      this.offlineStorage.updateStorage()\r\n    }\r\n\r\n    const saving = () => {\r\n      savingCounter++\r\n      store.commit(SET_STATUS_SAVING)\r\n      return this.offlineStorage.updateStorage()\r\n    }\r\n\r\n    const done = (isError, isOffline) => {\r\n      savingCounter--\r\n      if (savingCounter > 0) {\r\n        return\r\n      }\r\n      savingCounter = 0\r\n\r\n      if (!isError) {\r\n        store.commit(SET_STATUS_DONE)\r\n        return\r\n      }\r\n\r\n      if (isOffline) {\r\n        this.goOffline()\r\n        return\r\n      }\r\n\r\n      store.commit(SET_STATUS_ERROR)\r\n    }\r\n\r\n    this.wrapStatus = (promise) => {\r\n      saving()\r\n      promise.then(\r\n        () => done(false),\r\n        () => {\r\n          api.isOnline().then(() => done(true, false), () => done(true, true))\r\n        },\r\n      )\r\n      return promise\r\n    }\r\n\r\n    this.waitUntilDone = () => new Promise((resolve, reject) => {\r\n      let counter = 0\r\n\r\n      const intervalId = window.setInterval(() => {\r\n        // Reject after waiting 10 seconds\r\n        if ((counter / 10) > 10) {\r\n          reject()\r\n          return\r\n        }\r\n\r\n        if (store.state.status.saving) {\r\n          counter++\r\n          return\r\n        }\r\n\r\n        window.clearInterval(intervalId)\r\n        resolve()\r\n      }, 100)\r\n    })\r\n\r\n    this.loadDocument = (document) => {\r\n      store.commit(LOAD_CONTENT, {\r\n        chapters: document.chapters || [],\r\n        plans: document.plans || [],\r\n        topics: document.topics || [],\r\n      })\r\n      store.commit(LOAD_WORKSHOPS, { workshops: document.workshops || [] })\r\n    }\r\n  }\r\n\r\n  init() {\r\n    if (!this.offlineStorage.requiresSyncCache.cacheGet()) {\r\n      return\r\n    }\r\n\r\n    return this.syncCache()\r\n  }\r\n\r\n  syncCache() {\r\n    return this.offlineStorage.getLatestStoredDocument().then((offlineDoc) => {\r\n      if (!offlineDoc || !offlineDoc.guid) {\r\n        return\r\n      }\r\n\r\n      let resolvedDoc\r\n      return api.docExport(offlineDoc.guid).then((onlineDoc) => {\r\n        const matchBy = obj => obj && obj.guid\r\n        const markDeleted = (obj) => {\r\n          if (!obj) return\r\n          obj.title = `${obj.title} [RESTORED]`\r\n        }\r\n\r\n        const resolvedChapters = VersionResolver.getMostRecentEach(onlineDoc.chapters, offlineDoc.chapters, matchBy, markDeleted)\r\n        const resolvedTopics = VersionResolver.getMostRecentEach(onlineDoc.topics, offlineDoc.topics, matchBy, markDeleted)\r\n        const resolvedPlans = VersionResolver.getMostRecentEach(onlineDoc.plans, offlineDoc.plans, matchBy, markDeleted)\r\n        const resolvedWorkshops = VersionResolver.getMostRecentEach(\r\n          onlineDoc.workshops, offlineDoc.workshops,\r\n          workshop => (workshop && workshop.guid ? `${workshop.guid}|${workshop.order}` : null), markDeleted,\r\n        )\r\n\r\n        const newDoc = {\r\n          name: offlineDoc.name,\r\n          chapters: resolvedChapters,\r\n          topics: resolvedTopics,\r\n          plans: resolvedPlans,\r\n          workshops: resolvedWorkshops,\r\n        }\r\n\r\n        if (\r\n          offlineDoc.name === onlineDoc.name &&\r\n          shallowEqualArrays(resolvedChapters, onlineDoc.chapters) &&\r\n          shallowEqualArrays(resolvedTopics, onlineDoc.topics) &&\r\n          shallowEqualArrays(resolvedPlans, onlineDoc.plans) &&\r\n          shallowEqualArrays(resolvedWorkshops, onlineDoc.workshops)\r\n        ) {\r\n          return\r\n        }\r\n\r\n        resolvedDoc = Object.assign(onlineDoc, newDoc)\r\n        return this.docImport(resolvedDoc)\r\n      }, () => {\r\n        resolvedDoc = offlineDoc\r\n        return this.docImport(offlineDoc)\r\n      }).then(() => this.offlineStorage.clearOldStorage()).then(() => {\r\n        this.loadDocument(resolvedDoc)\r\n      }, () => {\r\n        this.goOffline().then(() => {\r\n          throw new Error('Attempted to resolve a cached document and import it, but the doc import API threw an error.')\r\n        })\r\n      })\r\n    }).then(() => (\r\n      this.offlineStorage.clearOldStorage()\r\n        .then(() => this.offlineStorage.updateStorage())\r\n        .then(() => this.offlineStorage.requiresSyncCache.cacheSet(false))\r\n    ))\r\n  }\r\n\r\n  // INFO\r\n\r\n  isPremium() {\r\n    return true\r\n  }\r\n\r\n  // DOCUMENTS\r\n\r\n  addDocument({ guid, name }) {\r\n    return this.wrapStatus(api.addDocument({ guid, name }).catch((err) => {\r\n      throw err\r\n    }))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return api.getDocuments()\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    return this.wrapStatus(api.deleteDocument({ guid }))\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.wrapStatus(api.updateDocument({ guid, name }))\r\n  }\r\n\r\n  // ARRANGE\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.wrapStatus(api.arrangeChapters({ documentGuid, chapterGuids }))\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.wrapStatus(api.arrangePlans({ documentGuid, planGuids }))\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.wrapStatus(api.arrangeSections({ documentGuid, planGuid, sectionGuids }))\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.wrapStatus(api.arrangeTopics({ documentGuid, topicGuids }))\r\n  }\r\n\r\n  // DELETE\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    return this.wrapStatus(api.deleteChapter({ documentGuid, chapterGuid }))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    return this.wrapStatus(api.deletePlan({ documentGuid, planGuid }))\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    return this.wrapStatus(api.deleteSection({ documentGuid, planGuid, sectionGuid }))\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    return this.wrapStatus(api.deleteTopic({ documentGuid, topicGuid }))\r\n  }\r\n\r\n  deleteWorkshop(documentGuid, workshopGuid) {\r\n    return this.wrapStatus(api.deleteWorkshopContent({ documentGuid, guid: workshopGuid }))\r\n  }\r\n\r\n  // GET\r\n\r\n  getAllChapters(documentGuid) {\r\n    return api.getChapters(documentGuid)\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return api.getPlans(documentGuid)\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return api.getTopics(documentGuid)\r\n  }\r\n\r\n  getAllWorkshops(documentGuid) {\r\n    return api.getWorkshops(documentGuid)\r\n  }\r\n\r\n  // UPDATE\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    return this.wrapStatus(api.updateChapter({ documentGuid, chapterGuid, chapter }))\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    return this.wrapStatus(api.updatePlan({ documentGuid, planGuid, plan }))\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    return this.wrapStatus(api.updateSection({\r\n      documentGuid, planGuid, sectionGuid, section,\r\n    }))\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    return this.wrapStatus(api.updateTopic({ documentGuid, topicGuid, topic }))\r\n  }\r\n\r\n  updateWorkshops(documentGuid, workshops) {\r\n    return this.wrapStatus(api.updateWorkshopContents({ documentGuid, workshops }))\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    return this.waitUntilDone().then(() => this.wrapStatus(api.saveAllContent({\r\n      documentGuid, chapters, plans, topics,\r\n    })))\r\n  }\r\n\r\n  // EXPORT/IMPORT\r\n\r\n  docExport(documentGuid) {\r\n    return api.docExport(documentGuid)\r\n  }\r\n\r\n  docImport(doc) {\r\n    return api.docImport(doc)\r\n  }\r\n\r\n  fullExport() {\r\n    return api.fullExport().then(data => JSON.stringify(data))\r\n  }\r\n\r\n  fullImport(json) {\r\n    const data = JSON.parse(json)\r\n    return api.fullImport(data)\r\n  }\r\n\r\n  exportToWord({ guid, title, includeArchived }) {\r\n    return api.exportToWord({ guid, title, includeArchived })\r\n  }\r\n}\r\n\r\nexport default ServerStorageApi\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=72f00f74&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=72f00f74&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=style&index=0&id=cf75f42c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=style&index=0&id=cf75f42c&scoped=true&lang=css&\"","const createWorkshop = function (name, displayName, description, route, available) {\r\n  return { name: name, displayName: displayName, description: description, route: route, available: available }\r\n}\r\n\r\nconst workshops = {\r\n  FREE_WRITE: createWorkshop('FREE_WRITE', 'Free Writing',\r\n    'Warm up with a brief writing session. No prompts, no rules. Limit by time or word count.',\r\n    '/workshop/free-write', true),\r\n  NOVEL_QUICKSTART: createWorkshop('NOVEL_QUICKSTART', 'Novel Quickstart',\r\n    'Answer a few basic prompts to get ideas flowing for your novel.',\r\n    '/workshop/novel-quickstart', true),\r\n  WRITERS_UNBLOCK: createWorkshop('WRITERS_UNBLOCK', 'Writer\\'s Unblock',\r\n    'Got writer\\'s block? Get moving again by doing a word incorporation exercise.',\r\n    '/workshop/unblock', true),\r\n  PLOT_WORKSHOP: createWorkshop('PLOT_WORKSHOP', 'Plot & Character Workshop',\r\n    'Figure out what happens next and develop your characters by responding to curated prompts.',\r\n    '/workshop/plot', true),\r\n  SETTING_WORKSHOP: createWorkshop('SETTING_WORKSHOP', 'Setting Workshop',\r\n    'Build a stronger sense of place by exploring the setting of your novel.',\r\n    '/workshop/setting', false)\r\n}\r\n\r\nmodule.exports = workshops\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"","// Complete an array of promises in order, each one waiting for the previous one to resolve\r\nfunction orderPromises(promiseFns) {\r\n  if (!Array.isArray(promiseFns) || (promiseFns.length && typeof promiseFns[0] !== 'function')) {\r\n    throw new TypeError(`orderPromises expects an array of functions. Received: ${JSON.stringify(promiseFns)}`)\r\n  }\r\n\r\n  if (!promiseFns.length) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  const promise = promiseFns[0]()\r\n\r\n  if (!promise.then) {\r\n    throw new TypeError(`A function in the array passed to orderPromises did not return a promise. Returned: ${JSON.stringify(promise)}`)\r\n  }\r\n\r\n  return promise.then(() => orderPromises(promiseFns.slice(1)))\r\n}\r\n\r\n// getNewLine, getNewSegment, getStyles, getStyledArrayFromChapters:\r\n// From an array of Edward chapters, produce an array of Line objects.\r\n// Line { text: string | Segment[], style: string | string[], pageBreak: undefined | 'before' }\r\n// Segment { text: string, style: string[] }\r\n// Line style strings: h1|h2|h3|blockquote|ul|ol|chapterHeading\r\n// Segment style strings: bold|italic|underline|strike\r\n\r\nfunction getNewLine() {\r\n  return {\r\n    text: [],\r\n    style: [],\r\n  }\r\n}\r\n\r\nfunction getNewSegment(text, style) {\r\n  return {\r\n    text: text || '',\r\n    style: style || [],\r\n  }\r\n}\r\n\r\nconst listMap = {\r\n  bullet: 'ul',\r\n  ordered: 'ol',\r\n}\r\nfunction getStyles(attributes) {\r\n  const styles = []\r\n  const lineStyles = []\r\n\r\n  if (!attributes) {\r\n    return { styles, lineStyles }\r\n  }\r\n\r\n  for (const attr in attributes) {\r\n    if (['bold', 'italic', 'underline', 'strike'].includes(attr)) {\r\n      styles.push(attr)\r\n      continue\r\n    }\r\n\r\n    if (attr === 'header') {\r\n      lineStyles.push(`h${attributes[attr]}`)\r\n      continue\r\n    }\r\n\r\n    if (attr === 'blockquote') {\r\n      lineStyles.push('blockquote')\r\n      continue\r\n    }\r\n\r\n    if (attr === 'list') {\r\n      lineStyles.push(listMap[attributes[attr]])\r\n      continue\r\n    }\r\n  }\r\n\r\n  return { styles, lineStyles }\r\n}\r\n\r\nfunction getStyledArrayFromChapters(chapters) {\r\n  const splitContent = []\r\n\r\n  for (const chapter of chapters) {\r\n    splitContent.push({\r\n      text: chapter.title,\r\n      style: 'chapterHeading',\r\n      pageBreak: 'before',\r\n    })\r\n\r\n    let currentLine = getNewLine()\r\n    const ops = (chapter.content && chapter.content.ops) || []\r\n    for (const op of ops) {\r\n      const insert = op.insert\r\n      const { styles, lineStyles } = getStyles(op.attributes)\r\n\r\n      if (lineStyles.length) {\r\n        currentLine.style.push(...lineStyles)\r\n      }\r\n\r\n      if (insert === '\\n') {\r\n        splitContent.push(currentLine)\r\n        currentLine = getNewLine()\r\n        continue\r\n      }\r\n\r\n      if (insert.includes('\\n')) {\r\n        const [first, ...lines] = insert.split('\\n')\r\n        if (first) {\r\n          const segment = getNewSegment(first, styles)\r\n          currentLine.text.push(segment)\r\n        }\r\n\r\n        splitContent.push(currentLine)\r\n        currentLine = getNewLine()\r\n\r\n        for (let ix = 0; ix < lines.length - 1; ix++) {\r\n          const line = lines[ix]\r\n          const segment = getNewSegment(line, styles)\r\n          currentLine.text.push(segment)\r\n\r\n          splitContent.push(currentLine)\r\n          currentLine = getNewLine()\r\n        }\r\n\r\n        const last = lines[lines.length - 1]\r\n        const segment = getNewSegment(last, styles)\r\n        currentLine.text.push(segment)\r\n\r\n        continue\r\n      }\r\n\r\n      const segment = getNewSegment(insert, styles)\r\n      currentLine.text.push(segment)\r\n    }\r\n  }\r\n\r\n  return splitContent\r\n}\r\n\r\nexport {\r\n  orderPromises,\r\n  getStyledArrayFromChapters\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"","import TrimEnd from 'lodash/trimEnd'\r\nimport TrimStart from 'lodash/trimStart'\r\n\r\nimport DeltaToHtmlConverter from 'quill-delta-to-html'\r\n\r\nexport const GetContentString = (delta) => {\r\n  if (!delta || !delta.ops) {\r\n    return ''\r\n  }\r\n\r\n  const inserts = delta.ops.map(op => op.insert || '')\r\n  const joined = inserts.join('')\r\n  return joined.trim().length ? joined : ''\r\n}\r\n\r\nconst wordStartRe = /^[a-zA-Z0-9'\\-_@&]/\r\nconst wordContentRe = /[a-zA-Z0-9]+/\r\nexport const GetWordArray = (delta) => {\r\n  const content = GetContentString(delta)\r\n  const tokens = content.split(/\\s/g)\r\n  return tokens.map((token) => {\r\n    token = TrimEnd(token, '.,;:?!\"\\'`')\r\n    token = TrimStart(token, '\"\\'`')\r\n    return token\r\n  }).filter(token =>\r\n    wordStartRe.test(token) && wordContentRe.test(token))\r\n}\r\nexport const GetHtml = (delta) => {\r\n  if (!delta || !delta.ops) {\r\n    return ''\r\n  }\r\n\r\n  const converter = new DeltaToHtmlConverter(delta.ops, {})\r\n  return converter.convert()\r\n}\r\n\r\n// Inspired by Tim Down\r\n// https://stackoverflow.com/a/3410557/4347245\r\nexport const GetIndicesOf = (search, str) => {\r\n  const fullString = str.toLowerCase()\r\n  const searchString = search.toLowerCase()\r\n\r\n  const searchStringLength = searchString.length\r\n  if (searchStringLength === 0 || !fullString.trim()) {\r\n    return []\r\n  }\r\n\r\n  const indices = []\r\n  let startIndex = 0\r\n  let index = fullString.indexOf(searchString, startIndex)\r\n  while (index > -1) {\r\n    indices.push(index)\r\n    startIndex = index + searchStringLength\r\n    index = fullString.indexOf(searchString, startIndex)\r\n  }\r\n\r\n  return indices\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"","const cacheKeysStorage = '_all-cache-keys'\r\nconst allCacheKeys = JSON.parse(window.localStorage.getItem(cacheKeysStorage)) || []\r\n\r\nexport const UNRESETTABLE = 'UNRESETTABLE'\r\n\r\nexport function resetCache() {\r\n  for (const key of allCacheKeys) {\r\n    window.localStorage.removeItem(key)\r\n  }\r\n  allCacheKeys.splice(0, allCacheKeys.length)\r\n  window.localStorage.setItem(cacheKeysStorage, JSON.stringify([]))\r\n}\r\n\r\nclass Cache {\r\n  constructor(key) {\r\n    this.key = key\r\n    if (!key.includes(UNRESETTABLE)) {\r\n      allCacheKeys.push(key)\r\n    }\r\n    window.localStorage.setItem(cacheKeysStorage, JSON.stringify(allCacheKeys))\r\n  }\r\n\r\n  cacheDelete() {\r\n    window.localStorage.removeItem(this.key)\r\n  }\r\n\r\n  cacheGet() {\r\n    return JSON.parse(window.localStorage.getItem(this.key))\r\n  }\r\n\r\n  cacheSet(val) {\r\n    window.localStorage.setItem(this.key, JSON.stringify(val))\r\n  }\r\n}\r\n\r\nexport default Cache\r\n","import difference from 'lodash/difference'\r\nimport VersionResolver from './versionResolver'\r\n\r\n// These two commands will be used together\r\nexport const NUKE_CONTENT = 'NUKE_CONTENT'\r\nexport const LOAD_CONTENT = 'LOAD_CONTENT'\r\n\r\n// PLANS have SECTIONS\r\n// CHAPTERS have TOPICS (chapterTopics)\r\n// DOCUMENTS have TOPICS (masterTopics)\r\n// Each masterTopic has a corresponding chapterTopic in each chapter\r\n\r\nexport const ADD_PLAN = 'ADD_PLAN'\r\nexport const ARCHIVE_PLAN = 'ARCHIVE_PLAN'\r\nexport const DELETE_PLAN = 'DELETE_PLAN'\r\nexport const REARRANGE_PLANS = 'REARRANGE_PLANS'\r\nexport const RESTORE_PLAN = 'RESTORE_PLAN'\r\nexport const UPDATE_PLAN = 'UPDATE_PLAN'\r\n\r\nexport const ADD_SECTION = 'ADD_SECTION'\r\nexport const ARCHIVE_SECTION = 'ARCHIVE_SECTION'\r\nexport const DELETE_SECTION = 'DELETE_SECTION'\r\nexport const REARRANGE_SECTIONS = 'REARRANGE_SECTIONS'\r\nexport const RESTORE_SECTION = 'RESTORE_SECTION'\r\nexport const UPDATE_SECTION = 'UPDATE_SECTION'\r\nexport const UPDATE_SECTION_CONTENT = 'UPDATE_SECTION_CONTENT'\r\nexport const UPDATE_SECTION_TAGS = 'UPDATE_SECTION_TAGS'\r\n\r\nexport const ADD_CHAPTER = 'ADD_CHAPTER'\r\nexport const ADD_TOPIC_TO_CHAPTER = 'ADD_TOPIC_TO_CHAPTER'\r\nexport const ARCHIVE_CHAPTER = 'ARCHIVE_CHAPTER'\r\nexport const DELETE_CHAPTER = 'DELETE_CHAPTER'\r\nexport const REARRANGE_CHAPTERS = 'REARRANGE_CHAPTERS'\r\nexport const RESTORE_CHAPTER = 'RESTORE_CHAPTER'\r\nexport const UPDATE_CHAPTER = 'UPDATE_CHAPTER'\r\nexport const UPDATE_CHAPTER_CONTENT = 'UPDATE_CHAPTER_CONTENT'\r\n\r\nexport const ADD_TOPIC = 'ADD_TOPIC'\r\nexport const ARCHIVE_TOPIC = 'ARCHIVE_TOPIC'\r\nexport const DELETE_TOPIC = 'DELETE_TOPIC'\r\nexport const REARRANGE_TOPICS = 'REARRANGE_TOPICS'\r\nexport const RESTORE_TOPIC = 'RESTORE_TOPIC'\r\nexport const UPDATE_TOPIC = 'UPDATE_TOPIC'\r\nexport const UPDATE_TOPIC_CONTENT = 'UPDATE_TOPIC_CONTENT'\r\n\r\nconst store = {\r\n  state: {\r\n    // plan [{ archived bool false, guid Guid, title string, sections [section] }]\r\n    // section { archived bool false, content Delta null, guid Guid, tags [string], title string }\r\n    plans: [],\r\n    // chapters [{ archived bool false, content Delta null, guid Guid, title string, topics topicDict {} }]\r\n    // topicDict { [guid]: chapterTopic }\r\n    // chapterTopic { content Delta null, guid Guid }\r\n    chapters: [],\r\n    // topic [{ archived bool false, guid Guid, title string }]\r\n    topics: [],\r\n  },\r\n  mutations: {\r\n    // CONTENT\r\n    [NUKE_CONTENT](state) {\r\n      state.plans = []\r\n      state.chapters = []\r\n      state.topics = []\r\n    },\r\n    [LOAD_CONTENT](state, { plans, chapters, topics }) {\r\n      state.plans = plans\r\n      state.chapters = chapters\r\n      state.topics = topics\r\n    },\r\n    // PLANS\r\n    [ADD_PLAN](state, { plan }) {\r\n      VersionResolver.timestamp(plan)\r\n      state.plans.push(plan)\r\n    },\r\n    [ARCHIVE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ARCHIVE_PLAN: Cannot archive plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.archived = true\r\n    },\r\n    [DELETE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`DELETE_PLAN: Cannot delete plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      state.plans.splice(state.plans.indexOf(plan), 1)\r\n    },\r\n    [REARRANGE_PLANS](state, { plans }) {\r\n      if (!containSameElements(state.plans, plans)) {\r\n        throw new Error('REARRANGE_PLANS: Cannot rearrange plans: an invalid plan array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(plans)\r\n      state.plans = plans\r\n    },\r\n    [RESTORE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`RESTORE_PLAN: Cannot restore plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.archived = false\r\n    },\r\n    [UPDATE_PLAN](state, { plan, newTitle }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_PLAN: Cannot update plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.title = newTitle\r\n    },\r\n    // SECTIONS\r\n    [ADD_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ADD_SECTION: Cannot mutate plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      plan.sections.push(section)\r\n    },\r\n    [ARCHIVE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ARCHIVE_SECTION: Cannot archive section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`ARCHIVE_SECTION: Cannot archive section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.archived = true\r\n    },\r\n    [DELETE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`DELETE_SECTION: Cannot delete section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`DELETE_SECTION: Cannot delete section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      plan.sections.splice(plan.sections.indexOf(section), 1)\r\n    },\r\n    [REARRANGE_SECTIONS](state, { plan, sections }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`REARRANGE_SECTIONS: Cannot rearrange sections of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!containSameElements(plan.sections, sections)) {\r\n        throw new Error('REARRANGE_SECTIONS: Cannot rearrange sections: an invalid section array was received.')\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestampEach(sections)\r\n      plan.sections = sections\r\n    },\r\n    [RESTORE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`RESTORE_SECTION: Cannot restore section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`RESTORE_SECTION: Cannot restore section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.archived = false\r\n    },\r\n    [UPDATE_SECTION](state, { plan, section, newTitle }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.title = newTitle\r\n    },\r\n    [UPDATE_SECTION_CONTENT](state, { plan, section, newContent }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION_CONTENT: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION_CONTENT: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.content = newContent\r\n    },\r\n    [UPDATE_SECTION_TAGS](state, { plan, section, newTags }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION_TAGS: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION_TAGS: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.tags = newTags\r\n    },\r\n    // CHAPTERS\r\n    [ADD_CHAPTER](state, { chapter }) {\r\n      VersionResolver.timestamp(chapter)\r\n      state.chapters.push(chapter)\r\n    },\r\n    [ADD_TOPIC_TO_CHAPTER](state, { chapter, topic }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`ADD_TOPIC_TO_CHAPTER: Cannot mutate chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`ADD_TOPIC_TO_CHAPTER: Cannot include topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.topics[topic.guid] = {\r\n        content: null,\r\n        guid: topic.guid,\r\n      }\r\n    },\r\n    [ARCHIVE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`ARCHIVE_CHAPTER: Cannot archive chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.archived = true\r\n    },\r\n    [DELETE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`DELETE_CHAPTER: Cannot delete chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      state.chapters.splice(state.chapters.indexOf(chapter), 1)\r\n    },\r\n    [REARRANGE_CHAPTERS](state, { chapters }) {\r\n      if (!containSameElements(state.chapters, chapters)) {\r\n        throw new Error('REARRANGE_CHAPTERS: Cannot rearrange chapters: an invalid chapter array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(chapters)\r\n      state.chapters = chapters\r\n    },\r\n    [RESTORE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`RESTORE_CHAPTER: Cannot restore chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.archived = false\r\n    },\r\n    [UPDATE_CHAPTER](state, { chapter, newTitle }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_CHAPTER: Cannot update chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.title = newTitle\r\n    },\r\n    [UPDATE_CHAPTER_CONTENT](state, { chapter, newContent }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_CHAPTER_CONTENT: Cannot update content of chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.content = newContent\r\n    },\r\n    // TOPICS\r\n    [ADD_TOPIC](state, { topic }) {\r\n      VersionResolver.timestamp(topic)\r\n      state.topics.push(topic)\r\n    },\r\n    [ARCHIVE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`ARCHIVE_TOPIC: Cannot archive topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.archived = true\r\n    },\r\n    [DELETE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`DELETE_TOPIC: Cannot archive topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      state.topics.splice(state.topics.indexOf(topic), 1)\r\n\r\n      state.chapters = state.chapters.map((chapter) => {\r\n        if (chapter.topics[topic.guid]) {\r\n          delete chapter.topics[topic.guid]\r\n        }\r\n\r\n        return chapter\r\n      })\r\n    },\r\n    [REARRANGE_TOPICS](state, { topics }) {\r\n      if (!containSameElements(state.topics, topics)) {\r\n        throw new Error('REARRANGE_TOPICS: Cannot rearrange topics: an invalid topic array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(topics)\r\n      state.topics = topics\r\n    },\r\n    [RESTORE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`RESTORE_TOPIC: Cannot restore topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.archived = false\r\n    },\r\n    [UPDATE_TOPIC](state, { topic, newTitle }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`UPDATE_TOPIC: Cannot update topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.title = newTitle\r\n    },\r\n    [UPDATE_TOPIC_CONTENT](state, { chapter, topic, newContent }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_TOPIC_CONTENT: Cannot update topic content for chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!state.topics.find(masterTopic => masterTopic.guid === topic.guid)) {\r\n        throw new Error(`UPDATE_TOPIC_CONTENT: Cannot update content of topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.content = newContent\r\n    },\r\n  },\r\n}\r\n\r\nfunction containSameElements(arr1, arr2) {\r\n  if (!Array.isArray(arr1) || !Array.isArray(arr2)) {\r\n    return false\r\n  }\r\n\r\n  if (arr1.length !== arr2.length) {\r\n    return false\r\n  }\r\n\r\n  const diff = [...difference(arr1, arr2), ...difference(arr2, arr1)]\r\n\r\n  return diff.length === 0\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=1&lang=css&\"","export const SET_STATUS_DONE = 'SET_STATUS_DONE'\r\nexport const SET_STATUS_ERROR = 'SET_STATUS_ERROR'\r\nexport const SET_STATUS_OFFLINE = 'SET_STATUS_OFFLINE'\r\nexport const SET_STATUS_SAVING = 'SET_STATUS_SAVING'\r\n\r\nexport const Statuses = {\r\n  SAVED: 'SAVED',\r\n  SAVING: 'SAVING',\r\n  ERROR: 'ERROR',\r\n  OFFLINE: 'OFFLINE',\r\n}\r\n\r\nconst store = {\r\n  state: {\r\n    status: Statuses.SAVED,\r\n  },\r\n  mutations: {\r\n    [SET_STATUS_DONE](state) {\r\n      state.status = Statuses.SAVED\r\n    },\r\n    [SET_STATUS_ERROR](state) {\r\n      state.status = Statuses.ERROR\r\n    },\r\n    [SET_STATUS_OFFLINE](state) {\r\n      state.status = Statuses.OFFLINE\r\n    },\r\n    [SET_STATUS_SAVING](state) {\r\n      if (state.status !== Statuses.OFFLINE) {\r\n        state.status = Statuses.SAVING\r\n      }\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"","import Cache, { resetCache } from './cache'\r\nimport { storageApiPromise } from '../api/storageSwitch'\r\nimport guid from './guid'\r\nimport { LOAD_CONTENT, NUKE_CONTENT } from './chapters.store'\r\nimport { LOAD_WORKSHOPS, NUKE_WORKSHOPS } from './workshops.store'\r\n\r\nexport const ADD_DOCUMENT = 'ADD_DOCUMENT'\r\nexport const CHANGE_DOCUMENT = 'CHANGE_DOCUMENT'\r\nexport const DELETE_DOCUMENT = 'DELETE_DOCUMENT'\r\nexport const INIT_DOCUMENTS = 'INIT_DOCUMENTS'\r\nexport const REMOVE_OWNED_DOCUMENT = 'REMOVE_OWNED_DOCUMENT'\r\nexport const SET_UP_DOCUMENT = 'SET_UP_DOCUMENT'\r\nexport const UNLOAD_CURRENT_DOCUMENT = 'UNLOAD_CURRENT_DOCUMENT'\r\nexport const UPDATE_DOCUMENT_NAME = 'UPDATE_DOCUMENT_NAME'\r\n\r\nconst LOAD_DOCUMENTS = 'LOAD_DOCUMENTS'\r\nconst UPDATE_DOCUMENT_METADATA = 'UPDATE_DOCUMENT_METADATA'\r\n\r\n// Cache the document currently in progress\r\nconst cache = new Cache('CURRENT_DOCUMENT')\r\n\r\nconst store = {\r\n  state: {\r\n    currentDocument: null, // document { guid String, name String }\r\n    ownedDocuments: [], // document[]\r\n  },\r\n  actions: {\r\n    [CHANGE_DOCUMENT]({ commit, dispatch }, { guid, name, shouldReset }) {\r\n      return dispatch(UNLOAD_CURRENT_DOCUMENT, { shouldReset }).then(() => storageApiPromise().then((storage) => {\r\n        // Get the new document from storage\r\n        const promises = [\r\n          storage.getAllChapters(guid),\r\n          storage.getAllPlans(guid),\r\n          storage.getAllTopics(guid),\r\n          storage.isPremium() ? storage.getAllWorkshops(guid) : Promise.resolve(false),\r\n        ]\r\n\r\n        return Promise.all(promises).then(([chapters, plans, topics, workshops]) => {\r\n          commit(LOAD_CONTENT, { plans, chapters, topics })\r\n\r\n          if (workshops) {\r\n            commit(LOAD_WORKSHOPS, { workshops })\r\n          }\r\n\r\n          commit(UPDATE_DOCUMENT_METADATA, { guid, name })\r\n          cache.cacheSet({ guid, name })\r\n        }, (err) => {\r\n          throw err\r\n        })\r\n      }))\r\n    },\r\n    [DELETE_DOCUMENT]({ commit, dispatch }, { guid }) {\r\n      dispatch(UNLOAD_CURRENT_DOCUMENT).then(() => {\r\n        commit(REMOVE_OWNED_DOCUMENT, { guid })\r\n      })\r\n    },\r\n    [INIT_DOCUMENTS]({ commit, dispatch, state }) {\r\n      return storageApiPromise().then(storage => storage.getAllDocuments().then((documents) => {\r\n        commit(LOAD_DOCUMENTS, documents)\r\n        const currentDocument = cache.cacheGet()\r\n\r\n        if (!currentDocument || !state.ownedDocuments.some(document => document.guid === currentDocument.guid)) {\r\n          return\r\n        }\r\n\r\n        return dispatch(CHANGE_DOCUMENT, { ...currentDocument, shouldReset: false })\r\n      }), console.error)\r\n    },\r\n    [SET_UP_DOCUMENT]({ dispatch, state }, { document, type }) {\r\n      const plans = type.plans.map(title => ({\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [{\r\n          archived: false,\r\n          content: null,\r\n          guid: guid(),\r\n          tags: [],\r\n          title,\r\n        }],\r\n      }))\r\n\r\n      const chapters = type.chapters.map(title => ({\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }))\r\n\r\n      const topics = type.topics.map(title => ({\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n      }))\r\n\r\n      return storageApiPromise().then(storage => Promise.resolve(storage.addDocument(document)).then(() => storage)).then(storage => storage.saveAllContent(document.guid, { chapters, plans, topics }))\r\n      // Don't use the ADD_DOCUMENT mutation here or it will try to add the document to storage again\r\n        .then(() => state.ownedDocuments.push(document))\r\n        .then(() => dispatch(CHANGE_DOCUMENT, document))\r\n    },\r\n    [UNLOAD_CURRENT_DOCUMENT]({ commit }, { shouldReset } = { shouldReset: false }) {\r\n      return new Promise((resolve) => {\r\n        if (shouldReset) {\r\n          resetCache()\r\n        }\r\n        commit(UPDATE_DOCUMENT_METADATA, { guid: null, name: null })\r\n        commit(NUKE_CONTENT)\r\n        commit(NUKE_WORKSHOPS)\r\n        resolve()\r\n      })\r\n    },\r\n  },\r\n  mutations: {\r\n    [ADD_DOCUMENT](state, { guid, name }) {\r\n      state.ownedDocuments.push({ guid, name })\r\n    },\r\n    [LOAD_DOCUMENTS](state, documents) {\r\n      state.ownedDocuments = documents\r\n    },\r\n    [REMOVE_OWNED_DOCUMENT](state, { guid }) {\r\n      let documentIndex\r\n      state.ownedDocuments.some((document, index) => {\r\n        if (document.guid === guid) {\r\n          documentIndex = index\r\n          return true\r\n        }\r\n      })\r\n      state.ownedDocuments.splice(documentIndex, 1)\r\n    },\r\n    [UPDATE_DOCUMENT_METADATA](state, { guid, name }) {\r\n      state.currentDocument = { guid, name }\r\n    },\r\n    [UPDATE_DOCUMENT_NAME](state, { guid, name }) {\r\n      state.currentDocument.name = name\r\n      cache.cacheSet({ guid, name })\r\n\r\n      state.ownedDocuments.some((document) => {\r\n        if (document.guid === guid) {\r\n          document.name = name\r\n          return true\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=style&index=0&id=cb803e96&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=style&index=0&id=cb803e96&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=style&index=0&id=ed1daeb4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings.page.vue?vue&type=style&index=0&id=ed1daeb4&scoped=true&lang=css&\"","import uuid from 'uuid/v1'\r\n\r\nconst guid = () => uuid()\r\n\r\nexport default guid\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.604a4bc0.png\";","import axiosBase from 'axios'\r\n\r\nconst axios = axiosBase.create({\r\n  headers: {\r\n    Pragma: 'no-cache',\r\n    'Cache-Control': 'no-store',\r\n  },\r\n})\r\n\r\nconst route = route => `/api/${route}`\r\n\r\nclass Api {\r\n  constructor () {\r\n    this.isOnlineCached = true\r\n  }\r\n\r\n  isOnline() {\r\n    const promise = this.simpleGet(route('online'))\r\n    promise.then(() => {\r\n      this.isOnlineCached = true\r\n    }, () => {\r\n      this.isOnlineCached = false\r\n    })\r\n    return promise\r\n  }\r\n\r\n  simpleGet(route) {\r\n    return axios.get(route).then(response => response.data)\r\n  }\r\n\r\n  simplePost(route, body) {\r\n    return axios.post(route, body).then(response => response.data)\r\n  }\r\n\r\n  saveAllContent(data) { return this.simplePost(route('document/saveAll'), data) }\r\n\r\n  // DOCUMENTS\r\n  addDocument(doc) { return this.simplePost(route('document/add'), doc) }\r\n  deleteDocument(doc) { return this.simplePost(route('document/delete'), doc) }\r\n  getDocuments() {\r\n    return this.simpleGet(route('documents')).then(documents => documents.map(doc => doc))\r\n  }\r\n  updateDocument(doc) { return this.simplePost(route('document/update'), doc) }\r\n\r\n  // CHAPTERS\r\n  arrangeChapters(data) { return this.simplePost(route('chapter/arrange'), data) }\r\n  deleteChapter(data) { return this.simplePost(route('chapter/delete'), data) }\r\n  getChapters(documentGuid) { return this.simpleGet(route(`chapters/${documentGuid}`)) }\r\n  updateChapter(data) { return this.simplePost(route('chapter/update'), data) }\r\n\r\n  // TOPICS\r\n  arrangeTopics(data) { return this.simplePost(route('topic/arrange'), data) }\r\n  deleteTopic(data) { return this.simplePost(route('topic/delete'), data) }\r\n  // This returns MasterTopics; ChapterTopics are returned with their associated chapters\r\n  getTopics(documentGuid) { return this.simpleGet(route(`topics/${documentGuid}`)) }\r\n  updateTopic(data) { return this.simplePost(route('topic/update'), data) }\r\n\r\n  // PLANS\r\n  arrangePlans(data) { return this.simplePost(route('plan/arrange'), data) }\r\n  deletePlan(data) { return this.simplePost(route('plan/delete'), data) }\r\n  getPlans(documentGuid) { return this.simpleGet(route(`plans/${documentGuid}`)) }\r\n  updatePlan(data) { return this.simplePost(route('plan/update'), data) }\r\n\r\n  // SECTIONS\r\n  arrangeSections(data) { return this.simplePost(route('section/arrange'), data) }\r\n  deleteSection(data) { return this.simplePost(route('section/delete'), data) }\r\n  // No get method; sections are returned with their associated plans\r\n  updateSection(data) { return this.simplePost(route('section/update'), data) }\r\n\r\n  // WORKSHOPS\r\n  deleteWorkshopContent({ documentGuid, guid }) {\r\n    return this.simplePost(route('workshop-content/delete'), { documentGuid, guid })\r\n  }\r\n  getWorkshops(documentGuid) { return this.simpleGet(route(`workshop-content/${documentGuid}`)) }\r\n  updateWorkshopContents({ documentGuid, workshops }) {\r\n    return this.simplePost(route('workshop-content/update'), { documentGuid, workshops })\r\n  }\r\n\r\n  // EXPORT/IMPORT\r\n  docExport(documentGuid) { return this.simpleGet(route(`backup/export/document/${documentGuid}`)) }\r\n  docImport({\r\n    guid, name, chapters, topics, plans, workshops,\r\n  }) {\r\n    return this.simplePost(route('backup/import/document'), {\r\n      guid, name, chapters, topics, plans, workshops,\r\n    })\r\n  }\r\n  fullExport() { return this.simpleGet(route('backup/export')) }\r\n  fullImport(data) { return this.simplePost(route('backup/import'), data) }\r\n  exportToWord({ guid, title, includeArchived }) {\r\n    return new Promise((resolve) => {\r\n      window.open(route(`word/export-chapters?guid=${guid}&title=${title}&includeArchived=${!!includeArchived}`), '_blank')\r\n      resolve()\r\n    })\r\n  }\r\n}\r\n\r\nexport default new Api()\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=style&index=0&id=582964bd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=style&index=0&id=582964bd&scoped=true&lang=css&\"","import clone from 'lodash/clone'\r\n\r\nclass VersionResolver {\r\n  constructor() {\r\n    this.timestampField = 'updated_at'\r\n  }\r\n\r\n  timestamp(obj) {\r\n    obj[this.timestampField] = Date.now()\r\n  }\r\n\r\n  timestampEach(arr) {\r\n    arr.forEach(obj => this.timestamp(obj))\r\n  }\r\n\r\n  getTimestamp(obj) {\r\n    if (!obj[this.timestampField]) {\r\n      return null\r\n    }\r\n    return new Date(obj[this.timestampField]).getTime()\r\n  }\r\n\r\n  getMostRecent(defaultObj, obj2) {\r\n    const defaultTimestamp = this.getTimestamp(defaultObj)\r\n    const timestamp2 = this.getTimestamp(obj2)\r\n\r\n    if (!!timestamp2 && timestamp2 > defaultTimestamp) {\r\n      return obj2\r\n    }\r\n\r\n    return defaultObj\r\n  }\r\n\r\n  getMostRecentEach(defaultArr, arr2, matchBy, markAsDeleted) {\r\n    const returnList = []\r\n\r\n    for (const index in defaultArr) {\r\n      const obj = clone(defaultArr[index])\r\n      if (!matchBy(obj)) {\r\n        continue\r\n      }\r\n\r\n      returnList.push(obj)\r\n      const arr2match = arr2.find(arrObj => matchBy(arrObj) === matchBy(obj))\r\n\r\n      if (!arr2match) {\r\n        markAsDeleted(obj)\r\n      }\r\n    }\r\n\r\n    for (const index in arr2) {\r\n      const obj = clone(arr2[index])\r\n      if (!matchBy(obj)) {\r\n        continue\r\n      }\r\n\r\n      const defaultMatch = returnList.find(returnObj => matchBy(returnObj) === matchBy(obj))\r\n\r\n      if (!defaultMatch) {\r\n        markAsDeleted(obj)\r\n        returnList.splice(index, 0, obj)\r\n        continue\r\n      }\r\n\r\n      const replacement = this.getMostRecent(defaultMatch, obj)\r\n      if (replacement === defaultMatch) {\r\n        continue\r\n      }\r\n\r\n      returnList.splice(returnList.indexOf(defaultMatch), 1, replacement)\r\n    }\r\n\r\n    return returnList\r\n  }\r\n}\r\n\r\nexport default new VersionResolver()\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"","import VersionResolver from './versionResolver'\r\n\r\nexport const ADD_WORKSHOP = 'ADD_WORKSHOP'\r\nexport const ARCHIVE_WORKSHOP = 'ARCHIVE_WORKSHOP'\r\nexport const DELETE_WORKSHOP = 'DELETE_WORKSHOP'\r\nexport const RESTORE_WORKSHOP = 'RESTORE_WORKSHOP'\r\nexport const UPDATE_WORKSHOPS_CONTENT = 'UPDATE_WORKSHOPS_CONTENT'\r\n\r\nexport const LOAD_WORKSHOPS = 'LOAD_WORKSHOPS'\r\nexport const NUKE_WORKSHOPS = 'NUKE_WORKSHOPS'\r\n\r\nconst store = {\r\n  state: {\r\n    // workshop [{ archived bool false, guid Guid, title string, order number, workshopName string, content Delta null, date Date }]\r\n    workshops: [],\r\n  },\r\n  mutations: {\r\n    // Standard workshop mutations\r\n    [ADD_WORKSHOP](state, { workshop }) {\r\n      VersionResolver.timestamp(workshop)\r\n      state.workshops.push(workshop)\r\n    },\r\n    [ARCHIVE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${ARCHIVE_WORKSHOP}: Cannot archive workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      workshop.archived = true\r\n    },\r\n    [DELETE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${DELETE_WORKSHOP}: Cannot delete workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      state.workshops.splice(state.workshops.indexOf(workshop), 1)\r\n    },\r\n    [RESTORE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${RESTORE_WORKSHOP}: Cannot restore workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      workshop.archived = false\r\n    },\r\n    [UPDATE_WORKSHOPS_CONTENT](state, { workshopUpdates: [...workshopUpdates] }) {\r\n      for (const { workshop, newContent, newTitle } of workshopUpdates) {\r\n        if (!state.workshops.includes(workshop)) {\r\n          throw new Error(`${UPDATE_WORKSHOPS_CONTENT}: Cannot update workshop \"${workshop.title}\": does not exist.`)\r\n        }\r\n\r\n        VersionResolver.timestamp(workshop)\r\n        workshop.content = newContent\r\n\r\n        if (newTitle) {\r\n          workshop.title = newTitle\r\n        }\r\n      }\r\n    },\r\n\r\n    // Overwrite all workshops or the workshop list\r\n    [LOAD_WORKSHOPS](state, { workshops }) {\r\n      if (!Array.isArray(workshops)) {\r\n        throw new Error(`${LOAD_WORKSHOPS}: Cannot load workshops: argument is not an array.`)\r\n      }\r\n\r\n      state.workshops = workshops\r\n    },\r\n    [NUKE_WORKSHOPS](state) {\r\n      state.workshops = []\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import tooltip from './tippyBuilder'\r\n\r\nconst directive = {\r\n  bind: (el, { value = {} }) => {\r\n    const {\r\n      content, distance = 10, interactive = false, enabled = true,\r\n    } = value\r\n\r\n    const tippy = tooltip({\r\n      content,\r\n      distance,\r\n      el,\r\n      interactive,\r\n    })\r\n\r\n    if (!tippy) {\r\n      console.warn('Expected a Tippy.js instance to be returned')\r\n      return\r\n    }\r\n\r\n    if (enabled) {\r\n      return\r\n    }\r\n\r\n    tippy.disable()\r\n  },\r\n  update: (el, { value = {} }) => {\r\n    const { enabled = true } = value\r\n\r\n    const tippy = el._tippy\r\n\r\n    if (!tippy) {\r\n      console.warn('Expected a Tippy.js instance on el with v-tooltip')\r\n      return\r\n    }\r\n\r\n    if (enabled) {\r\n      tippy.enable()\r\n    } else {\r\n      tippy.disable()\r\n    }\r\n  },\r\n}\r\n\r\nexport default directive\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\""],"sourceRoot":""}