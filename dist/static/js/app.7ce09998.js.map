{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/img/modal-logo.png","webpack:///./src/app/planner/planner.page.vue?64bd","webpack:///./src/app/NotFound.vue?d6ce","webpack:///src/app/NotFound.vue","webpack:///./src/app/NotFound.vue?5503","webpack:///./src/app/NotFound.vue","webpack:///./src/app/composer/composer.page.vue?4403","webpack:///./src/app/shared/plansList.vue?53ad","webpack:///./src/app/shared/chipsList.vue?2b3a","webpack:///src/app/shared/chipsList.vue","webpack:///./src/app/shared/chipsList.vue?5fc5","webpack:///./src/app/shared/chipsList.vue","webpack:///./src/app/shared/tabsList.vue?84c1","webpack:///src/app/shared/tabsList.vue","webpack:///./src/app/shared/tabsList.vue?abdd","webpack:///./src/app/shared/tabsList.vue","webpack:///./src/app/shared/validate.js","webpack:///src/app/shared/plansList.vue","webpack:///./src/app/shared/plansList.vue?1847","webpack:///./src/app/shared/plansList.vue","webpack:///./src/app/composer/textMap.vue?abd9","webpack:///./src/app/composer/textMagnifier.vue?9b7b","webpack:///src/app/composer/textMagnifier.vue","webpack:///./src/app/composer/textMagnifier.vue?029f","webpack:///./src/app/composer/textMagnifier.vue","webpack:///src/app/composer/textMap.vue","webpack:///./src/app/composer/textMap.vue?fc52","webpack:///./src/app/composer/textMap.vue","webpack:///./src/app/shared/topicList.vue?6922","webpack:///src/app/shared/topicList.vue","webpack:///./src/app/shared/topicList.vue?243e","webpack:///./src/app/shared/topicList.vue","webpack:///./src/app/composer/composer.store.js","webpack:///./src/app/composer/wordDefine.vue?9625","webpack:///src/app/composer/wordDefine.vue","webpack:///./src/app/composer/wordDefine.vue?efa6","webpack:///./src/app/composer/wordDefine.vue","webpack:///./src/app/shared/workshopList.vue?5f98","webpack:///src/app/shared/workshopList.vue","webpack:///./src/app/shared/workshopList.vue?1ddc","webpack:///./src/app/shared/workshopList.vue","webpack:///src/app/composer/composer.page.vue","webpack:///./src/app/composer/composer.page.vue?3057","webpack:///./src/app/composer/composer.page.vue","webpack:///./src/app/documentEdit/documentEdit.page.vue?1c09","webpack:///src/app/documentEdit/documentEdit.page.vue","webpack:///./src/app/documentEdit/documentEdit.page.vue?109f","webpack:///./src/app/documentEdit/documentEdit.page.vue","webpack:///./src/app/outliner/outliner.page.vue?4f69","webpack:///src/app/outliner/outliner.page.vue","webpack:///./src/app/outliner/outliner.page.vue?c486","webpack:///./src/app/outliner/outliner.page.vue","webpack:///./src/app/planner/planner.page.vue?6378","webpack:///src/app/planner/planner.page.vue","webpack:///./src/app/planner/planner.page.vue?de0e","webpack:///./src/app/planner/planner.page.vue","webpack:///./src/app/search/search.page.vue?1f47","webpack:///./src/app/search/match.vue?3fab","webpack:///src/app/search/match.vue","webpack:///./src/app/search/match.vue?4422","webpack:///./src/app/search/match.vue","webpack:///src/app/search/search.page.vue","webpack:///./src/app/search/search.page.vue?aa65","webpack:///./src/app/search/search.page.vue","webpack:///./src/app/api/userApi.js","webpack:///./src/app/router.js","webpack:///./src/app/App.vue?62cb","webpack:///./src/app/shared/documentMenu.vue?82f3","webpack:///./src/app/shared/documentPicker.vue?6a0f","webpack:///src/app/shared/documentPicker.vue","webpack:///./src/app/shared/documentPicker.vue?0ab8","webpack:///./src/app/shared/documentPicker.vue","webpack:///src/app/shared/documentMenu.vue","webpack:///./src/app/shared/documentMenu.vue?0258","webpack:///./src/app/shared/documentMenu.vue","webpack:///./src/app/IdleWatcher.vue?531c","webpack:///src/app/IdleWatcher.vue","webpack:///./src/app/IdleWatcher.vue?e7fb","webpack:///./src/app/IdleWatcher.vue","webpack:///./src/app/shared/mainMenu.vue?cf7c","webpack:///./src/app/offlineStorage/offlineStorage.vue?83d3","webpack:///src/app/offlineStorage/offlineStorage.vue","webpack:///./src/app/offlineStorage/offlineStorage.vue?98b0","webpack:///./src/app/offlineStorage/offlineStorage.vue","webpack:///src/app/shared/statusSignal.vue","webpack:///./src/app/shared/statusSignal.vue?dce9","webpack:///./src/app/shared/statusSignal.vue?8e0a","webpack:///./src/app/shared/statusSignal.vue","webpack:///src/app/shared/mainMenu.vue","webpack:///./src/app/shared/mainMenu.vue?c94f","webpack:///./src/app/shared/mainMenu.vue","webpack:///./src/app/shared/user.store.js","webpack:///./src/app/wizard/wizard.vue?ebaf","webpack:///./src/app/wizard/documentTypes.js","webpack:///src/app/wizard/wizard.vue","webpack:///./src/app/wizard/wizard.vue?966b","webpack:///./src/app/wizard/wizard.vue","webpack:///src/app/App.vue","webpack:///./src/app/App.vue?332f","webpack:///./src/app/App.vue","webpack:///./src/app/api/chapters.persist.js","webpack:///./src/store.js","webpack:///./src/app.js","webpack:///./src/app/shared/quillEditor.vue?b79a","webpack:///./src/app/shared/quillBuilder.js","webpack:///./src/app/shared/quillFullScreen.vue?26d6","webpack:///src/app/shared/quillFullScreen.vue","webpack:///./src/app/shared/quillFullScreen.vue?b401","webpack:///./src/app/shared/quillFullScreen.vue","webpack:///src/app/shared/quillEditor.vue","webpack:///./src/app/shared/quillEditor.vue?c012","webpack:///./src/app/shared/quillEditor.vue","webpack:///./src/app/wizard/wizard.vue?908e","webpack:///./src/app/NotFound.vue?ed6c","webpack:///./src/app/search/match.vue?52ed","webpack:///./src/app/shared/tippyBuilder.js","webpack:///./src/app/shared/tabsList.vue?993c","webpack:///./src/app/api/localStorage.js","webpack:///./src/app/shared/quillFullScreen.vue?f46c","webpack:///./src/app/shared/documentMenu.vue?77cd","webpack:///./src/app/api/storageSwitch.js","webpack:///./src/app/api/demoStorage.js","webpack:///./src/app/api/offlineStorage.js","webpack:///./src/app/api/serverStorage.js","webpack:///./src/app/outliner/outliner.page.vue?2a54","webpack:///./src/app/IdleWatcher.vue?1b1a","webpack:///./src/app/App.vue?d0fd","webpack:///./models/writingWorkshop.js","webpack:///./src/app/composer/textMagnifier.vue?b9d5","webpack:///./utilities.js","webpack:///./src/app/composer/textMap.vue?6ece","webpack:///./src/app/shared/deltaParser.js","webpack:///./src/app/composer/wordDefine.vue?741d","webpack:///./src/app/shared/cache.js","webpack:///./src/app/shared/chapters.store.js","webpack:///./src/app/documentEdit/documentEdit.page.vue?43c7","webpack:///./src/app/shared/mainMenu.vue?d628","webpack:///./src/app/shared/status.store.js","webpack:///./src/app/composer/composer.page.vue?be37","webpack:///./src/app/shared/document.store.js","webpack:///./src/app/shared/topicList.vue?8652","webpack:///./src/app/shared/chipsList.vue?dcd6","webpack:///./public/img/modal-logo@2x.png","webpack:///./src/app/shared/statusSignal.vue?3a28","webpack:///./src/app/outliner/outliner.page.vue?b290","webpack:///./src/app/shared/mainMenu.vue?6721","webpack:///./src/app/shared/guid.js","webpack:///./src/app/search/search.page.vue?bde6","webpack:///./src/app/api/api.js","webpack:///./src/app/shared/plansList.vue?8f69","webpack:///./src/app/offlineStorage/offlineStorage.vue?998e","webpack:///./src/app/shared/versionResolver.js","webpack:///./src/app/shared/quillEditor.vue?2171","webpack:///./src/app/shared/workshops.store.js","webpack:///./src/app/shared/tooltip.directive.js","webpack:///./src/app/shared/documentPicker.vue?0151","webpack:///./src/app/shared/quillEditor.vue?ed72","webpack:///./src/app/shared/workshopList.vue?f913"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","analyser","exporter","w-free-write","w-novel-quickstart","w-plot-workshop","w-setting-workshop","w-writers-unblock","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_planner_page_vue_vue_type_style_index_0_id_3b3a778d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_planner_page_vue_vue_type_style_index_0_id_3b3a778d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","_v","attrs","NotFoundvue_type_script_lang_js_","app_NotFoundvue_type_script_lang_js_","component","componentNormalizer","options","__file","NotFound","composer_pagevue_type_template_id_2105d8d6_scoped_true_render","editor-element","editorElement","data-stream","activeChapter","content","mark","on","select","selectMap","active-index","activeChapterIndex","data-array","allChapters","filter-tabs","isViewing","item-name","add","addChapter","hover","hoverChapter","unhover","unhoverChapter","update:activeIndex","selectChapter","ref","class","active","showStats","_s","title","chapterWordCount","chapterParagraphCount","chapterPageCount","chapterReadTimeMinutes","documentTitle","documentWordCount","documentPageCount","documentReadTimeMinutes","word","content-id","guid","scroll-to","scrollTo","container","editorContainerNode","update:content","updateContent","update:selection","updateSelection","sidebar","click","$event","switchOutline","domProps","innerHTML","outlineSvg","switchPlans","planSvg","switchWorkshops","workshopSvg","_e","directives","rawName","filters","expression","id","checked","Array","isArray","archived","_i","change","$$a","$$el","$$c","$$v","$$i","$set","concat","for","filter-plans","showPlan","filter-sections","showSection","to","chapter","filter-topics","showTopic","topics","allTopics","filter-workshops","showWorkshop","composer_pagevue_type_template_id_2105d8d6_scoped_true_staticRenderFns","plansListvue_type_template_id_7275fea1_scoped_true_render","viewingPlans","activePlanIndex","allPlans","filterPlans","addPlan","selectPlan","activePlan","archivePlan","index","restorePlan","deletePlan","helpIconSvg","helpClick","helpSectionChipsModal","name-prop","activePlanSections","filter-chips","filterSections","is-deletable","isDeletable","addSection","delete","archiveSection","rearrange","rearrangeSection","restore","restoreSection","update","renameSection","_l","section","deleteSection","isEditing","editSection","editSvg","endEditSection","doneSvg","space-above","getHtml","getTextContent","refInFor","shortcut:done","staticStyle","display","plansListvue_type_template_id_7275fea1_scoped_true_staticRenderFns","chipsListvue_type_template_id_454a4b13_scoped_true_render","draggableOptions","model","callback","reactiveArray","chip","filterChips","light","showChipInput","nameProp","renameChip","deleteSvg","deleteChip","addSvg","restoreChip","chipValues","placeholder","keyup","_k","keyCode","saveChipValue","input","composing","disabled","saveSvg","cancelRename","cancelSvg","addNewChip","newChip","chipsListvue_type_template_id_454a4b13_scoped_true_staticRenderFns","chipsListvue_type_script_lang_js_","components","draggable","vuedraggable_default","a","computed","dataArray","set","$emit","octicons_default","plus","toSVG","height","width","x","animation","group","handle","pencil","check","methods","isUnique","assertUnique","arr","propName","existing","find","el","sweetalert_min_default","icon","text","toLowerCase","otherChips","props","required","Function","String","shared_chipsListvue_type_script_lang_js_","chipsList_component","chipsList","tabsListvue_type_template_id_e5dddd7a_scoped_true_render","item","filterTabs","isActive","selectItem","mouseover","hoverItem","mouseout","unhoverItem","showAddItem","showNewItem","itemName","addItem","newItem","cancelAddItem","tabsListvue_type_template_id_e5dddd7a_scoped_true_staticRenderFns","tabsListvue_type_script_lang_js_","tabCache","cache","activeIndex","mounted","cachedIndex","cacheGet","Number","canAdd","default","Boolean","watch","cacheSet","shared_tabsListvue_type_script_lang_js_","tabsList_component","tabsList","ValidateTitle","minlength","maxlength","swal","plansListvue_type_script_lang_js_","ChipsList","QuillEditor","quillEditor","TabsList","sections","$store","state","chapters","plans","_this","filter","plan","editingSectionIndex","question","validate_ValidateTitle","shared_guid","commit","chapters_store","log","tags","_ref","_ref2","_ref3","_this2","buttons","dangerMode","willDelete","_ref4","_this3","$refs","focus","deltaParser","_ref5","newTitle","_ref6","_ref7","indexOf","_ref8","newContent","planGuid","contentId","updateTags","newTags","shared_plansListvue_type_script_lang_js_","plansList_component","plansList","textMapvue_type_template_id_2cff7cef_scoped_true_render","mapClick","mapHtml","html","magnify-el","mapNode","wrap-el","mapWrapNode","textMapvue_type_template_id_2cff7cef_scoped_true_staticRenderFns","textMagnifiervue_type_template_id_1417fd9c_scoped_true_render","show","textMagnifiervue_type_template_id_1417fd9c_scoped_true_staticRenderFns","textMagnifiervue_type_script_lang_js_","cachedHtml","magnifyRadius","scale","wrapElBoundingClientRect","destroyed","magnifyEl","removeEventListener","mouseMove","mouseLeave","getRelativeCoords","bounds","clientX","left","y","clientY","top","_this$getRelativeCoor","getBoundingClientRect","transformCoord","magnifierStyle","magnifier","style","refresh","clone","cloneNode","magnifierContent","adjust","instance","$nextTick","wrapEl","addEventListener","composer_textMagnifiervue_type_script_lang_js_","textMagnifier_component","textMagnifier","textMapvue_type_script_lang_js_","TextMagnifier","helpNode","markInstance","mouse","tagName","parentClasses","toConsumableArray","classList","includes","childNodes","paragraphIndex","searchTermIndex","markClick","map","marks","querySelectorAll","paragraph","updateMap","textElement","$el","querySelector","helpModal","mark_default","mapWrap","dataStream","debounce_default","unmark","getNumberOfWords","separateWordSearch","str","trim","split","composer_textMapvue_type_script_lang_js_","textMap_component","textMap","topicListvue_type_template_id_109018ef_scoped_true_render","topic","getMasterTopic","archiveTopic","restoreTopic","deleteTopic","showActions","editTopic","endEditTopic","topicListvue_type_template_id_109018ef_scoped_true_staticRenderFns","topicListvue_type_script_lang_js_","chapterTopics","getTopic","editingTopicIndex","chapterTopic","filterTopics","shared_topicListvue_type_script_lang_js_","topicList_component","topicList","UPDATE_SELECTION","store","selection","range","mutations","wordDefinevue_type_template_id_8eeb2360_scoped_true_render","defineIcon","gDefineUrl","gSynonymUrl","wordDefinevue_type_template_id_8eeb2360_scoped_true_staticRenderFns","wordDefinevue_type_script_lang_js_","urlWord","replace","encodeURI","book","linkIcon","xIcon","composer_wordDefinevue_type_script_lang_js_","wordDefine_component","wordDefine","workshopListvue_type_template_id_41a6efe2_scoped_true_render","workshops","activeWorkshopNameIndex","workshopNameTabs","can-add","selectWorkshopNameIndex","currentWorkshopDisplayName","$$selectedVal","selected","val","_value","selectedWorkshopGuid","multiple","workshop","filterWorkshops","activeWorkshopsTitle","activeWorkshopsDate","firstActiveWorkshop","archiveActiveWorkshops","restoreActiveWorkshops","deleteActiveWorkshops","workshopListvue_type_template_id_41a6efe2_scoped_true_staticRenderFns","workshopListvue_type_script_lang_js_","writingWorkshop","currentWorkshopName","displayName","workshopNames","activeWorkshops","viewingWorkshops","Date","date","toLocaleDateString","selectableWorkshops","order","sort","b","getTime","workshopName","uniq_default","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","workshops_store","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","selectWorkshopGuid","selectWorkshopName","selectDefaultWorkshop","shared_workshopListvue_type_script_lang_js_","workshopList_component","workshopList","planSwitch","composer_pagevue_type_script_lang_js_","PlansList","TextMap","TopicList","VueSwitch","switches","WordDefine","WorkshopList","viewingChapters","allWorkshops","getPageCount","textContent","getParagraphCount","getReadTimeMinutes","getWordCount","documentFullText","join","currentDocument","hasChapters","hasPlans","hasTopics","hasWorkshops","isPremium","user","composer","newChapter","telescope","tools","Math","ceil","match","descriptor","masterTopic","editorContainer","textEditor","chapterGuid","$route","query","workshopGuid","activeWorkshop","$router","composer_composer_pagevue_type_script_lang_js_","composer_page_component","composer_page","documentEdit_pagevue_type_template_id_fcb1d9b4_scoped_true_render","documentName","newDocumentName","saveDocumentName","deleteDocument","documentEdit_pagevue_type_template_id_fcb1d9b4_scoped_true_staticRenderFns","documentEdit_pagevue_type_script_lang_js_","documentGuid","dispatch","document_store","documentEdit_documentEdit_pagevue_type_script_lang_js_","documentEdit_page_component","documentEdit_page","outliner_pagevue_type_template_id_3e9b1370_scoped_true_render","helpChapterChipsNode","showChapter","archiveChapter","rearrangeChapter","restoreChapter","renameChapter","helpTopicChipsNode","addTopic","rearrangeTopic","renameTopic","helpChapterBlocksNode","deleteChapter","outliner_pagevue_type_template_id_3e9b1370_scoped_true_staticRenderFns","outliner_pagevue_type_script_lang_js_","viewingTopicsFilteredArchived","viewingTopicsFilteredTitle","expandSvg","filtersVisible","_this4","toggleFilters","helpChapterBlocksModal","helpChapterChipsModal","helpTopicChipsModal","outliner_outliner_pagevue_type_script_lang_js_","outliner_page_component","outliner_page","planner_pagevue_type_template_id_3b3a778d_scoped_true_render","helpPlanChipsModal","rearrangePlan","renamePlan","planner_pagevue_type_template_id_3b3a778d_scoped_true_staticRenderFns","planner_pagevue_type_script_lang_js_","planner_planner_pagevue_type_script_lang_js_","planner_page_component","planner_page","search_pagevue_type_template_id_10533e1c_scoped_true_render","search","searchText","loading","showChapters","showOutlines","showPlans","showWorkshops","searched","hasResults","matches","linkSvg","outlines","topicMatch","topicGuid","chapterTitle","topicTitle","sectionMatch","sectionGuid","planTitle","sectionTitle","workshopMatch","search_pagevue_type_template_id_10533e1c_scoped_true_staticRenderFns","matchvue_type_template_id_3b69e175_scoped_true_render","atHead","formattedPre","formattedQuery","formattedPost","atTail","matchvue_type_template_id_3b69e175_scoped_true_staticRenderFns","matchvue_type_script_lang_js_","trimStart_default","pre","trimEnd_default","post","search_matchvue_type_script_lang_js_","match_component","prePostChars","search_pagevue_type_script_lang_js_","Match","PulseLoader","link","getMatchArray","fullText","indices","max","matched","getMatchingChapters","_matches","getMatchingOutlines","reduce","getMatchingPlans","getMatchingWorkshops","workshopsByGuid","obj","keys","searchInput","search_search_pagevue_type_script_lang_js_","search_page_component","search_page","route","api","simpleGet","axios","response","simplePost","body","getUser","logOut","Vue","use","Router","assertPremium","userApi","assertOnline","isOnline","compose","_len","arguments","guards","_key","from","guardPromises","guard","_len2","results","_key2","blocks","res","nav","esm_typeof","router","routes","path","redirect","Planner","Outliner","Composer","beforeEnter","DocumentEdit","Search","Appvue_type_template_id_af5e5f44_scoped_true_render","loaded","Appvue_type_template_id_af5e5f44_scoped_true_staticRenderFns","documentMenuvue_type_template_id_38cc37e7_scoped_true_render","showWizard","notDemo","documentMenuvue_type_template_id_38cc37e7_scoped_true_staticRenderFns","documentPickervue_type_template_id_6669ec1d_scoped_true_render","documentValue","changeDocument","documentPickervue_type_template_id_6669ec1d_scoped_true_staticRenderFns","documentPickervue_type_script_lang_js_","allDocuments","ownedDocuments","status","status_store","OFFLINE","api_api","doc","shared_documentPickervue_type_script_lang_js_","documentPicker_component","documentPicker","documentMenuvue_type_script_lang_js_","DocumentPicker","accountType","location","shared_documentMenuvue_type_script_lang_js_","documentMenu_component","documentMenu","IdleWatchervue_type_template_id_46cd5d12_scoped_true_render","needsReload","reload","backToApp","fade","fadeOn","hidden","&click","resetIdleTime","&mousemove","&scroll","&keypress","_t","IdleWatchervue_type_template_id_46cd5d12_scoped_true_staticRenderFns","IdleWatchervue_type_script_lang_js_","fadeTimeout","idleTimeout","goIdle","showIdlePage","wait","app_IdleWatchervue_type_script_lang_js_","IdleWatcher_component","IdleWatcher","mainMenuvue_type_template_id_e5f9dd86_scoped_true_render","worksOffline","tooltip","getIconSvg","toolsTooltip","offline","description","email","startWorkshop","restricted","available","mainMenuvue_type_template_id_e5f9dd86_scoped_true_staticRenderFns","offlineStoragevue_type_template_id_1739da34_scoped_true_render","offlineStoragevue_type_template_id_1739da34_scoped_true_staticRenderFns","browser","detect_browser","offlineModalSeen","askPermission","permissionResult","Notification","requestPermission","offlineStoragevue_type_script_lang_js_","allowsOffline","checkOfflineStorage","navigator","storage","persisted","persistent","seen","promptForPermission","chromePrompt","chromePermissionModal","cancel","confirm","allow","persist","permissionFailed","permissionFailedModal","standardPrompt","standardPermissionModal","offlineStorage_offlineStoragevue_type_script_lang_js_","offlineStorage_component","offlineInterval","offlineStorage","statusSignalvue_type_template_id_7fe01412_scoped_true_render","isDemo","isSaving","saved","savedIcon","enabled","saveError","saveErrorText","errorIcon","offlineText","offlineIcon","statusSignalvue_type_template_id_7fe01412_scoped_true_staticRenderFns","statusSignalvue_type_script_lang_js_","created","checkOffline","setInterval","beforeDestroy","clearInterval","SAVED","saving","SAVING","ERROR","alert","plug","savingDebouncer","tooltip_directive","isOffline","wasOffline","offlineStatus","_tippy","warn","_saving","shared_statusSignalvue_type_script_lang_js_","statusSignal_component","statusSignal","mainMenuvue_type_script_lang_js_","OfflineStorage","StatusSignal","iconName","workshopsModal","close","shared_mainMenuvue_type_script_lang_js_","mainMenu_component","userPromiseResolve","mainMenu","COMMIT_NEW_EMAIL","SET_DEFAULT_USER","SET_USER","SET_USER_PROMISE","UPDATE_EMAIL","UPDATE_PASSWORD","defaultUser","verified","setSentryUser","Raven","setUserContext","userPromise","actions","updateEmail","_mutations","password","updatePassword","wizardvue_type_template_id_4ee53a14_scoped_true_render","hasDocuments","selectedType","selectDocument","svg","createDocument","wizardvue_type_template_id_4ee53a14_scoped_true_staticRenderFns","createType","NOVEL","ESSAY","SCRIPT","BLANK","types","wizardvue_type_script_lang_js_","documentTypes","newDocument","wizard_wizardvue_type_script_lang_js_","wizard_component","wizard","userCache","Appvue_type_script_lang_js_","beforeCreate","safeUserPromise","cachedUser","routeTransitionTimeout","beforeEach","afterEach","onError","DocumentMenu","MainMenu","Wizard","app_Appvue_type_script_lang_js_","App_component","App","addDocument","ADD_DOCUMENT","DELETE_CHAPTER","REMOVE_OWNED_DOCUMENT","DELETE_PLAN","DELETE_SECTION","DELETE_TOPIC","deleteWorkshop","DELETE_WORKSHOP","REARRANGE_CHAPTERS","REARRANGE_PLANS","REARRANGE_SECTIONS","REARRANGE_TOPICS","updateChapter","ADD_CHAPTER","ADD_TOPIC_TO_CHAPTER","ARCHIVE_CHAPTER","RESTORE_CHAPTER","UPDATE_CHAPTER","UPDATE_CHAPTER_CONTENT","UPDATE_TOPIC_CONTENT","updateDocument","UPDATE_DOCUMENT_NAME","updatePlan","ADD_PLAN","ARCHIVE_PLAN","RESTORE_PLAN","UPDATE_PLAN","updateSection","ADD_SECTION","ARCHIVE_SECTION","RESTORE_SECTION","UPDATE_SECTION","UPDATE_SECTION_CONTENT","UPDATE_SECTION_TAGS","updateTopic","ADD_TOPIC","ARCHIVE_TOPIC","RESTORE_TOPIC","UPDATE_TOPIC","updateWorkshop","ADD_WORKSHOP","ARCHIVE_WORKSHOP","RESTORE_WORKSHOP","updateWorkshops","UPDATE_WORKSHOPS_CONTENT","debouncedUpdateChapter","chapterStorage","getDebouncedUpdateChapter","debounce","_chapterStorage","chapterAutosaverPlugin","subscribe","mutation","getStorageApi","handleMutation","payload","arrangeChapters","arrangePlans","arrangeSections","arrangeTopics","workshopUpdates","Vuex","Store","plugins","isProd","config","addPlugin","RavenVue","install","productionTip","serviceWorker","register","registration","catch","registrationError","__webpack_exports__","h","ctrlKey","emitDone","hideFullScreen","emitFullscreenContent","emitSelection","toolbarOptions","header","list","allowedFormats","createQuill","onFullScreen","tempToolbar","handlers","fullscreen","quill","Quill","formats","toolbar","theme","fullScreenSvg","Octicons","fullScreenButton","distance","interactive","position","quillFullScreenvue_type_template_id_fafac0d6_scoped_true_render","isWideView","wideSvg","showWideView","narrowSvg","showNarrowView","exitSvg","wide","quillFullScreenvue_type_template_id_fafac0d6_scoped_true_staticRenderFns","quillFullScreenvue_type_script_lang_js_","forEach","slicedToArray","fn","off","emitContent","listenQuill","textChanged","maxWait","onTextChange","getContents","onSelectionChange","getText","updateQuill","setContents","quillBuilder","editor","shared_quillFullScreenvue_type_script_lang_js_","quillFullScreen","quillEditorvue_type_script_lang_js_","QuillFullScreen","cachedContentId","showFullScreen","disable","enable","setSelection","getLength","selectionChanged","getSelection","silent","delta","isEqual_default","element","scrollTop","offsetTop","searchTerm","contents","RegExp","escape_string_regexp_default","searchRanges","getAllOccurrences","selectedRange","regex","ranges","exec","shared_quillEditorvue_type_script_lang_js_","quillEditor_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wizard_vue_vue_type_style_index_0_id_4ee53a14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wizard_vue_vue_type_style_index_0_id_4ee53a14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotFound_vue_vue_type_style_index_0_id_00a62670_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotFound_vue_vue_type_style_index_0_id_00a62670_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_match_vue_vue_type_style_index_0_id_3b69e175_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_match_vue_vue_type_style_index_0_id_3b69e175_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tippy_js__WEBPACK_IMPORTED_MODULE_0__","tippy_js__WEBPACK_IMPORTED_MODULE_0___default","_ref$arrow","arrow","_ref$distance","_ref$placement","placement","_ref$hideOnClick","hideOnClick","tippy","one","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabsList_vue_vue_type_style_index_0_id_e5dddd7a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabsList_vue_vue_type_style_index_0_id_e5dddd7a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","require","orderPromises","LocalStorageApi","username","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","localForage","setDriver","INDEXEDDB","WEBSQL","LOCALSTORAGE","_storage","getStorageKeys","planKeyPrefix","planOrderKey","getPlanKey","sectionKeyPrefix","sectionOrderKey","getSectionKey","chapterKeyPrefix","chapterOrderKey","getChapterKey","topicKeyPrefix","topicOrderKey","getTopicKey","legacyDocumentGuids","documentGuidsKey","documentsKey","_getAllDocumentGuids","documentGuids","setItem","chapterGuids","planGuids","sectionGuids","topicGuids","removeItem","_getAllChapters","_getAllPlans","_getAllSections","_getAllTopics","prefix","_getChaptersSortOrder","startsWith","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","sortOrder","getItem","chap1","chap2","_this5","legacyGuids","guids","allGuids","uniq","_this6","_getAllDocuments","_this7","_getPlansSortOrder","plan1","plan2","_this8","_getSectionSortOrder","_ref9","section1","section2","_this9","_getTopicsSortOrder","_ref10","_ref11","topic1","topic2","_this10","_ref12","updateTopicFns","updateTopicPromise","updateChapterPromise","updateChapterFns","updatePlanFns","updateSectionFns","updatePlanPromise","_this11","_ref13","_this12","_this13","_this14","_this15","_ref14","_ref15","backup","_this16","docExport","_backup","saveAllContent","_this17","documents","_ref16","_ref17","_this18","importErr","_this19","iterate","clear","addDocumentPromises","revertImport","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillFullScreen_vue_vue_type_style_index_0_id_fafac0d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillFullScreen_vue_vue_type_style_index_0_id_fafac0d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentMenu_vue_vue_type_style_index_0_id_38cc37e7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentMenu_vue_vue_type_style_index_0_id_38cc37e7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","storageApi","temporaryStoragePromiseResolve","DemoStorageApi","classCallCheck","onbeforeunload","localStorage","OfflineStorageApi","VueInstance","requiresSyncCache","Cache","UNRESETTABLE","offlinePrefix","docGuid","docKey","deletePromises","clearOldStorage","notAllowedError","updateStorage","getLatestStoredDocument","getStoredDocument","ServerStorageApi","savingCounter","goOffline","SET_STATUS_OFFLINE","isOnlineCached","SET_STATUS_SAVING","isError","SET_STATUS_ERROR","SET_STATUS_DONE","wrapStatus","updateStorageAfterDebounced","updateStorageAfter","waitUntilDone","counter","intervalId","loadDocument","LOAD_CONTENT","LOAD_WORKSHOPS","syncCache","restoredToken","offlineDoc","resolvedDoc","onlineDoc","matchBy","markDeleted","resolvedChapters","VersionResolver","getMostRecentEach","resolvedTopics","resolvedPlans","resolvedWorkshops","newDoc","shallowEqualArrays","assign","docImport","getDocuments","deleteWorkshopContent","getChapters","getPlans","getTopics","getWorkshops","updateWorkshopContents","fullExport","JSON","stringify","json","parse","fullImport","includeArchived","exportToWord","temporaryStoragePromise","setStorageApi","storageApiPromise","cachedStorage","Local","cached","Demo","Server","Offline","waitForInit","getCached","init","isOnlinePromise","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_0_id_3e9b1370_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_0_id_3e9b1370_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdleWatcher_vue_vue_type_style_index_0_id_46cd5d12_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdleWatcher_vue_vue_type_style_index_0_id_46cd5d12_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_af5e5f44_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_af5e5f44_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","createWorkshop","FREE_WRITE","NOVEL_QUICKSTART","WRITERS_UNBLOCK","PLOT_WORKSHOP","SETTING_WORKSHOP","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMagnifier_vue_vue_type_style_index_0_id_1417fd9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMagnifier_vue_vue_type_style_index_0_id_1417fd9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","promiseFns","TypeError","getNewLine","getNewSegment","listMap","bullet","ordered","getStyles","attributes","styles","lineStyles","attr","getStyledArrayFromChapters","splitContent","pageBreak","currentLine","ops","_currentLine$style","op","insert","_getStyles","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","_insert$split","_insert$split2","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_1__","first","lines","segment","ix","line","last","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMap_vue_vue_type_style_index_0_id_2cff7cef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_textMap_vue_vue_type_style_index_0_id_2cff7cef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","GetContentString","inserts","joined","wordStartRe","wordContentRe","GetWordArray","tokens","token","TrimEnd","TrimStart","test","GetHtml","converter","DeltaToHtmlConverter","convert","GetIndicesOf","fullString","searchString","searchStringLength","startIndex","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wordDefine_vue_vue_type_style_index_0_id_8eeb2360_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wordDefine_vue_vue_type_style_index_0_id_8eeb2360_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","cacheKeysStorage","allCacheKeys","resetCache","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","NUKE_CONTENT","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","timestamp","containSameElements","timestampEach","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","arr1","arr2","diff","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","difference","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentEdit_page_vue_vue_type_style_index_0_id_fcb1d9b4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentEdit_page_vue_vue_type_style_index_0_id_fcb1d9b4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Statuses","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_composer_page_vue_vue_type_style_index_0_id_2105d8d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_composer_page_vue_vue_type_style_index_0_id_2105d8d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","CHANGE_DOCUMENT","DELETE_DOCUMENT","INIT_DOCUMENTS","SET_UP_DOCUMENT","UNLOAD_CURRENT_DOCUMENT","LOAD_DOCUMENTS","UPDATE_DOCUMENT_METADATA","_actions","shouldReset","getAllChapters","getAllPlans","getAllTopics","getAllWorkshops","getAllDocuments","some","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","NUKE_WORKSHOPS","documentIndex","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_topicList_vue_vue_type_style_index_0_id_109018ef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_topicList_vue_vue_type_style_index_0_id_109018ef_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chipsList_vue_vue_type_style_index_0_id_454a4b13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chipsList_vue_vue_type_style_index_0_id_454a4b13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_statusSignal_vue_vue_type_style_index_0_id_7fe01412_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_statusSignal_vue_vue_type_style_index_0_id_7fe01412_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_outliner_page_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_0_id_e5f9dd86_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainMenu_vue_vue_type_style_index_0_id_e5f9dd86_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","uuid_v1__WEBPACK_IMPORTED_MODULE_0__","uuid_v1__WEBPACK_IMPORTED_MODULE_0___default","uuid","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_page_vue_vue_type_style_index_0_id_10533e1c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_page_vue_vue_type_style_index_0_id_10533e1c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","axiosBase","headers","Pragma","Cache-Control","Api","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","open","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_plansList_vue_vue_type_style_index_0_id_7275fea1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_plansList_vue_vue_type_style_index_0_id_7275fea1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_offlineStorage_vue_vue_type_style_index_0_id_1739da34_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_offlineStorage_vue_vue_type_style_index_0_id_1739da34_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","timestampField","now","defaultObj","obj2","defaultTimestamp","getTimestamp","timestamp2","defaultArr","markAsDeleted","returnList","_loop","arr2match","arrObj","_loop2","defaultMatch","returnObj","replacement","getMostRecent","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_0_id_47f1beb8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_0_id_47f1beb8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_ref5$workshopUpdates","C_code_Edward_the_App_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_4__","_step$value","_tippyBuilder__WEBPACK_IMPORTED_MODULE_0__","directive","_ref$value","_value$distance","_value$interactive","_value$enabled","_ref2$value","_value$enabled2","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentPicker_vue_vue_type_style_index_0_id_6669ec1d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_documentPicker_vue_vue_type_style_index_0_id_6669ec1d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_quillEditor_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workshopList_vue_vue_type_style_index_0_id_41a6efe2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workshopList_vue_vue_type_style_index_0_id_41a6efe2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/app.7ce09998.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({\"analyser\":\"analyser\",\"exporter\":\"exporter\",\"w-free-write\":\"w-free-write\",\"w-novel-quickstart\":\"w-novel-quickstart\",\"w-plot-workshop\":\"w-plot-workshop\",\"w-setting-workshop\":\"w-setting-workshop\",\"w-writers-unblock\":\"w-writers-unblock\"}[chunkId]||chunkId) + \".\" + {\"analyser\":\"d80ab061\",\"exporter\":\"f22f08e0\",\"w-free-write\":\"ae3146ae\",\"w-novel-quickstart\":\"f846ed19\",\"w-plot-workshop\":\"eac2ab8e\",\"w-setting-workshop\":\"566449ca\",\"w-writers-unblock\":\"0ebd77fa\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"analyser\":1,\"exporter\":1,\"w-free-write\":1,\"w-novel-quickstart\":1,\"w-plot-workshop\":1,\"w-setting-workshop\":1,\"w-writers-unblock\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({\"analyser\":\"analyser\",\"exporter\":\"exporter\",\"w-free-write\":\"w-free-write\",\"w-novel-quickstart\":\"w-novel-quickstart\",\"w-plot-workshop\":\"w-plot-workshop\",\"w-setting-workshop\":\"w-setting-workshop\",\"w-writers-unblock\":\"w-writers-unblock\"}[chunkId]||chunkId) + \".\" + {\"analyser\":\"44b53cca\",\"exporter\":\"f9649b20\",\"w-free-write\":\"7697b0ba\",\"w-novel-quickstart\":\"e38debc6\",\"w-plot-workshop\":\"817c5a4f\",\"w-setting-workshop\":\"817c5a4f\",\"w-writers-unblock\":\"8b4a7c0f\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"static/img/modal-logo.99cae3a0.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"not-found\"},[_c('h3',[_vm._v(\"Something went wrong.\")]),_c('p',[_vm._v(\"\\n      This page doesn't exist. If you're having trouble with the app, please contact us at\\n      \"),_c('a',{attrs:{\"href\":\"mailto:support@edwardtheapp.com\"}},[_vm._v(\"support@edwardtheapp.com\")]),_vm._v(\".\\n    \")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"not-found\">\r\n      <h3>Something went wrong.</h3>\r\n      <p>\r\n        This page doesn't exist. If you're having trouble with the app, please contact us at\r\n        <a href=\"mailto:support@edwardtheapp.com\">support@edwardtheapp.com</a>.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.not-found {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=00a62670&scoped=true&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00a62670\",\n  null\n  \n)\n\ncomponent.options.__file = \"NotFound.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"composer-wrap\"},[(_vm.hasChapters)?_c('div',{staticClass:\"composer\"},[_c('div',{staticClass:\"map-wrap\"},[_c('text-map',{attrs:{\"editor-element\":_vm.editorElement,\"data-stream\":_vm.activeChapter.content,\"mark\":_vm.mark},on:{\"select\":_vm.selectMap}})],1),_c('div',{staticClass:\"editor-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activeChapterIndex,\"data-array\":_vm.allChapters,\"filter-tabs\":_vm.isViewing,\"item-name\":\"Chapter\"},on:{\"add\":_vm.addChapter,\"hover\":_vm.hoverChapter,\"unhover\":_vm.unhoverChapter,\"update:activeIndex\":_vm.selectChapter}}),_c('div',{ref:\"editorContainer\",staticClass:\"below-tabs\"},[_c('div',{staticClass:\"stats\",class:{ 'active': _vm.showStats }},[_c('div',{staticClass:\"stats-content\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.activeChapter.title))])]),_c('p',[_vm._v(_vm._s(_vm.chapterWordCount)+\" words\")]),_c('p',[_vm._v(_vm._s(_vm.chapterParagraphCount)+\" paragraphs\")]),_c('p',[_vm._v(_vm._s(_vm.chapterPageCount)+\" pages\")]),_c('p',[_vm._v(_vm._s(_vm.chapterReadTimeMinutes)+\" minute read\")]),_c('br'),_c('p',[_c('b',[_vm._v(_vm._s(_vm.documentTitle)+\" (Full document)\")])]),_c('p',[_vm._v(_vm._s(_vm.documentWordCount)+\" words\")]),_c('p',[_vm._v(_vm._s(_vm.documentPageCount)+\" pages\")]),_c('p',[_vm._v(_vm._s(_vm.documentReadTimeMinutes)+\" minute read\")])])]),_c('div',{staticClass:\"define\"},[_c('word-define',{attrs:{\"word\":_vm.mark}})],1),_c('quill-editor',{ref:\"textEditor\",attrs:{\"content\":_vm.activeChapter.content,\"content-id\":_vm.activeChapter.guid,\"scroll-to\":_vm.scrollTo,\"container\":_vm.editorContainerNode},on:{\"update:content\":_vm.updateContent,\"update:selection\":_vm.updateSelection}})],1)],1),_c('div',{staticClass:\"sidebar-wrap\"},[_c('div',{staticClass:\"sidebar-options\"},[_c('div',{staticClass:\"plan-switch\"},[_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'outline' },on:{\"click\":function($event){_vm.switchOutline()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.outlineSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Outline\")])]),_c('hr',{staticClass:\"vert\"}),_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'plan' },on:{\"click\":function($event){_vm.switchPlans()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.planSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Plans\")])]),(_vm.isPremium)?[_c('hr',{staticClass:\"vert\"}),_c('button',{staticClass:\"switch-label\",class:{ 'active': _vm.sidebar === 'workshop' },on:{\"click\":function($event){_vm.switchWorkshops()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.workshopSvg)}}),_c('div',{staticClass:\"switch-label-text\"},[_vm._v(\"Workshops\")])])]:_vm._e()],2),_c('div',{staticClass:\"archived-filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],attrs:{\"id\":\"showArchivedTopics\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedTopics\"}},[_vm._v(\"Show Archived\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'plan'),expression:\"sidebar === 'plan'\"}],staticClass:\"sidebar-content\"},[(_vm.hasPlans)?[_c('plans-list',{attrs:{\"filter-plans\":_vm.showPlan,\"filter-sections\":_vm.showSection}})]:[_c('div',[_vm._v(\"No plans yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/plan\"}},[_vm._v(\"Start planning\")])],1)]],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'outline'),expression:\"sidebar === 'outline'\"}],staticClass:\"sidebar-content\"},[(_vm.hasTopics)?[_c('div',{staticClass:\"topic-list-wrap\"},[_c('topic-list',{attrs:{\"chapter\":_vm.activeChapter,\"filter-topics\":_vm.showTopic,\"topics\":_vm.allTopics}})],1)]:[_c('div',[_vm._v(\"No outline yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/outline\"}},[_vm._v(\"Start outlining\")])],1)]],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar === 'workshop'),expression:\"sidebar === 'workshop'\"}],staticClass:\"sidebar-content\"},[(_vm.hasWorkshops)?[_c('workshop-list',{ref:\"workshopList\",attrs:{\"filter-workshops\":_vm.showWorkshop}})]:[_c('div',[_vm._v(\"No workshops completed yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/workshop/free-write\"}},[_vm._v(\"Do a free write\")])],1)]],2)])]):_c('div',[_c('div',[_vm._v(\"No chapters yet.\")]),_c('div',[_c('router-link',{attrs:{\"to\":\"/outline\"}},[_vm._v(\"Create one\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewingPlans.length > 0),expression:\"viewingPlans.length > 0\"}],staticClass:\"plans-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activePlanIndex,\"data-array\":_vm.allPlans,\"filter-tabs\":_vm.filterPlans,\"item-name\":\"Plan\"},on:{\"add\":_vm.addPlan,\"update:activeIndex\":_vm.selectPlan}}),(_vm.activePlan)?_c('div',{staticClass:\"plan\"},[_c('div',{staticClass:\"plan-header\"},[_c('h4',{staticClass:\"plan-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.activePlan.title)+\"\\n      \")]),_c('div',{staticClass:\"plan-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activePlan.archived),expression:\"!activePlan.archived\"}],staticClass:\"plan-action\",on:{\"click\":function($event){_vm.archivePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlan.archived),expression:\"activePlan.archived\"}],staticClass:\"plan-action\",on:{\"click\":function($event){_vm.restorePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlan.archived),expression:\"activePlan.archived\"}],staticClass:\"plan-action button-red\",on:{\"click\":function($event){_vm.deletePlan({ index: _vm.activePlanIndex })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"plan-body\"},[_c('div',{staticClass:\"chips-wrap section-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Sections\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpSectionChipsModal, 'Section List')}}})]),_c('chips-list',{attrs:{\"name\":\"Section\",\"name-prop\":\"title\",\"data-array\":_vm.activePlanSections,\"filter-chips\":_vm.filterSections,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addSection,\"delete\":_vm.archiveSection,\"rearrange\":_vm.rearrangeSection,\"restore\":_vm.restoreSection,\"update\":_vm.renameSection}})],1),_c('div',{staticClass:\"sections\"},_vm._l((_vm.activePlan.sections),function(section,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterSections(section)),expression:\"filterSections(section)\"}],key:section.guid,staticClass:\"section\"},[_c('div',{staticClass:\"section-header\"},[_c('h5',{staticClass:\"section-title\"},[_vm._v(\"\\n              \"+_vm._s(section.title)+\"\\n            \")]),_c('div',{staticClass:\"section-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!section.archived),expression:\"!section.archived\"}],staticClass:\"section-action\",on:{\"click\":function($event){_vm.archiveSection({ index: index })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(section.archived),expression:\"section.archived\"}],staticClass:\"section-action\",on:{\"click\":function($event){_vm.restoreSection({ index: index })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(section.archived),expression:\"section.archived\"}],staticClass:\"section-action button-red\",on:{\"click\":function($event){_vm.deleteSection({ index: index })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"section-content\"},[(!section.archived)?_c('div',{staticClass:\"content-actions\"},[(!_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editSection(index)}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)}}),_vm._v(\"Edit\\n              \")]):_vm._e(),(_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.endEditSection()}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.doneSvg)}}),_vm._v(\"Done Editing\\n              \")]):_vm._e()]):_vm._e(),(!_vm.isEditing(index))?_c('div',{staticClass:\"content-static\",class:{ 'space-above': section.archived }},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(section))}}),(!section.archived && !_vm.getTextContent(section.content))?_c('span',{staticClass:\"content-placeholder\"},[_vm._v(\"\\n                No content yet. Click \\\"Edit\\\" to add some.\\n              \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditing(index)),expression:\"isEditing(index)\"}],staticClass:\"content-editable\"},[_c('quill-editor',{ref:\"quillEditor\",refInFor:true,attrs:{\"content\":section.content,\"content-id\":_vm.activePlan.guid},on:{\"update:content\":function($event){_vm.updateContent(section, $event)},\"shortcut:done\":function($event){_vm.endEditSection()}}})],1)])])}))])]):_vm._e(),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpSectionChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the section list. It's the easiest place to add, archive, restore, rename, and rearrange sections.\")]),_c('p',[_vm._v(\"To add a section, type its name into the \\\"New Section\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a section, click the \\\"X\\\" next to its name in the list.\\n        Archiving a section removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived section, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a section, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a section, click and drag it to where you want it to go.\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chip-list-wrap\"},[_c('div',{staticClass:\"chip-list\"},[_c('draggable',{attrs:{\"options\":_vm.draggableOptions},model:{value:(_vm.reactiveArray),callback:function ($$v) {_vm.reactiveArray=$$v},expression:\"reactiveArray\"}},_vm._l((_vm.reactiveArray),function(chip,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterChips(chip)),expression:\"filterChips(chip)\"}],key:index,staticClass:\"chip\",class:{ 'light': !_vm.isDeletable(chip) }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showChipInput(index)),expression:\"!showChipInput(index)\"}],staticClass:\"chip-content\"},[_c('span',{staticClass:\"chip-draggable\"},[_vm._v(\"\\n            \"+_vm._s(chip[_vm.nameProp])+\"\\n          \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeletable(chip)),expression:\"isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-rename\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)},on:{\"click\":function($event){_vm.renameChip(index, chip[_vm.nameProp])}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeletable(chip)),expression:\"isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-delete\",domProps:{\"innerHTML\":_vm._s(_vm.deleteSvg)},on:{\"click\":function($event){_vm.deleteChip(index)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isDeletable(chip)),expression:\"!isDeletable(chip)\"}],staticClass:\"button-icon chip-action-button action-restore\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)},on:{\"click\":function($event){_vm.restoreChip(index)}}})]),(_vm.showChipInput(index))?_c('div',{staticClass:\"chip-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chipValues[index]),expression:\"chipValues[index]\"}],staticClass:\"chip-input\",attrs:{\"placeholder\":chip[_vm.nameProp]},domProps:{\"value\":(_vm.chipValues[index])},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.saveChipValue(index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.chipValues, index, $event.target.value)}}}),_c('button',{staticClass:\"button-green chip-add-button\",attrs:{\"disabled\":!_vm.chipValues[index]},on:{\"click\":function($event){_vm.saveChipValue(index)}}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.saveSvg)}}),_vm._v(\" Save\\n          \")]),_c('button',{staticClass:\"button-red chip-add-button\",on:{\"click\":function($event){_vm.cancelRename(index)}}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.cancelSvg)}}),_vm._v(\" Cancel\\n          \")])]):_vm._e()])}))],1),_c('div',{staticClass:\"chip\"},[_c('div',{staticClass:\"chip-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newChip),expression:\"newChip\"}],staticClass:\"chip-input\",attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.newChip)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addNewChip($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newChip=$event.target.value}}}),_c('button',{staticClass:\"button-green chip-add-button\",attrs:{\"disabled\":!_vm.newChip},on:{\"click\":_vm.addNewChip}},[_c('span',{staticClass:\"u-center-all chip-add-svg\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)}}),_vm._v(\" Add\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chip-list-wrap\">\r\n    <div class=\"chip-list\">\r\n      <draggable \r\n        v-model=\"reactiveArray\" \r\n        :options=\"draggableOptions\">\r\n        <div \r\n          v-for=\"(chip, index) in reactiveArray\" \r\n          class=\"chip\" \r\n          :class=\"{ 'light': !isDeletable(chip) }\" \r\n          v-show=\"filterChips(chip)\"\r\n          :key=\"index\">\r\n          <div \r\n            class=\"chip-content\" \r\n            v-show=\"!showChipInput(index)\">\r\n            <span class=\"chip-draggable\">\r\n              {{ chip[nameProp] }}\r\n            </span>\r\n            <button \r\n              v-show=\"isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-rename\" \r\n              @click=\"renameChip(index, chip[nameProp])\" \r\n              v-html=\"editSvg\"/>\r\n            <button \r\n              v-show=\"isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-delete\" \r\n              @click=\"deleteChip(index)\" \r\n              v-html=\"deleteSvg\"/>\r\n            <button \r\n              v-show=\"!isDeletable(chip)\" \r\n              class=\"button-icon chip-action-button action-restore\" \r\n              @click=\"restoreChip(index)\" \r\n              v-html=\"addSvg\"/>\r\n          </div>\r\n          <div \r\n            class=\"chip-content\" \r\n            v-if=\"showChipInput(index)\">\r\n            <input \r\n              class=\"chip-input\" \r\n              v-model=\"chipValues[index]\" \r\n              @keyup.enter=\"saveChipValue(index)\" \r\n              :placeholder=\"chip[nameProp]\">\r\n            <button \r\n              class=\"button-green chip-add-button\" \r\n              @click=\"saveChipValue(index)\" \r\n              :disabled=\"!chipValues[index]\">\r\n              <span \r\n                class=\"u-center-all chip-add-svg\" \r\n                v-html=\"saveSvg\"/> Save\r\n            </button>\r\n            <button \r\n              class=\"button-red chip-add-button\" \r\n              @click=\"cancelRename(index)\">\r\n              <span \r\n                class=\"u-center-all chip-add-svg\" \r\n                v-html=\"cancelSvg\"/> Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </draggable>\r\n    </div>\r\n    <div class=\"chip\">\r\n      <div class=\"chip-content\">\r\n        <input \r\n          class=\"chip-input\" \r\n          v-model=\"newChip\" \r\n          @keyup.enter=\"addNewChip\" \r\n          :placeholder=\"placeholder\">\r\n        <button \r\n          class=\"button-green chip-add-button\" \r\n          @click=\"addNewChip\" \r\n          :disabled=\"!newChip\">\r\n          <span \r\n            class=\"u-center-all chip-add-svg\" \r\n            v-html=\"addSvg\"/> Add\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  components: {\r\n    draggable,\r\n  },\r\n  computed: {\r\n    placeholder() {\r\n      return `New ${this.name}...`\r\n    },\r\n    reactiveArray: {\r\n      get() {\r\n        return this.dataArray\r\n      },\r\n      set(value) {\r\n        this.$emit('rearrange', value)\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      addSvg: Octicons.plus.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      cancelSvg: Octicons['circle-slash'].toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      chipValues: [],\r\n      deleteSvg: Octicons.x.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      draggableOptions: {\r\n        animation: 100,\r\n        draggable: '.chip',\r\n        group: this.name,\r\n        handle: '.chip-draggable',\r\n      },\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      newChip: '',\r\n      saveSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addNewChip() {\r\n      const isUnique = this.assertUnique(this.dataArray, this.nameProp, this.newChip)\r\n\r\n      if (!isUnique) {\r\n        return\r\n      }\r\n\r\n      this.$emit('add', this.newChip)\r\n      this.newChip = ''\r\n    },\r\n    assertUnique(arr, propName, value) {\r\n      const existing = arr.find(el => el[propName] === value)\r\n\r\n      if (existing) {\r\n        swal({\r\n          icon: 'error',\r\n          text: `Sorry, ${this.name.toLowerCase()} ${propName}s must be unique. \"${value}\" is already in use.\r\n                 Please choose a different ${propName}.`,\r\n        })\r\n        return false\r\n      }\r\n\r\n      return true\r\n    },\r\n    cancelRename(index) {\r\n      this.$set(this.chipValues, index, null)\r\n    },\r\n    deleteChip(index) {\r\n      this.$emit('delete', { index })\r\n    },\r\n    renameChip(index, name) {\r\n      this.$set(this.chipValues, index, name)\r\n    },\r\n    restoreChip(index) {\r\n      this.$emit('restore', { index })\r\n    },\r\n    saveChipValue(index) {\r\n      const otherChips = this.dataArray.slice()\r\n      otherChips.splice(index, 1)\r\n      const isUnique = this.assertUnique(otherChips, this.nameProp, this.chipValues[index])\r\n\r\n      if (!isUnique) {\r\n        return\r\n      }\r\n\r\n      this.$emit('update', { index, value: this.chipValues[index] })\r\n      this.$set(this.chipValues, index, null)\r\n    },\r\n    showChipInput(index) {\r\n      return typeof this.chipValues[index] === 'string'\r\n    },\r\n  },\r\n  props: {\r\n    dataArray: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n    filterChips: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    isDeletable: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    name: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    nameProp: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chip-list-wrap {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.chip-list {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.chip {\r\n  background-color: #CCC;\r\n  border-radius: 4px;\r\n  display: inline-block;\r\n  margin: 2px 3px;\r\n  padding: 4px 6px;\r\n}\r\n\r\n.chip.light {\r\n  background-color: #DEDEDE;\r\n}\r\n\r\n.chip-content {\r\n  display: flex;\r\n}\r\n\r\n.chip-draggable {\r\n  cursor: grab;\r\n}\r\n\r\n.chip.sortable-ghost {\r\n  background-color: #333;\r\n  color: #FFF;\r\n  fill: #FFF;\r\n}\r\n\r\n.chip-input {\r\n  background-color: rgba(255,255,255,0.8);\r\n  border: none;\r\n  height: 20px;\r\n  margin-right: 6px;\r\n}\r\n\r\n.chip-add-button {\r\n  display: flex;\r\n  fill: #FFF;\r\n  padding: 2px 8px;\r\n}\r\n\r\n.chip-add-button:not(:first-of-type) {\r\n  margin-left: 6px;\r\n}\r\n\r\n.chip-add-svg {\r\n  margin-right: 6px;\r\n}\r\n\r\n.chip-action-button {\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chipsList.vue?vue&type=template&id=454a4b13&scoped=true&\"\nimport script from \"./chipsList.vue?vue&type=script&lang=js&\"\nexport * from \"./chipsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"454a4b13\",\n  null\n  \n)\n\ncomponent.options.__file = \"chipsList.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabs\"},[_vm._l((_vm.dataArray),function(item,index){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterTabs(item)),expression:\"filterTabs(item)\"}],key:item.guid,staticClass:\"button-tab\",class:{ 'active': _vm.isActive(index) },on:{\"click\":function($event){_vm.selectItem(index)},\"mouseover\":function($event){_vm.hoverItem(index)},\"mouseout\":function($event){_vm.unhoverItem()}}},[_vm._v(\"\\n    \"+_vm._s(item.title)+\"\\n  \")])}),(_vm.canAdd)?_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showAddItem),expression:\"!showAddItem\"}],staticClass:\"button-tab add-button\",domProps:{\"innerHTML\":_vm._s(_vm.addSvg)},on:{\"click\":_vm.showNewItem}}):_vm._e(),(_vm.canAdd)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAddItem),expression:\"showAddItem\"}],staticClass:\"button-tab add-tab\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newItem),expression:\"newItem\"}],staticClass:\"tab-input\",attrs:{\"placeholder\":(\"New \" + _vm.itemName + \"...\")},domProps:{\"value\":(_vm.newItem)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addItem($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newItem=$event.target.value}}}),_c('button',{staticClass:\"button-green tab-internal-button\",on:{\"click\":_vm.addItem}},[_c('span',{staticClass:\"u-center-all icon\",domProps:{\"innerHTML\":_vm._s(_vm.saveSvg)}}),_vm._v(\" Save\\n    \")]),_c('button',{staticClass:\"button-red tab-internal-button\",on:{\"click\":_vm.cancelAddItem}},[_c('span',{staticClass:\"u-center-all icon\",domProps:{\"innerHTML\":_vm._s(_vm.cancelSvg)}}),_vm._v(\" Cancel\\n    \")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tabs\">\r\n    <button \r\n      v-for=\"(item, index) in dataArray\" \r\n      :key=\"item.guid\" \r\n      v-show=\"filterTabs(item)\"\r\n      class=\"button-tab\" \r\n      :class=\"{ 'active': isActive(index) }\"\r\n      @click=\"selectItem(index)\"\r\n      @mouseover=\"hoverItem(index)\"\r\n      @mouseout=\"unhoverItem()\">\r\n      {{ item.title }}\r\n    </button>\r\n    <button \r\n      v-if=\"canAdd\" \r\n      @click=\"showNewItem\" \r\n      class=\"button-tab add-button\" \r\n      v-show=\"!showAddItem\" \r\n      v-html=\"addSvg\"/>\r\n    <div \r\n      class=\"button-tab add-tab\" \r\n      v-show=\"showAddItem\" \r\n      v-if=\"canAdd\">\r\n      <input \r\n        class=\"tab-input\" \r\n        v-model=\"newItem\" \r\n        :placeholder=\"`New ${itemName}...`\" \r\n        @keyup.enter=\"addItem\">\r\n      <button \r\n        class=\"button-green tab-internal-button\" \r\n        @click=\"addItem\">\r\n        <span \r\n          class=\"u-center-all icon\" \r\n          v-html=\"saveSvg\"/> Save\r\n      </button>\r\n      <button \r\n        class=\"button-red tab-internal-button\" \r\n        @click=\"cancelAddItem\">\r\n        <span \r\n          class=\"u-center-all icon\" \r\n          v-html=\"cancelSvg\"/> Cancel\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './cache'\r\nimport Octicons from 'octicons'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {},\r\n  data() {\r\n    return {\r\n      addSvg: Octicons.plus.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      cancelSvg: Octicons['circle-slash'].toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      newItem: '',\r\n      saveSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      showAddItem: false,\r\n      tabCache: new Cache(`CURRENT_${this.itemName}_TAB`),\r\n    }\r\n  },\r\n  methods: {\r\n    addItem() {\r\n      this.$emit('add', this.newItem)\r\n      this.newItem = ''\r\n      this.showAddItem = false\r\n    },\r\n    hoverItem(index) {\r\n      this.$emit('hover', index)\r\n    },\r\n    isActive(index) {\r\n      return index === this.activeIndex\r\n    },\r\n    selectItem(index) {\r\n      this.$emit('update:activeIndex', index)\r\n    },\r\n    showNewItem() {\r\n      this.showAddItem = true\r\n    },\r\n    cancelAddItem() {\r\n      this.showAddItem = false\r\n      this.newItem = ''\r\n    },\r\n    unhoverItem() {\r\n      this.$emit('unhover')\r\n    },\r\n  },\r\n  mounted() {\r\n    const cachedIndex = this.tabCache.cacheGet()\r\n    if (cachedIndex && cachedIndex < this.dataArray.length) {\r\n      this.selectItem(cachedIndex)\r\n    } else {\r\n      this.selectItem(0)\r\n    }\r\n  },\r\n  props: {\r\n    activeIndex: {\r\n      required: true,\r\n      type: Number,\r\n    },\r\n    dataArray: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n    filterTabs: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    itemName: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    canAdd: {\r\n      required: false,\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n  },\r\n  watch: {\r\n    activeIndex(index) {\r\n      this.tabCache.cacheSet(index)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tabs {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  max-height: 60px;\r\n  min-height: 28px;\r\n  overflow: auto;\r\n}\r\n\r\n.tab-input {\r\n  background-color: rgba(255,255,255,0.8);\r\n  border: none;\r\n  height: 20px;\r\n  margin-right: 6px;\r\n}\r\n\r\n.add-tab {\r\n  background-color: #CCC;\r\n  padding: 6px 6px;\r\n}\r\n\r\n.tab-internal-button {\r\n  display: flex;\r\n  fill: #FFF;\r\n  padding: 2px 8px;\r\n}\r\n\r\n.tab-internal-button:not(:first-of-type) {\r\n  margin-left: 6px;\r\n}\r\n\r\n.icon {\r\n  display: inline-block;\r\n  margin-right: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabsList.vue?vue&type=template&id=e5dddd7a&scoped=true&\"\nimport script from \"./tabsList.vue?vue&type=script&lang=js&\"\nexport * from \"./tabsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5dddd7a\",\n  null\n  \n)\n\ncomponent.options.__file = \"tabsList.vue\"\nexport default component.exports","import swal from 'sweetalert'\r\n\r\nexport const ValidateTitle = (itemName, title) => {\r\n  const minlength = 1\r\n  const maxlength = 60\r\n\r\n  if (title.length < minlength || title.length > maxlength) {\r\n    swal({\r\n      icon: 'error',\r\n      text: `Sorry, ${itemName} titles must be between ${minlength} and ${maxlength} letters.`,\r\n    })\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n","<template>\r\n  <div \r\n    class=\"plans-wrap\" \r\n    v-show=\"viewingPlans.length > 0\">\r\n    <!-- Plan Tabs -->\r\n    <tabs-list \r\n      :active-index=\"activePlanIndex\" \r\n      :data-array=\"allPlans\" \r\n      :filter-tabs=\"filterPlans\"\r\n      item-name=\"Plan\"\r\n      @add=\"addPlan\"\r\n      @update:activeIndex=\"selectPlan\"/>\r\n    <div \r\n      class=\"plan\" \r\n      v-if=\"activePlan\">\r\n      <div class=\"plan-header\">\r\n        <h4 class=\"plan-title\">\r\n          {{ activePlan.title }}\r\n        </h4>\r\n        <div class=\"plan-actions\">\r\n          <button \r\n            class=\"plan-action\" \r\n            v-show=\"!activePlan.archived\" \r\n            @click=\"archivePlan({ index: activePlanIndex })\">Archive</button>\r\n          <button \r\n            class=\"plan-action\" \r\n            v-show=\"activePlan.archived\" \r\n            @click=\"restorePlan({ index: activePlanIndex })\">Restore</button>\r\n          <button \r\n            class=\"plan-action button-red\" \r\n            v-show=\"activePlan.archived\" \r\n            @click=\"deletePlan({ index: activePlanIndex })\">Delete Forever</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"plan-body\">\r\n        <!-- Section Chips -->\r\n        <div class=\"chips-wrap section-chips\">\r\n          <div class=\"section-title\">\r\n            <h3>Sections</h3>\r\n            <button \r\n              class=\"help-icon\" \r\n              v-html=\"helpIconSvg\" \r\n              @click=\"helpClick(helpSectionChipsModal, 'Section List')\"/>\r\n          </div>\r\n          <chips-list \r\n            name=\"Section\" \r\n            name-prop=\"title\"\r\n            :data-array=\"activePlanSections\"\r\n            :filter-chips=\"filterSections\"\r\n            :is-deletable=\"isDeletable\"\r\n            @add=\"addSection\"\r\n            @delete=\"archiveSection\"\r\n            @rearrange=\"rearrangeSection\"\r\n            @restore=\"restoreSection\"\r\n            @update=\"renameSection\"/>\r\n        </div>\r\n        <div class=\"sections\">\r\n          <div \r\n            class=\"section\" \r\n            v-for=\"(section, index) in activePlan.sections\" \r\n            :key=\"section.guid\" \r\n            v-show=\"filterSections(section)\">\r\n            <div class=\"section-header\">\r\n              <h5 class=\"section-title\">\r\n                {{ section.title }}\r\n              </h5>\r\n              <div class=\"section-actions\">\r\n                <button \r\n                  class=\"section-action\" \r\n                  v-show=\"!section.archived\" \r\n                  @click=\"archiveSection({ index })\">Archive</button>\r\n                <button \r\n                  class=\"section-action\" \r\n                  v-show=\"section.archived\" \r\n                  @click=\"restoreSection({ index })\">Restore</button>\r\n                <button \r\n                  class=\"section-action button-red\" \r\n                  v-show=\"section.archived\" \r\n                  @click=\"deleteSection({ index })\">Delete Forever</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"section-content\">\r\n              <div \r\n                class=\"content-actions\" \r\n                v-if=\"!section.archived\">\r\n                <button \r\n                  class=\"button-link\" \r\n                  v-if=\"!isEditing(index)\" \r\n                  @click=\"editSection(index)\">\r\n                  <span \r\n                    class=\"button-link-icon\" \r\n                    v-html=\"editSvg\"/>Edit\r\n                </button>\r\n                <button \r\n                  class=\"button-link\" \r\n                  v-if=\"isEditing(index)\" \r\n                  @click=\"endEditSection()\">\r\n                  <span \r\n                    class=\"button-link-icon\" \r\n                    v-html=\"doneSvg\"/>Done Editing\r\n                </button>\r\n              </div>\r\n              <div \r\n                class=\"content-static\" \r\n                :class=\"{ 'space-above': section.archived }\" \r\n                v-if=\"!isEditing(index)\">\r\n                <div v-html=\"getHtml(section)\"/>\r\n                <span \r\n                  class=\"content-placeholder\" \r\n                  v-if=\"!section.archived && !getTextContent(section.content)\">\r\n                  No content yet. Click \"Edit\" to add some.\r\n                </span>\r\n              </div>\r\n              <div \r\n                class=\"content-editable\" \r\n                v-show=\"isEditing(index)\">\r\n                <quill-editor \r\n                  :content=\"section.content\" \r\n                  :content-id=\"activePlan.guid\" \r\n                  ref=\"quillEditor\" \r\n                  @update:content=\"updateContent(section, $event)\"\r\n                  @shortcut:done=\"endEditSection()\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Sections: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpSectionChipsModal\">\r\n        <p>This is the section list. It's the easiest place to add, archive, restore, rename, and rearrange sections.</p>\r\n        <p>To add a section, type its name into the \"New Section\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a section, click the \"X\" next to its name in the list.\r\n          Archiving a section removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived section, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a section, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a section, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_PLAN, ADD_SECTION, ARCHIVE_PLAN, ARCHIVE_SECTION,\r\n  DELETE_PLAN, DELETE_SECTION, REARRANGE_SECTIONS,\r\n  RESTORE_PLAN, RESTORE_SECTION, UPDATE_SECTION,\r\n  UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport { GetContentString, GetHtml } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    QuillEditor,\r\n    TabsList,\r\n  },\r\n  computed: {\r\n    activePlan() {\r\n      return this.allPlans[this.activePlanIndex]\r\n    },\r\n    activePlanSections() {\r\n      if (!this.activePlan) {\r\n        return []\r\n      }\r\n\r\n      return this.activePlan.sections || []\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    viewingPlans() {\r\n      return this.allPlans.filter(plan => this.filterPlans(plan))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activePlanIndex: -1,\r\n      doneSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      editingSectionIndex: -1,\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addPlan(title) {\r\n      if (!ValidateTitle('plan', title)) {\r\n        return\r\n      }\r\n\r\n      const plan = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [],\r\n      }\r\n\r\n      this.$store.commit(ADD_PLAN, { plan })\r\n      console.log(this.activePlanIndex)\r\n    },\r\n    addSection(title) {\r\n      if (!ValidateTitle('section', title)) {\r\n        return\r\n      }\r\n\r\n      const section = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        tags: [],\r\n        title,\r\n      }\r\n\r\n      this.$store.commit(ADD_SECTION, { plan: this.activePlan, section })\r\n    },\r\n    archivePlan({ index }) {\r\n      this.$store.commit(ARCHIVE_PLAN, { plan: this.allPlans[index] })\r\n\r\n      if (index === this.activePlanIndex && !this.filterPlans(this.allPlans[index])) {\r\n        this.selectPlan(-1)\r\n      }\r\n    },\r\n    archiveSection({ index }) {\r\n      this.$store.commit(ARCHIVE_SECTION, {\r\n        plan: this.activePlan,\r\n        section: this.activePlan.sections[index],\r\n      })\r\n    },\r\n    deletePlan({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this plan? Its sections and all of their content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_PLAN, { plan: this.allPlans[index] })\r\n\r\n        if (index === this.activePlanIndex) {\r\n          this.selectPlan(-1)\r\n        }\r\n      })\r\n    },\r\n    deleteSection({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this section? Its content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_SECTION, {\r\n          plan: this.activePlan,\r\n          section: this.activePlan.sections[index],\r\n        })\r\n      })\r\n    },\r\n    editSection(index) {\r\n      this.editingSectionIndex = index\r\n      this.$refs.quillEditor[index].focus()\r\n    },\r\n    endEditSection() {\r\n      this.editingSectionIndex = -1\r\n    },\r\n    getHtml(section) {\r\n      return GetHtml(section.content)\r\n    },\r\n    getTextContent(content) {\r\n      return GetContentString(content)\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    isEditing(index) {\r\n      return this.editingSectionIndex === index\r\n    },\r\n    rearrangeSection(sections) {\r\n      this.$store.commit(REARRANGE_SECTIONS, { plan: this.activePlan, sections })\r\n    },\r\n    renameSection({ index, value: newTitle }) {\r\n      if (!ValidateTitle('section', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_SECTION, {\r\n        plan: this.activePlan,\r\n        section: this.activePlan.sections[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    restorePlan({ index }) {\r\n      this.$store.commit(RESTORE_PLAN, { plan: this.allPlans[index] })\r\n    },\r\n    restoreSection({ index }) {\r\n      this.$store.commit(RESTORE_SECTION, { plan: this.activePlan, section: this.activePlan.sections[index] })\r\n    },\r\n    selectPlan(index) {\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      if (this.allPlans[index] && this.allPlans[index].archived) {\r\n        index = this.allPlans.indexOf(this.viewingPlans[0])\r\n      }\r\n      \r\n      this.activePlanIndex = index\r\n    },\r\n    updateContent(section, { content: newContent, contentId: planGuid }) {\r\n      const plan = this.allPlans.find(plan => plan.guid === planGuid)\r\n      this.$store.commit(UPDATE_SECTION_CONTENT, {\r\n        plan,\r\n        newContent,\r\n        section,\r\n      })\r\n    },\r\n    updateTags(section, newTags) {\r\n      this.$store.commit(UPDATE_SECTION_TAGS, {\r\n        plan: this.activePlan,\r\n        newTags,\r\n        section,\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpSectionChipsModal = this.$refs.helpSectionChipsModal\r\n  },\r\n  props: {\r\n    filterPlans: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    filterSections: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(13, 91, 166, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.plan {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.plan-header {\r\n  align-items: center;\r\n  background-color: rgba(13, 91, 166, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.plan-title {\r\n  flex: 1;\r\n}\r\n\r\n.plan-action {\r\n  background-color: transparent;\r\n  border-color: #FFF;\r\n  color: #FFF;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.plan-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.plan-body {\r\n  background-color: rgba(13, 91, 166, 0.05);\r\n  padding-top: 8px;\r\n}\r\n\r\n.section-chips {\r\n  margin-left: 8px;\r\n}\r\n\r\n.sections {\r\n  padding: 8px;\r\n}\r\n\r\n.section {\r\n  border: 1px solid rgba(13, 91, 166, 1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.section-header {\r\n  align-items: center;\r\n  background-color: rgba(13, 91, 166, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n}\r\n\r\n.section-actions {\r\n  height: 100%;\r\n}\r\n\r\n.section-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #fff;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.section-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.section-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 6px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 1px;\r\n}\r\n\r\n.content-actions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.content-static, .content-editable {\r\n  max-height: 275px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.content-static {\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 13px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.content-static.space-above {\r\n  margin-top: 30px;\r\n}\r\n\r\n.content-placeholder {\r\n  color: #444;\r\n  white-space: normal;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./plansList.vue?vue&type=template&id=7275fea1&scoped=true&\"\nimport script from \"./plansList.vue?vue&type=script&lang=js&\"\nexport * from \"./plansList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7275fea1\",\n  null\n  \n)\n\ncomponent.options.__file = \"plansList.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"mapWrap\",staticClass:\"map\",on:{\"click\":_vm.mapClick}},[_c('div',{ref:\"map\",staticClass:\"map-inner\",domProps:{\"innerHTML\":_vm._s(_vm.mapHtml)}})]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":_vm.helpClick}}),_c('text-magnifier',{attrs:{\"html\":_vm.mapHtml,\"magnify-el\":_vm.mapNode,\"mark\":_vm.mark,\"wrap-el\":_vm.mapWrapNode}}),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the mini-map. It's the 10,000 foot view of your document. As you write, you'll see it fill up.\")]),_c('p',[_vm._v(\"It has a couple of helpful features:\")]),_vm._m(0)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"If you hover your mouse on the mini-map, a magnifier will appear to help you scan through your document quickly.\")]),_c('li',[_vm._v(\"If you click a paragraph in the mini-map, you'll jump to that paragraph in the editor.\")]),_c('li',[_vm._v(\"If you highlight a word in the editor, every appearance of that word will be highlighted in the mini-map.\")]),_c('li',[_vm._v(\"If you click a highlighted word in the mini-map, you'll jump to that word in the editor and highlight it.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"magnifier-wrap\",class:{ 'show': _vm.show }},[_c('div',{ref:\"magnifier\",staticClass:\"magnifier\"},[_c('div',{ref:\"magnifierContent\",staticClass:\"magnifier-content map\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"magnifier-wrap\" \r\n    :class=\"{ 'show': show }\" \r\n    ref=\"wrap\">\r\n    <div \r\n      class=\"magnifier\" \r\n      ref=\"magnifier\">\r\n      <div \r\n        class=\"magnifier-content map\" \r\n        ref=\"magnifierContent\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      cachedHtml: '',\r\n      magnifyRadius: 50,\r\n      scale: 5,\r\n      show: false,\r\n      wrapElBoundingClientRect: null,\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.magnifyEl.removeEventListener('mousemove', this.mouseMove)\r\n    this.magnifyEl.removeEventListener('mouseleave', this.mouseLeave)\r\n  },\r\n  methods: {\r\n    getRelativeCoords(event, bounds) {\r\n      // https://stackoverflow.com/a/33347664/4347245\r\n      const x = event.clientX - bounds.left\r\n      const y = event.clientY - bounds.top\r\n      return { x, y }\r\n    },\r\n    mouseLeave() {\r\n      this.show = false\r\n    },\r\n    mouseMove(event) {\r\n      if (this.cachedHtml !== this.html) {\r\n        this.cachedHtml = this.html\r\n      }\r\n\r\n      let { x: left, y: top } = this.getRelativeCoords(event, this.magnifyEl.getBoundingClientRect())\r\n      left = this.transformCoord(left, 95)\r\n      top = this.transformCoord(top, 30)\r\n\r\n      const magnifierStyle = this.$refs.magnifier.style\r\n      magnifierStyle.left = `${left}px`\r\n      magnifierStyle.top = `${top}px`\r\n\r\n      this.show = true\r\n    },\r\n    refresh() {\r\n      const clone = this.magnifyEl.cloneNode(true)\r\n      const content = this.$refs.magnifierContent\r\n      content.innerHTML = ''\r\n      content.appendChild(clone)\r\n    },\r\n    transformCoord(value, adjust) {\r\n      return -(value * this.scale) + adjust\r\n    },\r\n  },\r\n  mounted() {\r\n    const instance = this\r\n\r\n    this.$nextTick(() => {\r\n      this.wrapElBoundingClientRect = this.wrapEl.getBoundingClientRect()\r\n\r\n      this.magnifyEl.addEventListener('mousemove', instance.mouseMove)\r\n      this.magnifyEl.addEventListener('mouseleave', instance.mouseLeave)\r\n    })\r\n  },\r\n  props: {\r\n    html: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    magnifyEl: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    mark: {\r\n      required: true,\r\n      type: String\r\n    },\r\n    wrapEl: {\r\n      required: true,\r\n      type: null\r\n    },\r\n  },\r\n  watch: {\r\n    cachedHtml() {\r\n      this.refresh()\r\n    },\r\n    mark() {\r\n      this.refresh()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.magnifier-wrap {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  height: 100px;\r\n  left: 170px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  top: 0;\r\n  transition: opacity 100ms;\r\n  width: 200px;\r\n}\r\n\r\n.magnifier-wrap.show {\r\n  opacity: 1;\r\n}\r\n\r\n.magnifier {\r\n  font-size: 2px;\r\n  position: absolute;\r\n  width: 145px;\r\n}\r\n\r\n.magnifier-content {\r\n  transform: scale(5);\r\n  transform-origin: top left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./textMagnifier.vue?vue&type=template&id=1417fd9c&scoped=true&\"\nimport script from \"./textMagnifier.vue?vue&type=script&lang=js&\"\nexport * from \"./textMagnifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1417fd9c\",\n  null\n  \n)\n\ncomponent.options.__file = \"textMagnifier.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"map\" \r\n      @click=\"mapClick\" \r\n      ref=\"mapWrap\">\r\n      <div \r\n        class=\"map-inner\" \r\n        v-html=\"mapHtml\" \r\n        ref=\"map\"/>\r\n    </div>\r\n    <button \r\n      class=\"help-icon\" \r\n      v-html=\"helpIconSvg\" \r\n      @click=\"helpClick\"/>\r\n    <text-magnifier \r\n      :html=\"mapHtml\" \r\n      :magnify-el=\"mapNode\" \r\n      :mark=\"mark\" \r\n      :wrap-el=\"mapWrapNode\"/>\r\n\r\n    <!-- [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpModal\">\r\n        <p>This is the mini-map. It's the 10,000 foot view of your document. As you write, you'll see it fill up.</p>\r\n        <p>It has a couple of helpful features:</p>\r\n        <ul>\r\n          <li>If you hover your mouse on the mini-map, a magnifier will appear to help you scan through your document quickly.</li>\r\n          <li>If you click a paragraph in the mini-map, you'll jump to that paragraph in the editor.</li>\r\n          <li>If you highlight a word in the editor, every appearance of that word will be highlighted in the mini-map.</li>\r\n          <li>If you click a highlighted word in the mini-map, you'll jump to that word in the editor and highlight it.</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './map-shared.css'\r\n\r\nimport debounce from 'lodash/debounce'\r\nimport Mark from 'mark.js'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\nimport TextMagnifier from './textMagnifier.vue'\r\n\r\nexport default {\r\n  components: {\r\n    TextMagnifier,\r\n  },\r\n  data() {\r\n    return {\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n      helpNode: null,\r\n      mapHtml: '',\r\n      mapNode: null,\r\n      mapWrapNode: null,\r\n      markInstance: null,\r\n      mouse: {\r\n        x: null,\r\n        y: null,\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    helpClick() {\r\n      swal({\r\n        content: this.helpNode,\r\n        title: 'Tip',\r\n      })\r\n    },\r\n    mapClick({ target }) {\r\n      if (target.tagName.toLowerCase() === 'mark') {\r\n        this.markClick({ target })\r\n        return\r\n      }\r\n\r\n      const parentClasses = [...target.parentNode.classList]\r\n\r\n      if (parentClasses.includes('wrap')) {\r\n        return\r\n      }\r\n\r\n      if (!parentClasses.includes('map-inner')) {\r\n        this.mapClick({ target: target.parentNode })\r\n        return\r\n      }\r\n\r\n      const index = [...target.parentNode.childNodes].indexOf(target)\r\n      this.$emit('select', {\r\n        paragraphIndex: index,\r\n        searchTermIndex: -1,\r\n      })\r\n    },\r\n    markClick({ target }) {\r\n      const map = this.$refs.map\r\n      const marks = [...map.querySelectorAll('mark')]\r\n      const searchTermIndex = marks.indexOf(target)\r\n\r\n      const paragraph = target.parentNode\r\n      const paragraphIndex = [...paragraph.parentNode.childNodes].indexOf(paragraph)\r\n\r\n      this.$emit('select', {\r\n        paragraphIndex,\r\n        searchTermIndex,\r\n      })\r\n    },\r\n    updateMap() {\r\n      if (!this.editorElement) {\r\n        return\r\n      }\r\n\r\n      const textElement = this.editorElement.$el.querySelector('.ql-editor')\r\n      this.mapHtml = textElement.innerHTML\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(this.updateMap)\r\n    this.helpNode = this.$refs.helpModal\r\n    this.markInstance = new Mark(this.$refs.map)\r\n    this.mapNode = this.$refs.map\r\n    this.mapWrapNode = this.$refs.mapWrap\r\n  },\r\n  props: {\r\n    dataStream: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    editorElement: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    mark: {\r\n      default: null,\r\n      type: String\r\n    },\r\n  },\r\n  watch: {\r\n    dataStream: debounce(function () {\r\n      this.updateMap()\r\n    }, 250),\r\n    mark(text) {\r\n      this.markInstance.unmark()\r\n\r\n      if (text.length < 3 || getNumberOfWords(text) > 3) {\r\n        return\r\n      }\r\n\r\n      this.markInstance.mark(text, {\r\n        separateWordSearch: false,\r\n      })\r\n    },\r\n  },\r\n}\r\n\r\nfunction getNumberOfWords(str) {\r\n  return str.trim().split(/\\s/).length\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  height: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.wrap:hover .help-icon {\r\n  opacity: 1;\r\n}\r\n\r\n.map-inner {\r\n  height: 100%;\r\n}\r\n\r\n.help-icon {\r\n  opacity: 0;\r\n  position: absolute;\r\n  right: 6px;\r\n  top: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./textMap.vue?vue&type=template&id=2cff7cef&scoped=true&\"\nimport script from \"./textMap.vue?vue&type=script&lang=js&\"\nexport * from \"./textMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cff7cef\",\n  null\n  \n)\n\ncomponent.options.__file = \"textMap.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},_vm._l((_vm.chapterTopics),function(topic,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTopic(topic)),expression:\"showTopic(topic)\"}],key:topic.guid,staticClass:\"topic\"},[_c('div',{staticClass:\"topic-head\"},[_c('h5',{staticClass:\"topic-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.getMasterTopic(topic).title)+\"\\n      \")]),_c('div',{staticClass:\"topic-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getMasterTopic(topic).archived),expression:\"!getMasterTopic(topic).archived\"}],staticClass:\"topic-action\",on:{\"click\":function($event){_vm.archiveTopic({ index: index })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getMasterTopic(topic).archived),expression:\"getMasterTopic(topic).archived\"}],staticClass:\"topic-action\",on:{\"click\":function($event){_vm.restoreTopic({ index: index })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getMasterTopic(topic).archived),expression:\"getMasterTopic(topic).archived\"}],staticClass:\"topic-action button-red\",on:{\"click\":function($event){_vm.deleteTopic({ index: index })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"topic-content\"},[(_vm.showActions(topic))?_c('div',{staticClass:\"content-actions\"},[(!_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.editTopic(index)}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.editSvg)}}),_vm._v(\"Edit\\n        \")]):_vm._e(),(_vm.isEditing(index))?_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.endEditTopic()}}},[_c('span',{staticClass:\"button-link-icon\",domProps:{\"innerHTML\":_vm._s(_vm.doneSvg)}}),_vm._v(\"Done Editing\\n        \")]):_vm._e()]):_vm._e(),(!_vm.isEditing(index))?_c('div',{staticClass:\"content-static\",class:{ 'space-above': !_vm.showActions(topic) }},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(topic))}}),(_vm.showActions(topic) && !_vm.getTextContent(topic.content))?_c('span',{staticClass:\"content-placeholder\"},[_vm._v(\"\\n          No content yet. Click \\\"Edit\\\" to add some.\\n        \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditing(index)),expression:\"isEditing(index)\"}],staticClass:\"content-editable\"},[_c('quill-editor',{ref:\"quillEditor\",refInFor:true,attrs:{\"content\":topic.content,\"content-id\":_vm.chapter.guid},on:{\"update:content\":function($event){_vm.updateContent(topic, $event)},\"shortcut:done\":function($event){_vm.endEditTopic()}}})],1)])])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"topic\" \r\n      v-for=\"(topic, index) in chapterTopics\" \r\n      v-show=\"showTopic(topic)\" \r\n      :key=\"topic.guid\">\r\n      <div class=\"topic-head\">\r\n        <h5 class=\"topic-title\">\r\n          {{ getMasterTopic(topic).title }}\r\n        </h5>\r\n        <div class=\"topic-actions\">\r\n          <button \r\n            class=\"topic-action\" \r\n            v-show=\"!getMasterTopic(topic).archived\" \r\n            @click=\"archiveTopic({ index })\">Archive</button>\r\n          <button \r\n            class=\"topic-action\" \r\n            v-show=\"getMasterTopic(topic).archived\" \r\n            @click=\"restoreTopic({ index })\">Restore</button>\r\n          <button \r\n            class=\"topic-action button-red\" \r\n            v-show=\"getMasterTopic(topic).archived\" \r\n            @click=\"deleteTopic({ index })\">Delete Forever</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"topic-content\">\r\n        <div \r\n          class=\"content-actions\" \r\n          v-if=\"showActions(topic)\">\r\n          <button \r\n            class=\"button-link\" \r\n            v-if=\"!isEditing(index)\" \r\n            @click=\"editTopic(index)\">\r\n            <span \r\n              class=\"button-link-icon\" \r\n              v-html=\"editSvg\"/>Edit\r\n          </button>\r\n          <button \r\n            class=\"button-link\" \r\n            v-if=\"isEditing(index)\" \r\n            @click=\"endEditTopic()\">\r\n            <span \r\n              class=\"button-link-icon\" \r\n              v-html=\"doneSvg\"/>Done Editing\r\n          </button>\r\n        </div>\r\n        <div \r\n          class=\"content-static\" \r\n          :class=\"{ 'space-above': !showActions(topic) }\" \r\n          v-if=\"!isEditing(index)\">\r\n          <div v-html=\"getHtml(topic)\"/>\r\n          <span \r\n            class=\"content-placeholder\" \r\n            v-if=\"showActions(topic) && !getTextContent(topic.content)\">\r\n            No content yet. Click \"Edit\" to add some.\r\n          </span>\r\n        </div>\r\n        <div \r\n          class=\"content-editable\" \r\n          v-show=\"isEditing(index)\">\r\n          <quill-editor \r\n            :content=\"topic.content\" \r\n            :content-id=\"chapter.guid\" \r\n            ref=\"quillEditor\" \r\n            @update:content=\"updateContent(topic, $event)\"\r\n            @shortcut:done=\"endEditTopic()\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ARCHIVE_TOPIC, ADD_TOPIC_TO_CHAPTER, DELETE_TOPIC, RESTORE_TOPIC,\r\n  UPDATE_TOPIC_CONTENT,\r\n} from '../shared/chapters.store'\r\nimport { GetContentString, GetHtml } from './deltaParser'\r\nimport Octicons from 'octicons'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  components: {\r\n    QuillEditor,\r\n  },\r\n  computed: {\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters\r\n    },\r\n    chapterTopics() {\r\n      if (!this.chapter) {\r\n        return []\r\n      }\r\n\r\n      return this.topics.map(topic => this.getTopic(this.chapter, topic)).filter(topic => !!topic)\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      doneSvg: Octicons.check.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      editingTopicIndex: -1,\r\n      editSvg: Octicons.pencil.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    archiveTopic({ index }) {\r\n      this.$store.commit(ARCHIVE_TOPIC, { topic: this.topics[index] })\r\n    },\r\n    deleteTopic({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Are you sure you want to delete this topic? It will be deleted from every chapter.\r\n               This cannot be undone.`,\r\n        title: 'Delete from every chapter?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_TOPIC, { topic: this.topics[index] })\r\n      })\r\n    },\r\n    editTopic(index) {\r\n      this.editingTopicIndex = index\r\n      this.$refs.quillEditor[index].focus()\r\n    },\r\n    endEditTopic() {\r\n      this.editingTopicIndex = -1\r\n    },\r\n    getHtml(topic) {\r\n      return GetHtml(topic.content)\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.topics.find(topic => topic.guid === chapterTopic.guid) || {}\r\n    },\r\n    getTopic(chapter, topic) {\r\n      if (!chapter.topics) {\r\n        chapter.topics = {}\r\n      }\r\n\r\n      if (!chapter.topics[topic.guid]) {\r\n        this.$store.commit(ADD_TOPIC_TO_CHAPTER, { chapter, topic })\r\n      }\r\n\r\n      return chapter.topics[topic.guid]\r\n    },\r\n    getTextContent(content) {\r\n      return GetContentString(content)\r\n    },\r\n    isEditing(index) {\r\n      return this.editingTopicIndex === index\r\n    },\r\n    restoreTopic({ index }) {\r\n      this.$store.commit(RESTORE_TOPIC, { topic: this.topics[index] })\r\n    },\r\n    showActions(chapterTopic) {\r\n      return !this.getMasterTopic(chapterTopic).archived && !this.chapter.archived\r\n    },\r\n    showTopic(chapterTopic) {\r\n      if (!chapterTopic) {\r\n        return false\r\n      }\r\n\r\n      return this.filterTopics(chapterTopic)\r\n    },\r\n    updateContent(topic, { content: newContent, contentId: guid }) {\r\n      const chapter = this.allChapters.find(chapter => chapter.guid === guid)\r\n      const chapterTopic = chapter.topics[topic.guid]\r\n      this.$store.commit(UPDATE_TOPIC_CONTENT, {\r\n        chapter,\r\n        newContent,\r\n        topic: chapterTopic,\r\n      })\r\n    },\r\n  },\r\n  props: {\r\n    chapter: {\r\n      required: true,\r\n      type: Object,\r\n    },\r\n    filterTopics: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n    topics: {\r\n      required: true,\r\n      type: Array,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  width: 100%;\r\n}\r\n\r\n.topic {\r\n  border: 1px solid rgba(5, 133, 157, 1);\r\n  border-top: none;\r\n  color: #000;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.topic-head {\r\n  align-items: center;\r\n  background-color: rgba(5, 133, 157, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.topic-title {\r\n  flex: 1;\r\n  padding: 2px 0;\r\n}\r\n\r\n.topic-actions {\r\n  height: 100%;\r\n}\r\n\r\n.topic-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #FFF;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.topic-action:hover {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n\r\n.topic-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 6px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 1px;\r\n}\r\n\r\n.content-actions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.content-static, .content-editable {\r\n  max-height: 275px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.content-static {\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 13px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.content-static.space-above {\r\n  margin-top: 30px;\r\n}\r\n\r\n.content-placeholder {\r\n  color: #444;\r\n  white-space: normal;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./topicList.vue?vue&type=template&id=109018ef&scoped=true&\"\nimport script from \"./topicList.vue?vue&type=script&lang=js&\"\nexport * from \"./topicList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"109018ef\",\n  null\n  \n)\n\ncomponent.options.__file = \"topicList.vue\"\nexport default component.exports","export const UPDATE_SELECTION = 'UPDATE_SELECTION'\r\n\r\nconst store = {\r\n  state: {\r\n    selection: {\r\n      range: null,\r\n      text: '',\r\n    },\r\n  },\r\n  mutations: {\r\n    [UPDATE_SELECTION](state, selection) {\r\n      state.selection = selection\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showActions),expression:\"showActions\"}],staticClass:\"actions\"},[_c('div',{staticClass:\"define-icon\",domProps:{\"innerHTML\":_vm._s(_vm.defineIcon)}}),_c('div',{staticClass:\"define-buttons\"},[_c('a',{staticClass:\"define-link\",attrs:{\"href\":_vm.gDefineUrl,\"target\":\"_blank\"}},[_c('button',{staticClass:\"define-button\"},[_vm._v(\"Define\")])]),_c('a',{staticClass:\"define-link\",attrs:{\"href\":_vm.gSynonymUrl,\"target\":\"_blank\"}},[_c('button',{staticClass:\"define-button\"},[_vm._v(\"Synonyms\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div \r\n      class=\"actions\" \r\n      v-show=\"showActions\">\r\n      <div \r\n        class=\"define-icon\" \r\n        v-html=\"defineIcon\"/>\r\n      <div class=\"define-buttons\">\r\n        <a \r\n          class=\"define-link\" \r\n          :href=\"gDefineUrl\" \r\n          target=\"_blank\">\r\n          <button class=\"define-button\">Define</button>\r\n        </a>\r\n        <a \r\n          class=\"define-link\" \r\n          :href=\"gSynonymUrl\" \r\n          target=\"_blank\">\r\n          <button class=\"define-button\">Synonyms</button>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Octicons from 'octicons'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {\r\n    gDefineUrl() {\r\n      const urlWord = this.word.trim().replace(/\\s+/g, '+')\r\n      return `https://www.google.com/#q=define+${urlWord}`\r\n    },\r\n    gSynonymUrl() {\r\n      const urlWord = encodeURI(this.word.trim())\r\n      return `http://www.thesaurus.com/browse/${urlWord}`\r\n    },\r\n    showActions() {\r\n      return !!this.word.trim()\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      defineIcon: Octicons.book.toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      linkIcon: Octicons['link-external'].toSVG({\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n      xIcon: Octicons.x.toSVG({\r\n        height: 20,\r\n        width: 20,\r\n      }),\r\n    }\r\n  },\r\n  methods: {},\r\n  props: {\r\n    word: {\r\n      required: true,\r\n      type: String\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.actions {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  bottom: 0;\r\n  height: 50px;\r\n  pointer-events: auto;\r\n  position: absolute;\r\n  right: 16px;\r\n  width: 50px;\r\n}\r\n\r\n.define-icon {\r\n  align-items: center;\r\n  display: flex;\r\n  fill: #444;\r\n  height: 100%;\r\n  justify-content: center;\r\n  opacity: 1;\r\n  transition: opacity 100ms;\r\n  z-index: 1;\r\n}\r\n\r\n.actions:hover .define-icon {\r\n  opacity: 0;\r\n}\r\n\r\n.define-buttons {\r\n  align-items: flex-end;\r\n  background-color: #FFF;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  opacity: 0;\r\n  right: 0;\r\n  transition: opacity 100ms;\r\n  z-index: 10;\r\n}\r\n\r\n.actions:hover .define-buttons {\r\n  pointer-events: auto;\r\n  opacity: 1;\r\n}\r\n\r\n.define-link {\r\n  width: 100%;\r\n}\r\n\r\n.define-button {\r\n  background-color: #CCC;\r\n  border: none;\r\n  border-radius: 0;\r\n  transition: background-color 100ms;\r\n  width: 100%;\r\n}\r\n\r\n.define-button:hover {\r\n  background-color: #AAA;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wordDefine.vue?vue&type=template&id=8eeb2360&scoped=true&\"\nimport script from \"./wordDefine.vue?vue&type=script&lang=js&\"\nexport * from \"./wordDefine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eeb2360\",\n  null\n  \n)\n\ncomponent.options.__file = \"wordDefine.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.workshops.length > 0),expression:\"workshops.length > 0\"}],staticClass:\"workshops-wrap\"},[_c('tabs-list',{attrs:{\"active-index\":_vm.activeWorkshopNameIndex,\"data-array\":_vm.workshopNameTabs,\"filter-tabs\":function () { return true; },\"item-name\":\"Workshop\",\"can-add\":false},on:{\"update:activeIndex\":_vm.selectWorkshopNameIndex}}),_c('div',{staticClass:\"workshop-list\"},[_c('div',{staticClass:\"workshop-list-header\"},[_c('div',{staticClass:\"workshop-list-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.currentWorkshopDisplayName)+\"\\n      \")])]),_c('div',{staticClass:\"workshop-list-body\"},[_c('div',{staticClass:\"workshop-select\"},[_c('div',{staticClass:\"workshop-select-label\"},[_vm._v(\"\\n          Select a workshop:\\n        \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedWorkshopGuid),expression:\"selectedWorkshopGuid\"}],staticClass:\"workshop-select-dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedWorkshopGuid=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableWorkshops),function(workshop){return (_vm.filterWorkshops(workshop))?_c('option',{key:workshop.guid,domProps:{\"value\":workshop.guid}},[_vm._v(\"\\n            \"+_vm._s(workshop.title)+\"\\n          \")]):_vm._e()}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeWorkshopsTitle),expression:\"activeWorkshopsTitle\"}],staticClass:\"workshops\"},[_c('div',{staticClass:\"workshop\"},[_c('div',{staticClass:\"workshop-header\"},[_c('div',{staticClass:\"workshop-title\"},[_vm._v(\"\\n              \"+_vm._s(_vm.activeWorkshopsTitle)+\" (\"+_vm._s(_vm.activeWorkshopsDate)+\")\\n            \")]),_c('div',{staticClass:\"workshop-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.firstActiveWorkshop.archived),expression:\"!firstActiveWorkshop.archived\"}],staticClass:\"workshop-action\",on:{\"click\":function($event){_vm.archiveActiveWorkshops()}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstActiveWorkshop.archived),expression:\"firstActiveWorkshop.archived\"}],staticClass:\"workshop-action\",on:{\"click\":function($event){_vm.restoreActiveWorkshops()}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstActiveWorkshop.archived),expression:\"firstActiveWorkshop.archived\"}],staticClass:\"workshop-action button-red\",on:{\"click\":function($event){_vm.deleteActiveWorkshops()}}},[_vm._v(\"Delete Forever\")])])]),_vm._l((_vm.activeWorkshops),function(workshop){return _c('div',{key:((workshop.guid) + \"|\" + (workshop.order)),staticClass:\"workshop-content\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getHtml(workshop))}})])})],2)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"workshops-wrap\" \r\n    v-show=\"workshops.length > 0\">\r\n    <tabs-list \r\n      :active-index=\"activeWorkshopNameIndex\" \r\n      :data-array=\"workshopNameTabs\" \r\n      :filter-tabs=\"() => true\"\r\n      item-name=\"Workshop\"\r\n      :can-add=\"false\"\r\n      @update:activeIndex=\"selectWorkshopNameIndex\"/>\r\n    <div class=\"workshop-list\">\r\n      <div class=\"workshop-list-header\">\r\n        <div class=\"workshop-list-title\">\r\n          {{ currentWorkshopDisplayName }}\r\n        </div>\r\n      </div>\r\n      <div class=\"workshop-list-body\">\r\n        <div class=\"workshop-select\">\r\n          <div class=\"workshop-select-label\">\r\n            Select a workshop:\r\n          </div>\r\n          <select \r\n            class=\"workshop-select-dropdown\" \r\n            v-model=\"selectedWorkshopGuid\">\r\n            <option \r\n              v-for=\"workshop in selectableWorkshops\" \r\n              v-if=\"filterWorkshops(workshop)\" \r\n              :key=\"workshop.guid\" \r\n              :value=\"workshop.guid\">\r\n              {{ workshop.title }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div \r\n          class=\"workshops\" \r\n          v-show=\"activeWorkshopsTitle\">\r\n          <div class=\"workshop\">\r\n            <div class=\"workshop-header\">\r\n              <div class=\"workshop-title\">\r\n                {{ activeWorkshopsTitle }} ({{ activeWorkshopsDate }})\r\n              </div>\r\n              <div class=\"workshop-actions\">\r\n                <button \r\n                  class=\"workshop-action\" \r\n                  v-show=\"!firstActiveWorkshop.archived\" \r\n                  @click=\"archiveActiveWorkshops()\">Archive</button>\r\n                <button \r\n                  class=\"workshop-action\" \r\n                  v-show=\"firstActiveWorkshop.archived\" \r\n                  @click=\"restoreActiveWorkshops()\">Restore</button>\r\n                <button \r\n                  class=\"workshop-action button-red\" \r\n                  v-show=\"firstActiveWorkshop.archived\" \r\n                  @click=\"deleteActiveWorkshops()\">Delete Forever</button>\r\n              </div>\r\n            </div>\r\n            <div \r\n              class=\"workshop-content\" \r\n              v-for=\"workshop in activeWorkshops\" \r\n              :key=\"`${workshop.guid}|${workshop.order}`\">\r\n              <div v-html=\"getHtml(workshop)\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ARCHIVE_WORKSHOP, DELETE_WORKSHOP, RESTORE_WORKSHOP } from '../shared/workshops.store'\r\nimport { GetHtml } from '../shared/deltaParser'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport uniq from 'lodash/uniq'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nexport default {\r\n  components: {\r\n    TabsList,\r\n  },\r\n  computed: {\r\n    currentWorkshopDisplayName() {\r\n      return writingWorkshops[this.currentWorkshopName].displayName\r\n    },\r\n    currentWorkshopName() {\r\n      if (this.activeWorkshopNameIndex === -1) {\r\n        return this.workshopNames[0]\r\n      }\r\n\r\n      return this.workshopNames[this.activeWorkshopNameIndex] || {}\r\n    },\r\n    activeWorkshops() {\r\n      return this.viewingWorkshops.filter(workshop => workshop.guid === this.selectedWorkshopGuid)\r\n    },\r\n    activeWorkshopsDate() {\r\n      return this.activeWorkshops && this.activeWorkshops.length && new Date(this.activeWorkshops[0].date).toLocaleDateString()\r\n    },\r\n    activeWorkshopsTitle() {\r\n      return this.firstActiveWorkshop.title\r\n    },\r\n    firstActiveWorkshop() {\r\n      return (this.activeWorkshops && this.activeWorkshops.length && this.activeWorkshops[0]) || {}\r\n    },\r\n    selectableWorkshops() {\r\n      return this.viewingWorkshops.filter(workshop => workshop.order === 0).slice(0).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())\r\n    },\r\n    viewingWorkshops() {\r\n      return this.workshops.filter(workshop => workshop.workshopName === this.currentWorkshopName)\r\n    },\r\n    workshopNames() {\r\n      return uniq(this.workshops.map(workshop => workshop.workshopName))\r\n    },\r\n    workshopNameTabs() {\r\n      return this.workshopNames.map(name => ({ title: writingWorkshops[name].displayName }))\r\n    },\r\n    workshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeWorkshopNameIndex: -1,\r\n      selectedWorkshopGuid: null,\r\n    }\r\n  },\r\n  methods: {\r\n    archiveActiveWorkshops() {\r\n      for (const workshop of this.activeWorkshops) {\r\n        this.$store.commit(ARCHIVE_WORKSHOP, { workshop })\r\n      }\r\n    },\r\n    deleteActiveWorkshops() {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this workshop? All of its content will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n        for (const workshop of this.activeWorkshops) {\r\n          this.$store.commit(DELETE_WORKSHOP, { workshop })\r\n        }\r\n\r\n        if (!(this.selectableWorkshops && this.selectableWorkshops.length)) {\r\n          this.selectWorkshopNameIndex(-1)\r\n          return\r\n        }\r\n\r\n        this.selectedWorkshopGuid = this.selectableWorkshops[0].guid\r\n      })\r\n    },\r\n    getHtml(workshop) {\r\n      return GetHtml(workshop.content)\r\n    },\r\n    restoreActiveWorkshops() {\r\n      for (const workshop of this.activeWorkshops) {\r\n        this.$store.commit(RESTORE_WORKSHOP, { workshop })\r\n      }\r\n    },\r\n    // The following two methods are available for use by parent components\r\n    selectWorkshopGuid(guid) {\r\n      this.selectedWorkshopGuid = guid\r\n    },\r\n    selectWorkshopName(name) {\r\n      this.activeWorkshopNameIndex = this.workshopNames.indexOf(name)\r\n    },\r\n    selectWorkshopNameIndex(index) {\r\n      if (index === -1) {\r\n        index = 0\r\n        this.selectDefaultWorkshop()\r\n      }\r\n\r\n      this.activeWorkshopNameIndex = index\r\n    },\r\n    selectDefaultWorkshop() {\r\n      if (!this.viewingWorkshops || !this.viewingWorkshops.length) {\r\n        return\r\n      }\r\n\r\n      this.selectedWorkshopGuid = this.viewingWorkshops[0].guid\r\n    },\r\n  },\r\n  mounted() {\r\n    this.selectDefaultWorkshop()\r\n  },\r\n  props: {\r\n    filterWorkshops: {\r\n      required: true,\r\n      type: Function,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.workshop-list {\r\n  background-color: #FFF;\r\n  border: 1px solid #CCC;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.workshop-list-header {\r\n  align-items: center;\r\n  background-color: rgba(1, 171, 109, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.workshop-list-title {\r\n  flex: 1;\r\n}\r\n\r\n.workshop-list-body {\r\n  background-color: rgba(1, 171, 109, 0.05);\r\n}\r\n\r\n.workshop-select {\r\n  padding: 12px 6px;\r\n}\r\n\r\n.workshop-select-label {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.workshop-select-dropdown {\r\n  border: 1px solid #BBB;\r\n}\r\n\r\n.workshops {\r\n  padding: 8px;\r\n}\r\n\r\n.workshop {\r\n  border: 1px solid rgba(1, 171, 109, 1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.workshop-header {\r\n  align-items: center;\r\n  background-color: rgba(1, 171, 109, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 28px;\r\n  padding: 0 8px;\r\n}\r\n\r\n.workshop-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n}\r\n\r\n.workshop-actions {\r\n  height: 100%;\r\n}\r\n\r\n.workshop-action {\r\n  background-color: transparent;\r\n  border: none;\r\n  border-left: 1px solid #fff;\r\n  border-radius: 0;\r\n  border-right: 1px solid #fff;\r\n  color: #fff;\r\n  height: 100%;\r\n  margin-right: 6px;\r\n  padding: 3px 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.workshop-action:hover {\r\n  background-color: #444;\r\n}\r\n\r\n.workshop-content {\r\n  background-color: #FFF;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  padding-top: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workshopList.vue?vue&type=template&id=41a6efe2&scoped=true&\"\nimport script from \"./workshopList.vue?vue&type=script&lang=js&\"\nexport * from \"./workshopList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41a6efe2\",\n  null\n  \n)\n\ncomponent.options.__file = \"workshopList.vue\"\nexport default component.exports","<template>\r\n  <div class=\"composer-wrap\">\r\n    <div \r\n      class=\"composer\" \r\n      v-if=\"hasChapters\">\r\n      <div class=\"map-wrap\">\r\n        <text-map \r\n          :editor-element=\"editorElement\" \r\n          :data-stream=\"activeChapter.content\"\r\n          @select=\"selectMap\" \r\n          :mark=\"mark\"/>\r\n      </div>\r\n      <div class=\"editor-wrap\">\r\n        <tabs-list \r\n          :active-index=\"activeChapterIndex\" \r\n          :data-array=\"allChapters\" \r\n          :filter-tabs=\"isViewing\"\r\n          item-name=\"Chapter\"\r\n          @add=\"addChapter\"\r\n          @hover=\"hoverChapter\"\r\n          @unhover=\"unhoverChapter\"\r\n          @update:activeIndex=\"selectChapter\"/>\r\n        <div \r\n          class=\"below-tabs\" \r\n          ref=\"editorContainer\">\r\n          <div \r\n            class=\"stats\" \r\n            :class=\"{ 'active': showStats }\">\r\n            <div class=\"stats-content\">\r\n              <p>\r\n                <b>{{ activeChapter.title }}</b>\r\n              </p>\r\n              <p>{{ chapterWordCount }} words</p>\r\n              <p>{{ chapterParagraphCount }} paragraphs</p>\r\n              <p>{{ chapterPageCount }} pages</p>\r\n              <p>{{ chapterReadTimeMinutes }} minute read</p>\r\n              <br>\r\n              <p>\r\n                <b>{{ documentTitle }} (Full document)</b>\r\n              </p>\r\n              <p>{{ documentWordCount }} words</p>\r\n              <p>{{ documentPageCount }} pages</p>\r\n              <p>{{ documentReadTimeMinutes }} minute read</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"define\">\r\n            <word-define :word=\"mark\"/>\r\n          </div>\r\n          <quill-editor \r\n            ref=\"textEditor\" \r\n            :content=\"activeChapter.content\" \r\n            :content-id=\"activeChapter.guid\"\r\n            :scroll-to=\"scrollTo\"\r\n            :container=\"editorContainerNode\"\r\n            @update:content=\"updateContent\"\r\n            @update:selection=\"updateSelection\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"sidebar-wrap\">\r\n        <!-- Plans/Outlines/Workshops switch -->\r\n        <div class=\"sidebar-options\">\r\n          <div class=\"plan-switch\">\r\n            <button \r\n              class=\"switch-label\" \r\n              :class=\"{ 'active': sidebar === 'outline' }\" \r\n              @click=\"switchOutline()\">\r\n              <div v-html=\"outlineSvg\"/>\r\n              <div class=\"switch-label-text\">Outline</div>\r\n            </button>\r\n            <hr class=\"vert\">\r\n            <button \r\n              class=\"switch-label\" \r\n              :class=\"{ 'active': sidebar === 'plan' }\" \r\n              @click=\"switchPlans()\">\r\n              <div v-html=\"planSvg\"/>\r\n              <div class=\"switch-label-text\">Plans</div>\r\n            </button>\r\n            <template v-if=\"isPremium\">\r\n              <hr class=\"vert\">\r\n              <button \r\n                class=\"switch-label\" \r\n                :class=\"{ 'active': sidebar === 'workshop' }\" \r\n                @click=\"switchWorkshops()\">\r\n                <div v-html=\"workshopSvg\"/>\r\n                <div class=\"switch-label-text\">Workshops</div>\r\n              </button>\r\n            </template>\r\n          </div>\r\n          <div class=\"archived-filter\">\r\n            <input \r\n              id=\"showArchivedTopics\" \r\n              type=\"checkbox\" \r\n              v-model=\"filters.archived\">\r\n            <label for=\"showArchivedTopics\">Show Archived</label>\r\n          </div>\r\n        </div>\r\n        <!-- Document Plans -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'plan'\">\r\n          <template v-if=\"hasPlans\">\r\n            <plans-list \r\n              :filter-plans=\"showPlan\" \r\n              :filter-sections=\"showSection\"/>\r\n          </template>\r\n          <template v-else>\r\n            <div>No plans yet.</div>\r\n            <div>\r\n              <router-link to=\"/plan\">Start planning</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <!-- Chapter Outlines -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'outline'\">\r\n          <template v-if=\"hasTopics\">\r\n            <div class=\"topic-list-wrap\">\r\n              <topic-list \r\n                :chapter=\"activeChapter\" \r\n                :filter-topics=\"showTopic\" \r\n                :topics=\"allTopics\"/>\r\n            </div>\r\n          </template>\r\n          <template v-else>\r\n            <div>No outline yet.</div>\r\n            <div>\r\n              <router-link to=\"/outline\">Start outlining</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <!-- Workshops -->\r\n        <div \r\n          class=\"sidebar-content\" \r\n          v-show=\"sidebar === 'workshop'\">\r\n          <template v-if=\"hasWorkshops\">\r\n            <workshop-list \r\n              ref=\"workshopList\" \r\n              :filter-workshops=\"showWorkshop\"/>\r\n          </template>\r\n          <template v-else>\r\n            <div>No workshops completed yet.</div>\r\n            <div>\r\n              <router-link to=\"/workshop/free-write\">Do a free write</router-link>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <div>No chapters yet.</div>\r\n      <div>\r\n        <router-link to=\"/outline\">Create one</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ADD_CHAPTER, UPDATE_CHAPTER_CONTENT } from '../shared/chapters.store'\r\nimport Cache from '../shared/cache'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport PlansList from '../shared/plansList.vue'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport TextMap from './textMap.vue'\r\nimport TopicList from '../shared/topicList.vue'\r\nimport { UPDATE_SELECTION } from './composer.store'\r\nimport { ValidateTitle } from '../shared/validate'\r\nimport VueSwitch from 'vue-switches'\r\nimport WordDefine from './wordDefine.vue'\r\nimport WorkshopList from '../shared/workshopList.vue'\r\n\r\nconst planSwitch = new Cache('COMPOSER_PLAN_SWITCH')\r\n\r\nexport default {\r\n  components: {\r\n    PlansList,\r\n    QuillEditor,\r\n    TabsList,\r\n    TextMap,\r\n    TopicList,\r\n    VueSwitch,\r\n    WordDefine,\r\n    WorkshopList,\r\n  },\r\n  computed: {\r\n    activeChapter() {\r\n      if (this.activeChapterIndex === -1) {\r\n        return this.viewingChapters[0]\r\n      }\r\n\r\n      return this.allChapters[this.activeChapterIndex] || {}\r\n    },\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics\r\n    },\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    chapterPageCount() {\r\n      return this.getPageCount(this.textContent)\r\n    },\r\n    chapterParagraphCount() {\r\n      return this.getParagraphCount(this.textContent)\r\n    },\r\n    chapterReadTimeMinutes() {\r\n      return this.getReadTimeMinutes(this.textContent)\r\n    },\r\n    chapterWordCount() {\r\n      return this.getWordCount(this.textContent)\r\n    },\r\n    documentFullText() {\r\n      return (\r\n        this.$store.state.chapters.chapters\r\n          .map(chapter => chapter.content)\r\n          .map(content => GetContentString(content))\r\n          .join(' ')\r\n      )\r\n    },\r\n    documentPageCount() {\r\n      return this.getPageCount(this.documentFullText)\r\n    },\r\n    documentReadTimeMinutes() {\r\n      return this.getReadTimeMinutes(this.documentFullText)\r\n    },\r\n    documentTitle() {\r\n      return this.$store.state.document.currentDocument.name\r\n    },\r\n    documentWordCount() {\r\n      return this.getWordCount(this.documentFullText)\r\n    },\r\n    hasChapters() {\r\n      return this.viewingChapters && this.viewingChapters.length\r\n    },\r\n    hasPlans() {\r\n      return this.allPlans && this.allPlans.length\r\n    },\r\n    hasTopics() {\r\n      return this.allTopics && this.allTopics.length\r\n    },\r\n    hasWorkshops() {\r\n      return this.allWorkshops && this.allWorkshops.length\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n    mark() {\r\n      return this.selection.text\r\n    },\r\n    selection() {\r\n      return this.$store.state.composer.selection\r\n    },\r\n    textContent() {\r\n      return GetContentString(this.activeChapter.content)\r\n    },\r\n    viewingChapters() {\r\n      return this.allChapters.filter(chapter => !chapter.archived)\r\n    },\r\n    viewingPlans() {\r\n      return (this.allPlans\r\n        .filter(plan => !plan.archived || this.filters.archived))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeChapterIndex: -1,\r\n      editorContainerNode: null,\r\n      editorElement: null,\r\n      filters: {\r\n        archived: false,\r\n      },\r\n      newChapter: '',\r\n      outlineSvg: Octicons['list-unordered'].toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      planSvg: Octicons.telescope.toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      workshopSvg: Octicons.tools.toSVG({\r\n        height: 25,\r\n        width: 25,\r\n      }),\r\n      scrollTo: {\r\n        paragraphIndex: -1,\r\n        searchTermIndex: -1,\r\n      },\r\n      sidebar: 'outline',\r\n      showStats: false,\r\n    }\r\n  },\r\n  methods: {\r\n    addChapter(title) {\r\n      if (!ValidateTitle('chapter', title)) {\r\n        return\r\n      }\r\n\r\n      const chapter = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }\r\n\r\n      this.$store.commit(ADD_CHAPTER, { chapter })\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    getReadTimeMinutes(str) {\r\n      return Math.ceil(this.getWordCount(str) / 275)\r\n    },\r\n    getPageCount(str) {\r\n      return Math.ceil(this.getWordCount(str) / 300)\r\n    },\r\n    getParagraphCount(str) {\r\n      return (str.match(/[\\n]+/g) || []).length\r\n    },\r\n    getWordCount(str) {\r\n      return (str.match(/[^\\s]+/g) || []).length\r\n    },\r\n    hoverChapter() {\r\n      this.showStats = true\r\n    },\r\n    isActive(index) {\r\n      return index === this.activeChapterIndex\r\n    },\r\n    isViewing(chapter) {\r\n      return !chapter.archived || this.filters.archived\r\n    },\r\n    selectChapter(index) {\r\n      // If no active chapter has been set, default to the first one\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      // If viewing an archived chapter but \"show archived\" is false\r\n      if (this.allChapters[index].archived && !this.filters.archived) {\r\n        index = this.allChapters.indexOf(this.viewingChapters[0])\r\n      }\r\n\r\n      this.activeChapterIndex = index\r\n    },\r\n    selectMap(descriptor) {\r\n      this.scrollTo = descriptor\r\n    },\r\n    showPlan(plan) {\r\n      return this.viewingPlans.includes(plan)\r\n    },\r\n    showSection(section) {\r\n      return !section.archived || this.filters.archived\r\n    },\r\n    showTopic(chapterTopic) {\r\n      const masterTopic = this.getMasterTopic(chapterTopic)\r\n      return !masterTopic || !masterTopic.archived || this.filters.archived\r\n    },\r\n    showWorkshop(workshop) {\r\n      return !workshop.archived || this.filters.archived\r\n    },\r\n    switchOutline() {\r\n      this.sidebar = 'outline'\r\n      planSwitch.cacheSet('outline')\r\n    },\r\n    switchPlans() {\r\n      this.sidebar = 'plan'\r\n      planSwitch.cacheSet('plan')\r\n    },\r\n    switchWorkshops() {\r\n      this.sidebar = 'workshop'\r\n      planSwitch.cacheSet('workshop')\r\n    },\r\n    unhoverChapter() {\r\n      this.showStats = false\r\n    },\r\n    updateContent({ content: newContent, contentId: guid }) {\r\n      const chapter = this.allChapters.find(chapter => chapter.guid === guid)\r\n      if (!chapter) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_CHAPTER_CONTENT, {\r\n        chapter,\r\n        newContent,\r\n      })\r\n    },\r\n    updateSelection(selection) {\r\n      this.$store.commit(UPDATE_SELECTION, selection)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.editorContainerNode = this.$refs.editorContainer\r\n    this.editorElement = this.$refs.textEditor\r\n    this.sidebar = planSwitch.cacheGet() || 'outline'\r\n\r\n    const chapterGuid = this.$route.query.chapter\r\n    if (chapterGuid) {\r\n      const activeChapter = this.allChapters.find(chapter => chapter.guid === chapterGuid)\r\n      if (activeChapter.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.selectChapter(this.allChapters.indexOf(activeChapter) || -1)\r\n    }\r\n\r\n    const workshopGuid = this.$route.query.workshop\r\n    const workshopName = this.$route.query.workshopName\r\n    if (workshopName && workshopGuid) {\r\n      this.switchWorkshops()\r\n      const activeWorkshop = this.allWorkshops.find(workshop => workshop.guid === workshopGuid)\r\n      if (activeWorkshop.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.$refs.workshopList.selectWorkshopName(workshopName)\r\n      this.$refs.workshopList.selectWorkshopGuid(workshopGuid)\r\n    }\r\n\r\n    this.$router.replace('/write')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.composer-wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  min-height: 300px;\r\n  width: 100%;\r\n}\r\n\r\n.composer {\r\n  display: flex;\r\n  flex: 1;\r\n  max-width: 1500px;\r\n}\r\n\r\n.map-wrap {\r\n  display: flex;\r\n  height: 100%;\r\n  margin-right: 20px;\r\n  width: 160px;\r\n  z-index: 25;\r\n}\r\n\r\n.editor-wrap {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  margin-right: 20px;\r\n  position: relative;\r\n}\r\n\r\n.below-tabs {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.stats {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  bottom: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  transition: opacity 100ms;\r\n  width: 100%;\r\n  z-index: 15;\r\n}\r\n\r\n.stats.active {\r\n  opacity: 1;\r\n}\r\n\r\n.stats-content {\r\n  height: 100%;\r\n  padding: 12px;\r\n  width: 100%;\r\n}\r\n\r\n.define {\r\n  bottom: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 15;\r\n\r\n}\r\n\r\n.sidebar-wrap {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 300px;\r\n}\r\n\r\n.sidebar-content {\r\n  overflow: auto;\r\n}\r\n\r\n.sidebar-options {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  min-height: 60px;\r\n  max-height: 60px;\r\n}\r\n\r\n.plan-switch {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 35px;\r\n  margin-bottom: 6px;\r\n  margin-top: 6px;\r\n}\r\n\r\n.switch-label {\r\n  align-items: center;\r\n  border: none;\r\n  color: #888;\r\n  cursor: pointer;\r\n  display: flex;\r\n  fill: #888;\r\n  flex-direction: column;\r\n  font-size: 16px;\r\n  margin: 0 4px;\r\n  transition: color 100ms, fill 100ms;\r\n}\r\n\r\n.switch-label:hover {\r\n  color: #000;\r\n  fill: #000;\r\n}\r\n\r\n.switch-label.active {\r\n  color: #000;\r\n  fill: #000;\r\n}\r\n\r\n.switch-label-text {\r\n  margin: 0 12px;\r\n}\r\n\r\n.archived-filter {\r\n  align-items: center;\r\n  align-self: flex-start;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 8px;\r\n}\r\n\r\n.topic-list-wrap {\r\n  overflow: auto;\r\n}\r\n\r\n/* MOBILE */\r\n@media (max-width: 800px) {\r\n  .map-wrap {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media (max-width: 700px) {\r\n  .sidebar-wrap {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./composer.page.vue?vue&type=template&id=2105d8d6&scoped=true&\"\nimport script from \"./composer.page.vue?vue&type=script&lang=js&\"\nexport * from \"./composer.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2105d8d6\",\n  null\n  \n)\n\ncomponent.options.__file = \"composer.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"document\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\"\\n        \\\"\"+_vm._s(_vm.documentName)+\"\\\"\\n      \")])]),_c('div',{staticClass:\"actions\"},[_c('label',{staticClass:\"name-label\",attrs:{\"for\":\"documentNameInput\"}},[_vm._v(\"Change document name:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocumentName),expression:\"newDocumentName\"}],staticClass:\"name-input\",attrs:{\"id\":\"documentNameInput\",\"type\":\"text\"},domProps:{\"value\":(_vm.newDocumentName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newDocumentName=$event.target.value}}}),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.saveDocumentName()}}},[_vm._v(\"Save\")])])]),_c('hr'),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"button-red\",on:{\"click\":function($event){_vm.deleteDocument()}}},[_vm._v(\"Delete Document\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"document\">\r\n      <div class=\"title\">\r\n        <h3>\r\n          \"{{ documentName }}\"\r\n        </h3>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <label \r\n          class=\"name-label\" \r\n          for=\"documentNameInput\">Change document name:</label>\r\n        <div>\r\n          <input \r\n            class=\"name-input\" \r\n            id=\"documentNameInput\" \r\n            type=\"text\" \r\n            v-model=\"newDocumentName\">\r\n          <button \r\n            class=\"button-green\" \r\n            @click=\"saveDocumentName()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <div class=\"actions\">\r\n        <button \r\n          class=\"button-red\" \r\n          @click=\"deleteDocument()\">Delete Document</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nimport { DELETE_DOCUMENT, UPDATE_DOCUMENT_NAME } from '../shared/document.store'\r\n\r\nexport default {\r\n  components: {},\r\n  computed: {\r\n    documentGuid() {\r\n      return this.$store.state.document.currentDocument.guid\r\n    },\r\n    documentName() {\r\n      return this.$store.state.document.currentDocument.name\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newDocumentName: '',\r\n    }\r\n  },\r\n  methods: {\r\n    deleteDocument() {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: 'Are you sure you want to delete this document? All plans, outlines, and chapters will be lost. This cannot be undone.',\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.dispatch(DELETE_DOCUMENT, { guid: this.documentGuid })\r\n      })\r\n    },\r\n    saveDocumentName() {\r\n      this.$store.commit(UPDATE_DOCUMENT_NAME, { guid: this.documentGuid, name: this.newDocumentName })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.newDocumentName = this.documentName\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.document {\r\n  background-color: #FFF;\r\n  border-radius: 5px;\r\n  box-shadow: 0px -2px 12px -4px rgba(0,0,0,0.75);\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n  overflow: auto;\r\n  padding: 15px;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.name-label {\r\n  display: inline-block;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.name-input {\r\n  margin-right: 6px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentEdit.page.vue?vue&type=template&id=fcb1d9b4&scoped=true&\"\nimport script from \"./documentEdit.page.vue?vue&type=script&lang=js&\"\nexport * from \"./documentEdit.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcb1d9b4\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentEdit.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outliner-wrap\"},[_c('div',{staticClass:\"outliner\"},[_c('div',{staticClass:\"filters\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],attrs:{\"id\":\"showArchivedCheckbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedCheckbox\"}},[_vm._v(\"Show Archived\")])]),_c('hr'),_c('div',{staticClass:\"chips-wrap chapter-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Chapters\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpChapterChipsNode, 'Chapter List')}}})]),_c('chips-list',{attrs:{\"name\":\"Chapter\",\"name-prop\":\"title\",\"data-array\":_vm.allChapters,\"filter-chips\":_vm.showChapter,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addChapter,\"delete\":_vm.archiveChapter,\"rearrange\":_vm.rearrangeChapter,\"restore\":_vm.restoreChapter,\"update\":_vm.renameChapter}})],1),_c('div',{staticClass:\"chips-wrap topic-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Topics\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpTopicChipsNode, 'Topic List')}}})]),_c('chips-list',{attrs:{\"name\":\"Topic\",\"name-prop\":\"title\",\"data-array\":_vm.allTopics,\"filter-chips\":_vm.showTopic,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addTopic,\"delete\":_vm.archiveTopic,\"rearrange\":_vm.rearrangeTopic,\"restore\":_vm.restoreTopic,\"update\":_vm.renameTopic}})],1),_c('hr'),(_vm.viewingChapters.length > 0)?_c('div',{staticClass:\"chapters\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Outline\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpChapterBlocksNode, 'Outline')}}})]),_c('tabs-list',{attrs:{\"active-index\":_vm.activeChapterIndex,\"data-array\":_vm.allChapters,\"filter-tabs\":_vm.showChapter,\"item-name\":\"Chapter\"},on:{\"add\":_vm.addChapter,\"update:activeIndex\":_vm.selectChapter}}),(_vm.activeChapter)?_c('div',{staticClass:\"chapter\"},[_c('div',{staticClass:\"chapter-head\",class:{ 'light': _vm.activeChapter.archived }},[_c('h4',{staticClass:\"chapter-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.activeChapter.title)+\"\\n          \")]),_c('div',{staticClass:\"chapter-actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.activeChapter.archived),expression:\"!activeChapter.archived\"}],staticClass:\"chapter-action\",on:{\"click\":function($event){_vm.archiveChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Archive\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeChapter.archived),expression:\"activeChapter.archived\"}],staticClass:\"chapter-action\",on:{\"click\":function($event){_vm.restoreChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Restore\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeChapter.archived),expression:\"activeChapter.archived\"}],staticClass:\"chapter-action button-red\",on:{\"click\":function($event){_vm.deleteChapter({ index: _vm.activeChapterIndex })}}},[_vm._v(\"Delete Forever\")])])]),_c('div',{staticClass:\"chapter-content\"},[_c('topic-list',{attrs:{\"chapter\":_vm.activeChapter,\"filter-topics\":_vm.showTopic,\"topics\":_vm.allTopics}})],1)]):_vm._e()],1):_vm._e()]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpChapterChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the chapter list. It's the easiest place to add, archive, restore, rename, and rearrange chapters.\")]),_c('p',[_vm._v(\"To add a chapter, type its name into the \\\"New Chapter\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a chapter, click the \\\"X\\\" next to its name in the list.\\n        Archiving a chapter removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived chapter, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a chapter, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a chapter, click and drag it to where you want it to go.\")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpTopicChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the topic list. It's the easiest place to add, archive, restore, rename, and rearrange topics.\")]),_c('p',[_vm._v(\"To add a topic, type its name into the \\\"New Topic\\\" box and click \\\"Add\\\". It will show up in every chapter in the \\\"Outline\\\" section.\")]),_c('p',[_vm._v(\"\\n        To archive a topic, click the \\\"X\\\" next to its name in the list.\\n        Archiving a topic removes it from all chapters without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived topic, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a topic, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a topic, click and drag it to where you want it to go.\")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpChapterBlocksModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is where the real work happens. Each of your chapters has a block below, with a section for each topic.\")]),_c('p',[_vm._v(\"\\n        A \\\"topic\\\" can be a character arc, a list of subpoints, citations you've found in your research, or really anything\\n        that you want to keep handy while you write. Everything you outline here will be visible on the Write page, next to\\n        the main editor.\\n      \")]),_c('p',[_vm._v(\"\\n        You can update these topics any time you want.\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"outliner-wrap\">\r\n    <div class=\"outliner\">\r\n      <!-- Filters -->\r\n      <div class=\"filters\">\r\n        <input \r\n          id=\"showArchivedCheckbox\" \r\n          type=\"checkbox\" \r\n          v-model=\"filters.archived\" >\r\n        <label for=\"showArchivedCheckbox\">Show Archived</label>\r\n      </div>\r\n      <hr>\r\n      <!-- Chapter Chips -->\r\n      <div class=\"chips-wrap chapter-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Chapters</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpChapterChipsNode, 'Chapter List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Chapter\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allChapters\"\r\n          :filter-chips=\"showChapter\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addChapter\"\r\n          @delete=\"archiveChapter\"\r\n          @rearrange=\"rearrangeChapter\"\r\n          @restore=\"restoreChapter\"\r\n          @update=\"renameChapter\"/>\r\n      </div>\r\n      <!-- Topic Chips -->\r\n      <div class=\"chips-wrap topic-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Topics</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpTopicChipsNode, 'Topic List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Topic\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allTopics\"\r\n          :filter-chips=\"showTopic\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addTopic\"\r\n          @delete=\"archiveTopic\"\r\n          @rearrange=\"rearrangeTopic\"\r\n          @restore=\"restoreTopic\"\r\n          @update=\"renameTopic\"/>\r\n      </div>\r\n      <hr>\r\n      <div \r\n        class=\"chapters\" \r\n        v-if=\"viewingChapters.length > 0\">\r\n        <div class=\"section-title\">\r\n          <h3>Outline</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpChapterBlocksNode, 'Outline')\"/>\r\n        </div>\r\n        <!-- Chapters > Topics -->\r\n        <tabs-list \r\n          :active-index=\"activeChapterIndex\" \r\n          :data-array=\"allChapters\" \r\n          :filter-tabs=\"showChapter\"\r\n          item-name=\"Chapter\"\r\n          @add=\"addChapter\"\r\n          @update:activeIndex=\"selectChapter\"/>\r\n        <div \r\n          class=\"chapter\" \r\n          v-if=\"activeChapter\">\r\n          <div \r\n            class=\"chapter-head\" \r\n            :class=\"{ 'light': activeChapter.archived }\">\r\n            <h4 class=\"chapter-title\">\r\n              {{ activeChapter.title }}\r\n            </h4>\r\n            <div class=\"chapter-actions\">\r\n              <button \r\n                class=\"chapter-action\" \r\n                v-show=\"!activeChapter.archived\" \r\n                @click=\"archiveChapter({ index: activeChapterIndex })\">Archive</button>\r\n              <button \r\n                class=\"chapter-action\" \r\n                v-show=\"activeChapter.archived\" \r\n                @click=\"restoreChapter({ index: activeChapterIndex })\">Restore</button>\r\n              <button \r\n                class=\"chapter-action button-red\" \r\n                v-show=\"activeChapter.archived\" \r\n                @click=\"deleteChapter({ index: activeChapterIndex })\">Delete Forever</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"chapter-content\">\r\n            <topic-list \r\n              :chapter=\"activeChapter\" \r\n              :filter-topics=\"showTopic\" \r\n              :topics=\"allTopics\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chapters: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpChapterChipsModal\">\r\n        <p>This is the chapter list. It's the easiest place to add, archive, restore, rename, and rearrange chapters.</p>\r\n        <p>To add a chapter, type its name into the \"New Chapter\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a chapter, click the \"X\" next to its name in the list.\r\n          Archiving a chapter removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived chapter, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a chapter, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a chapter, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Topics: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpTopicChipsModal\">\r\n        <p>This is the topic list. It's the easiest place to add, archive, restore, rename, and rearrange topics.</p>\r\n        <p>To add a topic, type its name into the \"New Topic\" box and click \"Add\". It will show up in every chapter in the \"Outline\" section.</p>\r\n        <p>\r\n          To archive a topic, click the \"X\" next to its name in the list.\r\n          Archiving a topic removes it from all chapters without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived topic, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a topic, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a topic, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chapter blocks: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpChapterBlocksModal\">\r\n        <p>This is where the real work happens. Each of your chapters has a block below, with a section for each topic.</p>\r\n        <p>\r\n          A \"topic\" can be a character arc, a list of subpoints, citations you've found in your research, or really anything\r\n          that you want to keep handy while you write. Everything you outline here will be visible on the Write page, next to\r\n          the main editor.\r\n        </p>\r\n        <p>\r\n          You can update these topics any time you want.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_CHAPTER, ADD_TOPIC, ARCHIVE_CHAPTER, ARCHIVE_TOPIC,\r\n  DELETE_CHAPTER, REARRANGE_CHAPTERS, REARRANGE_TOPICS,\r\n  RESTORE_CHAPTER, RESTORE_TOPIC, UPDATE_CHAPTER, UPDATE_TOPIC,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport swal from 'sweetalert'\r\nimport TabsList from '../shared/tabsList.vue'\r\nimport TopicList from '../shared/topicList.vue'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    TabsList,\r\n    TopicList,\r\n  },\r\n  computed: {\r\n    activeChapter() {\r\n      if (this.activeChapterIndex === -1) {\r\n        return null\r\n      }\r\n\r\n      return this.allChapters[this.activeChapterIndex]\r\n    },\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics || []\r\n    },\r\n    viewingChapters() {\r\n      return (this.allChapters\r\n        .filter(chapter => !chapter.archived || this.filters.archived))\r\n        .filter(chapter => !this.filters.chapter ||\r\n                chapter.title.toLowerCase().includes(this.filters.chapter.toLowerCase()))\r\n    },\r\n    viewingTopicsFilteredArchived() {\r\n      return (this.allTopics.filter(topic => !topic.archived || this.filters.archived))\r\n    },\r\n    viewingTopicsFilteredTitle() {\r\n      return this.allTopics.filter((topic) => {\r\n        if (!this.filters.topic) {\r\n          return true\r\n        }\r\n\r\n        const filter = this.filters.topic.toLowerCase()\r\n        const title = topic.title.toLowerCase()\r\n\r\n        return title.includes(filter)\r\n      })\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeChapterIndex: -1,\r\n      addSvg: Octicons.plus.toSVG({\r\n        class: 'add-icon--svg',\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      expandSvg: Octicons['chevron-down'].toSVG({\r\n        height: 18,\r\n        width: 18,\r\n      }),\r\n      filters: {\r\n        archived: false,\r\n        chapter: '',\r\n        topic: '',\r\n      },\r\n      filtersVisible: false,\r\n      helpChapterBlocksNode: null,\r\n      helpChapterChipsNode: null,\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n      helpTopicChipsNode: null,\r\n    }\r\n  },\r\n  methods: {\r\n    addChapter(title) {\r\n      if (!ValidateTitle('chapter', title)) {\r\n        return\r\n      }\r\n\r\n      const chapter = {\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }\r\n\r\n      this.$store.commit(ADD_CHAPTER, { chapter })\r\n    },\r\n    addTopic(title) {\r\n      if (!ValidateTitle('topic', title)) {\r\n        return\r\n      }\r\n\r\n      const topic = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n      }\r\n\r\n      this.$store.commit(ADD_TOPIC, { topic })\r\n    },\r\n    archiveChapter({ index }) {\r\n      this.$store.commit(ARCHIVE_CHAPTER, { chapter: this.allChapters[index] })\r\n\r\n      if (index === this.activeChapterIndex && !this.filters.archived) {\r\n        this.selectChapter(-1)\r\n      }\r\n    },\r\n    archiveTopic({ index }) {\r\n      this.$store.commit(ARCHIVE_TOPIC, { topic: this.allTopics[index] })\r\n    },\r\n    deleteChapter({ index }) {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Are you sure you want to delete this chapter? Its outline and all of its written content (from the Write page)\r\n               will be lost. This cannot be undone.`,\r\n        title: 'Delete Forever?',\r\n      }).then((willDelete) => {\r\n        if (!willDelete) {\r\n          return\r\n        }\r\n\r\n        this.$store.commit(DELETE_CHAPTER, { chapter: this.allChapters[index] })\r\n\r\n        if (index === this.activeChapterIndex) {\r\n          this.selectChapter(-1)\r\n        }\r\n      })\r\n    },\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    rearrangeChapter(chapters) {\r\n      this.$store.commit(REARRANGE_CHAPTERS, { chapters })\r\n    },\r\n    rearrangeTopic(topics) {\r\n      this.$store.commit(REARRANGE_TOPICS, { topics })\r\n    },\r\n    renameChapter({ index, value: newTitle }) {\r\n      if (!ValidateTitle('chapter', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_CHAPTER, {\r\n        chapter: this.allChapters[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    renameTopic({ index, value: newTitle }) {\r\n      if (!ValidateTitle('topic', newTitle)) {\r\n        return\r\n      }\r\n\r\n      const topic = this.allTopics[index]\r\n\r\n      this.$store.commit(UPDATE_TOPIC, {\r\n        topic,\r\n        newTitle,\r\n      })\r\n    },\r\n    restoreChapter({ index }) {\r\n      this.$store.commit(RESTORE_CHAPTER, { chapter: this.allChapters[index] })\r\n    },\r\n    restoreTopic({ index }) {\r\n      this.$store.commit(RESTORE_TOPIC, { topic: this.allTopics[index] })\r\n    },\r\n    selectChapter(index) {\r\n      // If no active chapter has been set, default to the first one\r\n      if (index === -1) {\r\n        index = 0\r\n      }\r\n\r\n      // If viewing an archived chapter but \"show archived\" is false\r\n      if (this.allChapters[index].archived && !this.filters.archived) {\r\n        index = this.allChapters.indexOf(this.viewingChapters[0])\r\n      }\r\n\r\n      this.activeChapterIndex = index\r\n    },\r\n    showChapter(chapter) {\r\n      return this.viewingChapters.includes(chapter)\r\n    },\r\n    showTopic(topic) {\r\n      const masterTopic = this.getMasterTopic(topic)\r\n      const textContent = GetContentString(topic.content)\r\n\r\n      return (this.viewingTopicsFilteredArchived.includes(masterTopic) &&\r\n        (this.viewingTopicsFilteredTitle.includes(masterTopic) ||\r\n        textContent && textContent.includes(this.filters.topic)))\r\n    },\r\n    toggleFilters() {\r\n      this.filtersVisible = !this.filtersVisible\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpChapterBlocksNode = this.$refs.helpChapterBlocksModal\r\n    this.helpChapterChipsNode = this.$refs.helpChapterChipsModal\r\n    this.helpTopicChipsNode = this.$refs.helpTopicChipsModal\r\n\r\n    const chapterGuid = this.$route.query.chapter\r\n    if (chapterGuid) {\r\n      const activeChapter = this.allChapters.find(chapter => chapter.guid === chapterGuid)\r\n      if (activeChapter.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.selectChapter(this.allChapters.indexOf(activeChapter))\r\n    } else {\r\n      this.selectChapter(-1)\r\n    }\r\n\r\n    this.$router.replace('/outline')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.outliner-wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.outliner {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.help-icon {\r\n  margin-left: 6px;\r\n}\r\n\r\n.filters {\r\n  margin: 10px 0;\r\n}\r\n\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(5, 133, 157, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.chapters {\r\n  display: block;\r\n}\r\n\r\n.chapter {\r\n  background-color: #FFF;\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  box-shadow: 0px -2px 12px -4px rgba(0, 0, 0, 0.75);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.chapter-head {\r\n  align-items: center;\r\n  background-color: rgba(5, 133, 157, 1);\r\n  border: 1px solid rgba(5, 133, 157, 1);\r\n  color: #FFF;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 8px;\r\n}\r\n\r\n.chapter-head.light {\r\n  background-color: rgba(5, 133, 157, 0.5);\r\n}\r\n\r\n.chapter-title {\r\n  flex: 1;\r\n  margin: 0;\r\n}\r\n\r\n.chapter-action {\r\n  background-color: transparent;\r\n  border-color: #FFF;\r\n  color: #FFF;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n}\r\n\r\n.chapter-action:hover {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n\r\n.chapter-content {\r\n  background-color: rgba(5, 133, 157, 0.05);\r\n  border: 1px solid rgba(5, 133, 157, 0.75);\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  border-top: none;\r\n  padding: 0 8px;\r\n  padding-top: 20px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.add-icon--svg {\r\n  fill: #FFF;\r\n  margin-right: 6px;\r\n}\r\n\r\n.filter-toggle svg {\r\n  transform-origin: center;\r\n  transition: transform 100ms;\r\n}\r\n\r\n.filter-toggle.expanded svg {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./outliner.page.vue?vue&type=template&id=3e9b1370&scoped=true&\"\nimport script from \"./outliner.page.vue?vue&type=script&lang=js&\"\nexport * from \"./outliner.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"\nimport style1 from \"./outliner.page.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e9b1370\",\n  null\n  \n)\n\ncomponent.options.__file = \"outliner.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"planner\"},[_c('div',{staticClass:\"filters\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.archived),expression:\"filters.archived\"}],staticClass:\"show-archived\",attrs:{\"id\":\"showArchivedCheckbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.archived)?_vm._i(_vm.filters.archived,null)>-1:(_vm.filters.archived)},on:{\"change\":function($event){var $$a=_vm.filters.archived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"archived\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"archived\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"archived\", $$c)}}}}),_c('label',{attrs:{\"for\":\"showArchivedCheckbox\"}},[_vm._v(\"Show Archived\")])]),_c('hr'),_c('div',{staticClass:\"chips-wrap plan-chips\"},[_c('div',{staticClass:\"section-title\"},[_c('h3',[_vm._v(\"Plans\")]),_c('button',{staticClass:\"help-icon\",domProps:{\"innerHTML\":_vm._s(_vm.helpIconSvg)},on:{\"click\":function($event){_vm.helpClick(_vm.helpPlanChipsModal, 'Plan List')}}})]),_c('chips-list',{attrs:{\"name\":\"Plan\",\"name-prop\":\"title\",\"data-array\":_vm.allPlans,\"filter-chips\":_vm.showPlan,\"is-deletable\":_vm.isDeletable},on:{\"add\":_vm.addPlan,\"delete\":_vm.archivePlan,\"rearrange\":_vm.rearrangePlan,\"restore\":_vm.restorePlan,\"update\":_vm.renamePlan}})],1),_c('hr'),_c('plans-list',{ref:\"plansList\",attrs:{\"filter-plans\":_vm.showPlan,\"filter-sections\":_vm.showSection}})],1),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"helpPlanChipsModal\",staticClass:\"help\"},[_c('p',[_vm._v(\"This is the plan list. It's the easiest place to add, archive, restore, rename, and rearrange plans.\")]),_c('p',[_vm._v(\"To add a plan, type its name into the \\\"New Plan\\\" box and click \\\"Add\\\".\")]),_c('p',[_vm._v(\"\\n        To archive a plan, click the \\\"X\\\" next to its name in the list.\\n        Archiving a plan removes it from your document without deleting it permanently.\\n      \")]),_c('p',[_vm._v(\"To restore an archived plan, check the \\\"Show Archived\\\" box, then click the \\\"+\\\" next to its name in the list.\")]),_c('p',[_vm._v(\"To rename a plan, click the pencil icon next to its name in the list.\")]),_c('p',[_vm._v(\"To rearrange a plan, click and drag it to where you want it to go.\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"planner\">\r\n      <!-- 'Show Archived' checkbox -->\r\n      <div class=\"filters\">\r\n        <input \r\n          class=\"show-archived\" \r\n          id=\"showArchivedCheckbox\" \r\n          type=\"checkbox\" \r\n          v-model=\"filters.archived\" >\r\n        <label for=\"showArchivedCheckbox\">Show Archived</label>\r\n      </div>\r\n      <hr>\r\n      <!-- Plan Chips -->\r\n      <div class=\"chips-wrap plan-chips\">\r\n        <div class=\"section-title\">\r\n          <h3>Plans</h3>\r\n          <button \r\n            class=\"help-icon\" \r\n            v-html=\"helpIconSvg\" \r\n            @click=\"helpClick(helpPlanChipsModal, 'Plan List')\"/>\r\n        </div>\r\n        <chips-list \r\n          name=\"Plan\" \r\n          name-prop=\"title\"\r\n          :data-array=\"allPlans\"\r\n          :filter-chips=\"showPlan\"\r\n          :is-deletable=\"isDeletable\"\r\n          @add=\"addPlan\"\r\n          @delete=\"archivePlan\"\r\n          @rearrange=\"rearrangePlan\"\r\n          @restore=\"restorePlan\"\r\n          @update=\"renamePlan\"/>\r\n      </div>\r\n      <hr>\r\n      <plans-list \r\n        ref=\"plansList\" \r\n        :filter-plans=\"showPlan\" \r\n        :filter-sections=\"showSection\"/>\r\n    </div>\r\n\r\n    <!-- Plans: [?] Modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"help\" \r\n        ref=\"helpPlanChipsModal\">\r\n        <p>This is the plan list. It's the easiest place to add, archive, restore, rename, and rearrange plans.</p>\r\n        <p>To add a plan, type its name into the \"New Plan\" box and click \"Add\".</p>\r\n        <p>\r\n          To archive a plan, click the \"X\" next to its name in the list.\r\n          Archiving a plan removes it from your document without deleting it permanently.\r\n        </p>\r\n        <p>To restore an archived plan, check the \"Show Archived\" box, then click the \"+\" next to its name in the list.</p>\r\n        <p>To rename a plan, click the pencil icon next to its name in the list.</p>\r\n        <p>To rearrange a plan, click and drag it to where you want it to go.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ADD_PLAN, ARCHIVE_PLAN, REARRANGE_PLANS,\r\n  RESTORE_PLAN, UPDATE_PLAN,\r\n} from '../shared/chapters.store'\r\nimport ChipsList from '../shared/chipsList.vue'\r\nimport guid from '../shared/guid'\r\nimport Octicons from 'octicons'\r\nimport PlansList from '../shared/plansList.vue'\r\nimport swal from 'sweetalert'\r\nimport { ValidateTitle } from '../shared/validate'\r\n\r\nexport default {\r\n  components: {\r\n    ChipsList,\r\n    PlansList,\r\n  },\r\n  computed: {\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    viewingPlans() {\r\n      return (this.allPlans\r\n        .filter(plan => !plan.archived || this.filters.archived))\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filters: {\r\n        archived: false,\r\n      },\r\n      helpIconSvg: Octicons.question.toSVG({\r\n        class: 'help-icon--svg',\r\n        height: 16,\r\n        width: 16,\r\n      }),\r\n    }\r\n  },\r\n  methods: {\r\n    addPlan(title) {\r\n      if (!ValidateTitle('plan', title)) {\r\n        return\r\n      }\r\n\r\n      const plan = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [],\r\n      }\r\n\r\n      this.$store.commit(ADD_PLAN, { plan })\r\n    },\r\n    archivePlan({ index }) {\r\n      this.$store.commit(ARCHIVE_PLAN, { plan: this.allPlans[index] })\r\n\r\n      if (index === this.activePlanIndex) {\r\n        this.activePlanIndex = -1\r\n      }\r\n    },\r\n    helpClick(content, title) {\r\n      swal({\r\n        content,\r\n        title,\r\n      })\r\n    },\r\n    isDeletable(chip) {\r\n      return !chip.archived\r\n    },\r\n    rearrangePlan(plans) {\r\n      this.$store.commit(REARRANGE_PLANS, { plans })\r\n    },\r\n    renamePlan({ index, value: newTitle }) {\r\n      if (!ValidateTitle('plan', newTitle)) {\r\n        return\r\n      }\r\n\r\n      this.$store.commit(UPDATE_PLAN, {\r\n        plan: this.allPlans[index],\r\n        newTitle,\r\n      })\r\n    },\r\n    restorePlan({ index }) {\r\n      this.$store.commit(RESTORE_PLAN, { plan: this.allPlans[index] })\r\n    },\r\n    showPlan(plan) {\r\n      return this.viewingPlans.includes(plan)\r\n    },\r\n    showSection(section) {\r\n      return !section.archived || this.filters.archived\r\n    },\r\n  },\r\n  mounted() {\r\n    this.helpPlanChipsModal = this.$refs.helpPlanChipsModal\r\n\r\n    const planGuid = this.$route.query.plan\r\n    if (planGuid) {\r\n      const activePlan = this.allPlans.find(plan => plan.guid === planGuid)\r\n      if (activePlan.archived) {\r\n        this.filters.archived = true\r\n      }\r\n\r\n      this.$refs.plansList.selectPlan(this.allPlans.indexOf(activePlan))\r\n    }\r\n\r\n    this.$router.replace('/plan')\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.planner {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.filters {\r\n  margin: 10px 0;\r\n}\r\n\r\n.chips-wrap {\r\n  border-left: 2px solid rgba(13, 91, 166, 0.5);\r\n  margin-bottom: 16px;\r\n  padding-bottom: 4px;\r\n  padding-left: 8px;\r\n  padding-top: 4px;\r\n}\r\n\r\n.section-title {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planner.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./planner.page.vue?vue&type=template&id=3b3a778d&scoped=true&\"\nimport script from \"./planner.page.vue?vue&type=script&lang=js&\"\nexport * from \"./planner.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./planner.page.vue?vue&type=style&index=0&id=3b3a778d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b3a778d\",\n  null\n  \n)\n\ncomponent.options.__file = \"planner.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"search\"},[_c('h2',[_vm._v(\"Document Search\")]),_c('p',[_vm._v(\"\\n      Enter a partial word, full word or phrase and Edward will find all your chapters, outlines, plans and workshops\\n      that match it.\\n    \")]),_c('div',{staticClass:\"search-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],ref:\"searchInput\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search text\"},domProps:{\"value\":(_vm.searchText)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.search()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value}}}),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.search()}}},[_vm._v(\"Search\")])]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.loading)?_c('div',{key:\"results\",staticClass:\"results\"},[(_vm.hasResults)?[_c('hr'),_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showChapters),expression:\"filters.showChapters\"}],attrs:{\"id\":\"show-chapters\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showChapters)?_vm._i(_vm.filters.showChapters,null)>-1:(_vm.filters.showChapters)},on:{\"change\":function($event){var $$a=_vm.filters.showChapters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showChapters\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showChapters\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showChapters\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-chapters\"}},[_vm._v(\"Show Chapters\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showOutlines),expression:\"filters.showOutlines\"}],attrs:{\"id\":\"show-outlines\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showOutlines)?_vm._i(_vm.filters.showOutlines,null)>-1:(_vm.filters.showOutlines)},on:{\"change\":function($event){var $$a=_vm.filters.showOutlines,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showOutlines\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showOutlines\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showOutlines\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-outlines\"}},[_vm._v(\"Show Outlines\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showPlans),expression:\"filters.showPlans\"}],attrs:{\"id\":\"show-plans\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showPlans)?_vm._i(_vm.filters.showPlans,null)>-1:(_vm.filters.showPlans)},on:{\"change\":function($event){var $$a=_vm.filters.showPlans,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showPlans\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showPlans\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showPlans\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-plans\"}},[_vm._v(\"Show Plans\")])]),_c('div',{staticClass:\"filter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.showWorkshops),expression:\"filters.showWorkshops\"}],attrs:{\"id\":\"show-workshops\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filters.showWorkshops)?_vm._i(_vm.filters.showWorkshops,null)>-1:(_vm.filters.showWorkshops)},on:{\"change\":function($event){var $$a=_vm.filters.showWorkshops,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filters, \"showWorkshops\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filters, \"showWorkshops\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filters, \"showWorkshops\", $$c)}}}}),_c('label',{attrs:{\"for\":\"show-workshops\"}},[_vm._v(\"Show Workshops\")])])])]:_vm._e(),(_vm.searched && !_vm.hasResults)?_c('div',[_c('strong',[_vm._v(\"No results found.\")])]):_vm._e(),(_vm.matches.chapters.length && _vm.filters.showChapters)?_c('div',{staticClass:\"result-set chapter-results\"},[_c('h3',[_vm._v(\"Chapters\")]),_vm._l((_vm.matches.chapters),function(chapter){return _c('div',{key:chapter.guid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',{domProps:{\"textContent\":_vm._s(chapter.title)}}),_c('router-link',{attrs:{\"to\":'/write?chapter=' + chapter.guid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((chapter._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.outlines.length && _vm.filters.showOutlines)?_c('div',{staticClass:\"result-set outline-results\"},[_c('h3',[_vm._v(\"Outlines\")]),_vm._l((_vm.matches.outlines),function(topicMatch){return _c('div',{key:topicMatch.chapterGuid + topicMatch.topicGuid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(topicMatch.chapterTitle)+\" | \"+_vm._s(topicMatch.topicTitle))]),_c('router-link',{attrs:{\"to\":'/outline?chapter=' + topicMatch.chapterGuid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((topicMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.plans.length && _vm.filters.showPlans)?_c('div',{staticClass:\"result-set plan-results\"},[_c('h3',[_vm._v(\"Plans\")]),_vm._l((_vm.matches.plans),function(sectionMatch){return _c('div',{key:sectionMatch.planGuid + sectionMatch.sectionGuid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(sectionMatch.planTitle)+\" | \"+_vm._s(sectionMatch.sectionTitle))]),_c('router-link',{attrs:{\"to\":'/plan?plan=' + sectionMatch.planGuid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((sectionMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e(),(_vm.matches.workshops.length && _vm.filters.showWorkshops)?_c('div',{staticClass:\"result-set workshop-results\"},[_c('h3',[_vm._v(\"Workshops\")]),_vm._l((_vm.matches.workshops),function(workshopMatch){return _c('div',{key:workshopMatch.guid,staticClass:\"result\"},[_c('p',{staticClass:\"result-title\"},[_c('strong',[_vm._v(_vm._s(workshopMatch.title))]),_c('router-link',{attrs:{\"to\":'/write?workshopName=' + workshopMatch.workshopName + '&workshop=' + workshopMatch.guid}},[_c('button',{staticClass:\"link-out\",domProps:{\"innerHTML\":_vm._s(_vm.linkSvg)}})])],1),_vm._l((workshopMatch._matches),function(match){return _c('div',{key:match.index},[_c('match',{attrs:{\"match\":match}})],1)})],2)})],2):_vm._e()],2):_c('div',{key:\"loading\",staticClass:\"loading\"},[_c('pulse-loader')],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"match\"},[(!_vm.match.atHead)?_c('span',[_vm._v(\"...\")]):_vm._e(),_c('span',{domProps:{\"textContent\":_vm._s(_vm.formattedPre)}}),_c('em',{domProps:{\"textContent\":_vm._s(_vm.formattedQuery)}}),_c('span',{domProps:{\"textContent\":_vm._s(_vm.formattedPost)}}),(!_vm.match.atTail)?_c('span',[_vm._v(\"...\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p class=\"match\">\r\n    <span v-if=\"!match.atHead\">...</span>\r\n    <span v-text=\"formattedPre\"/>\r\n    <em v-text=\"formattedQuery\"/>\r\n    <span v-text=\"formattedPost\"/>\r\n    <span v-if=\"!match.atTail\">...</span>\r\n  </p>\r\n</template>\r\n\r\n<script>\r\nimport trimEnd from 'lodash/trimEnd'\r\nimport trimStart from 'lodash/trimStart'\r\n\r\nexport default {\r\n  computed: {\r\n    formattedPre() {\r\n      return trimStart(this.match.pre).replace(/\\n/g, '  ')\r\n    },\r\n    formattedQuery() {\r\n      return this.match.query.replace(/\\n/g, '  ')\r\n    },\r\n    formattedPost() {\r\n      return trimEnd(this.match.post).replace(/\\n/g, '  ')\r\n    },\r\n  },\r\n  props: {\r\n    match: {\r\n      required: true,\r\n      type: Object,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.match {\r\n  line-height: 1.2em;\r\n  margin: 2px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./match.vue?vue&type=template&id=3b69e175&scoped=true&\"\nimport script from \"./match.vue?vue&type=script&lang=js&\"\nexport * from \"./match.vue?vue&type=script&lang=js&\"\nimport style0 from \"./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b69e175\",\n  null\n  \n)\n\ncomponent.options.__file = \"match.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"search\">\r\n      <h2>Document Search</h2>\r\n      <p>\r\n        Enter a partial word, full word or phrase and Edward will find all your chapters, outlines, plans and workshops\r\n        that match it.\r\n      </p>\r\n      <div class=\"search-box\">\r\n        <input \r\n          class=\"search-input\" \r\n          v-model=\"searchText\" \r\n          type=\"text\" \r\n          placeholder=\"Search text\"\r\n          @keyup.enter=\"search()\" \r\n          ref=\"searchInput\">\r\n        <button \r\n          class=\"button-green\" \r\n          @click=\"search()\">Search</button>\r\n      </div>\r\n      <transition \r\n        name=\"fade\" \r\n        mode=\"out-in\">\r\n        <div \r\n          class=\"results\" \r\n          v-if=\"!loading\" \r\n          key=\"results\">\r\n          <template v-if=\"hasResults\">\r\n            <hr>\r\n            <div class=\"filters\">\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-chapters\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showChapters\">\r\n                <label for=\"show-chapters\">Show Chapters</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-outlines\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showOutlines\">\r\n                <label for=\"show-outlines\">Show Outlines</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-plans\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showPlans\">\r\n                <label for=\"show-plans\">Show Plans</label>\r\n              </div>\r\n              <div class=\"filter\">\r\n                <input \r\n                  id=\"show-workshops\" \r\n                  type=\"checkbox\" \r\n                  v-model=\"filters.showWorkshops\">\r\n                <label for=\"show-workshops\">Show Workshops</label>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <div v-if=\"searched && !hasResults\">\r\n            <strong>No results found.</strong>\r\n          </div>\r\n          <div \r\n            class=\"result-set chapter-results\" \r\n            v-if=\"matches.chapters.length && filters.showChapters\">\r\n            <h3>Chapters</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"chapter in matches.chapters\" \r\n              :key=\"chapter.guid\">\r\n              <p class=\"result-title\">\r\n                <strong v-text=\"chapter.title\"/>\r\n                <router-link :to=\"'/write?chapter=' + chapter.guid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in chapter._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set outline-results\" \r\n            v-if=\"matches.outlines.length && filters.showOutlines\">\r\n            <h3>Outlines</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"topicMatch in matches.outlines\" \r\n              :key=\"topicMatch.chapterGuid + topicMatch.topicGuid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ topicMatch.chapterTitle }} | {{ topicMatch.topicTitle }}</strong>\r\n                <router-link :to=\"'/outline?chapter=' + topicMatch.chapterGuid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in topicMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set plan-results\" \r\n            v-if=\"matches.plans.length && filters.showPlans\">\r\n            <h3>Plans</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"sectionMatch in matches.plans\" \r\n              :key=\"sectionMatch.planGuid + sectionMatch.sectionGuid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ sectionMatch.planTitle }} | {{ sectionMatch.sectionTitle }}</strong>\r\n                <router-link :to=\"'/plan?plan=' + sectionMatch.planGuid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in sectionMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div \r\n            class=\"result-set workshop-results\" \r\n            v-if=\"matches.workshops.length && filters.showWorkshops\">\r\n            <h3>Workshops</h3>\r\n            <div \r\n              class=\"result\" \r\n              v-for=\"workshopMatch in matches.workshops\" \r\n              :key=\"workshopMatch.guid\">\r\n              <p class=\"result-title\">\r\n                <strong>{{ workshopMatch.title }}</strong>\r\n                <router-link :to=\"'/write?workshopName=' + workshopMatch.workshopName + '&workshop=' + workshopMatch.guid\">\r\n                  <button \r\n                    class=\"link-out\" \r\n                    v-html=\"linkSvg\"/>\r\n                </router-link>\r\n              </p>\r\n              <div \r\n                v-for=\"match in workshopMatch._matches\" \r\n                :key=\"match.index\">\r\n                <match :match=\"match\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div \r\n          class=\"loading\" \r\n          v-else \r\n          key=\"loading\">\r\n          <pulse-loader/>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetContentString, GetIndicesOf } from '../shared/deltaParser'\r\nimport Match from './match.vue'\r\nimport Octicons from 'octicons'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\n\r\nconst prePostChars = 40\r\n\r\nexport default {\r\n  components: {\r\n    Match,\r\n    PulseLoader,\r\n  },\r\n  computed: {\r\n    allChapters() {\r\n      return this.$store.state.chapters.chapters || []\r\n    },\r\n    allPlans() {\r\n      return this.$store.state.chapters.plans || []\r\n    },\r\n    allTopics() {\r\n      return this.$store.state.chapters.topics || []\r\n    },\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops || []\r\n    },\r\n    hasResults() {\r\n      return (\r\n        this.matches.chapters.length ||\r\n        this.matches.outlines.length ||\r\n        this.matches.plans.length ||\r\n        this.matches.workshops.length\r\n      )\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filters: {\r\n        showChapters: true,\r\n        showOutlines: true,\r\n        showPlans: true,\r\n        showWorkshops: true,\r\n      },\r\n      linkSvg: Octicons.link.toSVG({\r\n        height: 14,\r\n        width: 14,\r\n      }),\r\n      loading: false,\r\n      matches: {\r\n        chapters: [],\r\n        outlines: [],\r\n        plans: [],\r\n        workshops: [],\r\n      },\r\n      searched: false,\r\n      searchText: '',\r\n    }\r\n  },\r\n  methods: {\r\n    getMasterTopic(chapterTopic) {\r\n      return this.allTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    getMatchArray(fullText, indices, query) {\r\n      return indices.map((index) => {\r\n        const pre = fullText.slice(\r\n          Math.max(index - prePostChars, 0),\r\n          index,\r\n        )\r\n        const matched = fullText.slice(\r\n          index,\r\n          index + query.length,\r\n        )\r\n        const post = fullText.slice(\r\n          index + query.length,\r\n          index + query.length + prePostChars,\r\n        )\r\n\r\n        return {\r\n          atHead: (index - prePostChars) <= 0,\r\n          atTail: (index + query.length + prePostChars) >= (fullText.length - 1),\r\n          pre,\r\n          post,\r\n          index,\r\n          query: matched,\r\n        }\r\n      })\r\n    },\r\n    getMatchingChapters(query) {\r\n      return this.allChapters.map((chapter) => {\r\n        const fullText = GetContentString(chapter.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n        chapter._matches = this.getMatchArray(fullText, indices, query)\r\n        return chapter\r\n      }).filter(chapter => chapter._matches.length > 0 || chapter.title.toLowerCase().includes(query))\r\n    },\r\n    getMatchingOutlines(query) {\r\n      return this.allChapters.reduce((arr, chapter) => {\r\n        for (const key in chapter.topics) {\r\n          if (!chapter.topics.hasOwnProperty(key)) {\r\n            continue\r\n          }\r\n\r\n          const chapterTopic = chapter.topics[key]\r\n          const fullText = GetContentString(chapterTopic.content)\r\n          const indices = GetIndicesOf(query, fullText)\r\n          const masterTopic = this.getMasterTopic(chapterTopic)\r\n\r\n          arr.push({\r\n            _matches: this.getMatchArray(fullText, indices, query),\r\n            chapterGuid: chapter.guid,\r\n            chapterTitle: chapter.title,\r\n            topicGuid: chapterTopic.guid,\r\n            topicTitle: masterTopic.title,\r\n          })\r\n        }\r\n        return arr\r\n      }, []).filter(topicMatch => topicMatch._matches.length > 0 || topicMatch.topicTitle.toLowerCase().includes(query))\r\n    },\r\n    getMatchingPlans(query) {\r\n      return this.allPlans.reduce((arr, plan) => arr.concat(plan.sections.map((section) => {\r\n        const fullText = GetContentString(section.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n\r\n        return {\r\n          _matches: this.getMatchArray(fullText, indices, query),\r\n          planGuid: plan.guid,\r\n          planTitle: plan.title,\r\n          sectionGuid: section.guid,\r\n          sectionTitle: section.title,\r\n        }\r\n      })), []).filter(sectionMatch => sectionMatch._matches.length > 0 || sectionMatch.sectionTitle.toLowerCase().includes(query))\r\n    },\r\n    getMatchingWorkshops(query) {\r\n      const workshopsByGuid = this.allWorkshops.reduce((obj, workshop) => {\r\n        obj[workshop.guid] = obj[workshop.guid] || {\r\n          guid: workshop.guid,\r\n          title: workshop.title,\r\n          workshopName: workshop.workshopName,\r\n          _matches: [],\r\n        }\r\n        const workshopMatch = obj[workshop.guid]\r\n\r\n        const fullText = GetContentString(workshop.content)\r\n        const indices = GetIndicesOf(query, fullText)\r\n\r\n        workshopMatch._matches = workshopMatch._matches.concat(this.getMatchArray(fullText, indices, query))\r\n        return obj\r\n      }, {})\r\n\r\n      return Object.keys(workshopsByGuid).map(key => workshopsByGuid[key]).filter(workshopMatch => workshopMatch._matches.length > 0 || workshopMatch.title.toLowerCase().includes(query))\r\n    },\r\n    search() {\r\n      this.loading = true\r\n      this.searched = false\r\n      this.matches.chapters = this.getMatchingChapters(this.searchText.toLowerCase())\r\n      this.matches.outlines = this.getMatchingOutlines(this.searchText.toLowerCase())\r\n      this.matches.plans = this.getMatchingPlans(this.searchText.toLowerCase())\r\n      this.matches.workshops = this.getMatchingWorkshops(this.searchText.toLowerCase())\r\n      this.searched = true\r\n      this.loading = false\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$refs.searchInput.focus()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 100ms;\r\n}\r\n\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave, .fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.search {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.search-input {\r\n  font-size: 18px;\r\n  margin-bottom: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.result-set {\r\n  margin: 20px 0;\r\n}\r\n\r\n.result-set h3 {\r\n  border-left: 2px solid rgb(1,171,109);\r\n  padding-left: 8px;\r\n}\r\n\r\n.result {\r\n  margin-top: 8px;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 10px 0;\r\n}\r\n\r\n.filter:not(:last-of-type) {\r\n  margin-right: 20px;\r\n}\r\n\r\n.result-title {\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.link-out {\r\n  align-items: center;\r\n  border: none;\r\n  color: #444;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 20px;\r\n  padding: 0;\r\n  margin: 0 4px;\r\n}\r\n\r\n.loading {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.page.vue?vue&type=template&id=10533e1c&scoped=true&\"\nimport script from \"./search.page.vue?vue&type=script&lang=js&\"\nexport * from \"./search.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10533e1c\",\n  null\n  \n)\n\ncomponent.options.__file = \"search.page.vue\"\nexport default component.exports","import axios from 'axios'\r\n\r\nconst route = route => `/api/user/${route}`\r\n\r\nconst api = {\r\n  simpleGet(route) {\r\n    return axios.get(route).then(response => response.data)\r\n  },\r\n  simplePost(route, body) {\r\n    return axios.post(route, body).then(response => response.data)\r\n  },\r\n\r\n  getUser() {\r\n    return this.simpleGet(route('current'))\r\n  },\r\n  logOut() {\r\n    return this.simpleGet(route('logout'))\r\n  }\r\n}\r\n\r\nexport default api\r\n","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nimport NotFound from './NotFound.vue'\r\n\r\nimport Composer from './composer/composer.page.vue'\r\nimport DocumentEdit from './documentEdit/documentEdit.page.vue'\r\nimport Outliner from './outliner/outliner.page.vue'\r\nimport Planner from './planner/planner.page.vue'\r\nimport Search from './search/search.page.vue'\r\n\r\nimport userApi from './api/userApi'\r\nimport api from './api/api'\r\n\r\nVue.use(Router)\r\n\r\nconst assertPremium = () =>\r\n  userApi.getUser().then(user => {\r\n    if (user.isPremium) {\r\n      return true\r\n    }\r\n    throw new Error('Can\\'t access this route with a Dreamer account.')\r\n  })\r\n\r\nconst assertOnline = () =>\r\n  api.isOnline().then(\r\n    () => true,\r\n    () => {\r\n      throw new Error('Can\\'t access this route while offline.')\r\n    }\r\n  )\r\n\r\n/*\r\nWe can't use next(false) in any guard because there's no global hook that's called\r\n when navigation is cancelled. This would leave the app in a 'loading' state forever\r\n (see App.vue). Instead, we need to use next(error) to cancel navigation.\r\n*/\r\nconst compose = (...guards) =>\r\n  function(to, from, next) {\r\n    const guardPromises = guards.map(guard => guard())\r\n    Promise.all(guardPromises).then(\r\n      (...results) => {\r\n        const blocks = results.filter(res => res !== true)\r\n        if (blocks.length === 0) {\r\n          return next()\r\n        }\r\n\r\n        const nav = results.filter(res => typeof res === 'object')[0]\r\n        if (nav) {\r\n          return next(nav)\r\n        }\r\n\r\n        return next(new Error('Navigation was not allowed.'))\r\n      },\r\n      err => next(err)\r\n    )\r\n  }\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      redirect: '/write'\r\n    },\r\n    {\r\n      path: '/plan',\r\n      name: 'Plan',\r\n      component: Planner\r\n    },\r\n    {\r\n      path: '/outline',\r\n      name: 'Outline',\r\n      component: Outliner\r\n    },\r\n    {\r\n      path: '/write',\r\n      name: 'Write',\r\n      component: Composer\r\n    },\r\n    {\r\n      path: '/analyze',\r\n      name: 'Analyze',\r\n      component: () =>\r\n        import('./analyser/analyser.page.vue' /* webpackChunkName: \"analyser\" */),\r\n      beforeEnter: compose(assertOnline)\r\n    },\r\n    {\r\n      path: '/export',\r\n      name: 'Export',\r\n      component: () =>\r\n        import('./exporter/exporter.page.vue' /* webpackChunkName: \"exporter\" */),\r\n      beforeEnter: compose(assertOnline)\r\n    },\r\n    {\r\n      path: '/documentEdit',\r\n      name: 'Document Edit',\r\n      component: DocumentEdit\r\n    },\r\n    {\r\n      path: '/search',\r\n      name: 'Search',\r\n      component: Search\r\n    },\r\n    {\r\n      path: '/workshop/free-write',\r\n      name: 'Free Write',\r\n      component: () =>\r\n        import('./workshops/freeWrite.page.vue' /* webpackChunkName: \"w-free-write\" */),\r\n      beforeEnter: compose(\r\n        assertOnline,\r\n        assertPremium\r\n      )\r\n    },\r\n    {\r\n      path: '/workshop/novel-quickstart',\r\n      name: 'Novel Quickstart',\r\n      component: () =>\r\n        import('./workshops/novelQuickstart.page.vue' /* webpackChunkName: \"w-novel-quickstart\" */),\r\n      beforeEnter: compose(\r\n        assertOnline,\r\n        assertPremium\r\n      )\r\n    },\r\n    {\r\n      path: '/workshop/unblock',\r\n      name: 'Writer\\'s Unblock',\r\n      component: () =>\r\n        import('./workshops/writersUnblock.vue' /* webpackChunkName: \"w-writers-unblock\" */),\r\n      beforeEnter: compose(\r\n        assertOnline,\r\n        assertPremium\r\n      )\r\n    },\r\n    {\r\n      path: '/workshop/plot',\r\n      name: 'Plot Workshop',\r\n      component: () =>\r\n        import('./workshops/plotWorkshop.vue' /* webpackChunkName: \"w-plot-workshop\" */),\r\n      beforeEnter: compose(\r\n        assertOnline,\r\n        assertPremium\r\n      )\r\n    },\r\n    {\r\n      path: '/workshop/setting',\r\n      name: 'Setting Workshop',\r\n      component: () =>\r\n        import('./workshops/settingWorkshop.vue' /* webpackChunkName: \"w-setting-workshop\" */),\r\n      beforeEnter: compose(\r\n        assertOnline,\r\n        assertPremium\r\n      )\r\n    },\r\n    {\r\n      path: '*',\r\n      name: 'Page does not exist',\r\n      component: NotFound\r\n    }\r\n  ]\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('idle-watcher',[_c('transition',{attrs:{\"name\":\"wrapper\",\"mode\":\"out-in\"}},[(_vm.loaded && _vm.currentDocument && _vm.currentDocument.guid)?_c('div',{key:\"app\",staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('document-menu'),_c('div',{staticClass:\"app-header\"},[_c('div',{staticClass:\"logo-wrap\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../public/img/modal-logo@2x.png\")}})]),_c('div',{staticClass:\"app-header--menu\"},[_c('main-menu')],1)]),_c('div',{staticClass:\"page\"},[_c('transition',{attrs:{\"name\":\"wrapper\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)],1):(!_vm.loaded)?_c('div',{key:\"loading\",staticClass:\"loading\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../public/img/modal-logo.png\")}}),_c('pulse-loader')],1):_c('div',{key:\"wizard\",staticClass:\"page\"},[_c('wizard')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\"},[_c('document-picker')],1),_c('div',{staticClass:\"menu-item\"},[_c('router-link',{attrs:{\"to\":\"/documentEdit\"}},[_c('button',{staticClass:\"menu-button\"},[_vm._v(\"Edit\")])]),_c('router-link',{attrs:{\"to\":\"/export\"}},[_c('button',{staticClass:\"menu-button mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"Download / Upload\")])]),_c('hr',{staticClass:\"vert-flex\"}),_c('button',{staticClass:\"menu-button\",attrs:{\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.showWizard()}}},[_vm._v(\"New\")])],1),_c('div',{staticClass:\"spacer\"}),(_vm.notDemo)?_c('div',{staticClass:\"menu-item\"},[_c('a',{attrs:{\"href\":\"/auth#/account\"}},[_c('button',{staticClass:\"menu-button button-green mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"Upgrade\")])])]):_vm._e(),(!_vm.notDemo)?_c('div',{staticClass:\"menu-item\"},[_c('a',{attrs:{\"href\":\"/auth#/signup\"}},[_c('button',{staticClass:\"menu-button button-green mobile-hide\",attrs:{\"disabled\":!_vm.isOnline}},[_vm._v(\"Upgrade\")])])]):_vm._e(),_c('div',{staticClass:\"menu-item\"},[_c('button',{staticClass:\"menu-button\",attrs:{\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.logOut()}}},[_vm._v(\"Log Out\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.documentValue),expression:\"documentValue\"}],staticClass:\"document-dropdown\",attrs:{\"disabled\":!_vm.isOnline},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.documentValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.changeDocument]}},[(!_vm.currentDocument)?_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"No document selected\")]):_vm._e(),_vm._l((_vm.allDocuments),function(document){return _c('option',{key:document.guid,domProps:{\"value\":document.guid}},[_vm._v(\"\\n    \"+_vm._s(document.name)+\"\\n  \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <select \r\n    class=\"document-dropdown\" \r\n    v-model=\"documentValue\" \r\n    @change=\"changeDocument\" \r\n    :disabled=\"!isOnline\">\r\n    <option \r\n      v-if=\"!currentDocument\" \r\n      value=\"\">No document selected</option>\r\n    <option \r\n      v-for=\"document in allDocuments\" \r\n      :key=\"document.guid\" \r\n      :value=\"document.guid\">\r\n      {{ document.name }}\r\n    </option>\r\n  </select>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api'\r\nimport { CHANGE_DOCUMENT } from './document.store'\r\nimport { Statuses, SET_STATUS_OFFLINE } from './status.store'\r\n\r\nexport default {\r\n  computed: {\r\n    allDocuments() {\r\n      return this.$store.state.document.ownedDocuments\r\n    },\r\n    currentDocument() {\r\n      return this.$store.state.document.currentDocument\r\n    },\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      documentValue: '',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.documentValue = this.currentDocument ? this.currentDocument.guid : ''\r\n  },\r\n  methods: {\r\n    changeDocument() {\r\n      api.isOnline().then(() => {\r\n        const document = this.allDocuments.find(doc => doc.guid === this.documentValue)\r\n\r\n        if (!document || (this.currentDocument && (document.guid === this.currentDocument.guid))) {\r\n          return\r\n        }\r\n\r\n        this.$store.dispatch(CHANGE_DOCUMENT, document)\r\n      }, () => {\r\n        this.$store.commit(SET_STATUS_OFFLINE)\r\n        this.documentValue = this.currentDocument.guid\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.document-dropdown {\r\n  background-color: #777;\r\n  color: #FFF;\r\n  font-size: 14px;\r\n  opacity: 1;\r\n  padding: 4px;\r\n}\r\n\r\n.document-dropdown[disabled] {\r\n  opacity: 0.5;\r\n}\r\n\r\n.document-dropdown /deep/ option {\r\n  background-color: #FFF;\r\n  color: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentPicker.vue?vue&type=template&id=6669ec1d&scoped=true&\"\nimport script from \"./documentPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./documentPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6669ec1d\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentPicker.vue\"\nexport default component.exports","<template>\r\n  <div class=\"menu\">\r\n    <div class=\"menu-item\">\r\n      <document-picker/>\r\n    </div>\r\n    <div class=\"menu-item\">\r\n      <router-link to=\"/documentEdit\">\r\n        <button class=\"menu-button\">Edit</button>\r\n      </router-link>\r\n      <router-link to=\"/export\">\r\n        <button \r\n          class=\"menu-button mobile-hide\" \r\n          :disabled=\"!isOnline\">Download / Upload</button>\r\n      </router-link>\r\n      <hr class=\"vert-flex\">\r\n      <button \r\n        class=\"menu-button\" \r\n        @click=\"showWizard()\" \r\n        :disabled=\"!isOnline\">New</button>\r\n    </div>\r\n    <div class=\"spacer\"/>\r\n    <div \r\n      class=\"menu-item\" \r\n      v-if=\"notDemo\">\r\n      <a href=\"/auth#/account\">\r\n        <button \r\n          class=\"menu-button button-green mobile-hide\" \r\n          :disabled=\"!isOnline\">Upgrade</button>\r\n      </a>\r\n    </div>\r\n    <div \r\n      class=\"menu-item\" \r\n      v-if=\"!notDemo\">\r\n      <a href=\"/auth#/signup\">\r\n        <button \r\n          class=\"menu-button button-green mobile-hide\" \r\n          :disabled=\"!isOnline\">Upgrade</button>\r\n      </a>\r\n    </div>\r\n    <div class=\"menu-item\">\r\n      <button \r\n        class=\"menu-button\" \r\n        @click=\"logOut()\" \r\n        :disabled=\"!isOnline\">Log Out</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DocumentPicker from './documentPicker.vue'\r\nimport { Statuses } from './status.store'\r\nimport swal from 'sweetalert'\r\nimport { UNLOAD_CURRENT_DOCUMENT } from './document.store'\r\nimport userApi from '../api/userApi'\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPicker\r\n  },\r\n  computed: {\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n    notDemo() {\r\n      return this.$store.state.user.user.accountType.name !== 'DEMO'\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    logOut() {\r\n      userApi.logOut().then(\r\n        () => {\r\n          window.location.href = '/auth'\r\n        },\r\n        () => {\r\n          swal({\r\n            icon: 'error',\r\n            text:\r\n              'Sorry, logout failed. If security is a concern, please clear your cookies and other browsing data and close your browser.'\r\n          })\r\n        }\r\n      )\r\n    },\r\n    showWizard() {\r\n      this.$store.dispatch(UNLOAD_CURRENT_DOCUMENT)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.menu {\r\n  align-items: center;\r\n  background-color: #444;\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 30px;\r\n  padding: 2px 30px;\r\n}\r\n\r\n.menu-item {\r\n  color: #fff;\r\n  margin: 3px 0;\r\n  margin-right: 20px;\r\n}\r\n\r\n.menu-button {\r\n  color: #fff;\r\n  margin: 0 2px;\r\n  padding: 3px 10px;\r\n}\r\n\r\n.spacer {\r\n  flex: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentMenu.vue?vue&type=template&id=38cc37e7&scoped=true&\"\nimport script from \"./documentMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./documentMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentMenu.vue?vue&type=style&index=0&id=38cc37e7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38cc37e7\",\n  null\n  \n)\n\ncomponent.options.__file = \"documentMenu.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.needsReload)?_c('div',{staticClass:\"page-wrap\",class:{ 'fade': _vm.fadeOn, 'hidden': _vm.needsReload },on:{\"&click\":function($event){_vm.resetIdleTime()},\"&mousemove\":function($event){_vm.resetIdleTime()},\"&scroll\":function($event){_vm.resetIdleTime()},\"&keypress\":function($event){_vm.resetIdleTime()}}},[_vm._t(\"default\")],2):_c('div',{staticClass:\"page-wrap\"},[_c('div',{staticClass:\"idle-page\"},[_c('div',{staticClass:\"idle-message\"},[_c('h4',[_vm._v(\"\\n        The page has been idle for over 30 minutes.\\n      \")]),_c('div',[_vm._v(\"\\n        If you've edited your work on another computer, you should reload the page in order to get your latest content.\\n        Otherwise, you may lose your changes.\\n      \")]),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"button-green reload-button\",on:{\"click\":function($event){_vm.reload()}}},[_vm._v(\"Reload\")]),_c('button',{staticClass:\"button-red cancel-button\",on:{\"click\":function($event){_vm.backToApp()}}},[_vm._v(\"Back to the app\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"page-wrap\" \r\n    :class=\"{ 'fade': fadeOn, 'hidden': needsReload }\" \r\n    v-if=\"!needsReload\"\r\n    @click.passive=\"resetIdleTime()\"\r\n    @mousemove.passive=\"resetIdleTime()\"\r\n    @scroll.passive=\"resetIdleTime()\"\r\n    @keypress.passive=\"resetIdleTime()\">\r\n    <slot/>\r\n  </div>\r\n  <div \r\n    class=\"page-wrap\" \r\n    v-else>\r\n    <div class=\"idle-page\">\r\n      <div class=\"idle-message\">\r\n        <h4>\r\n          The page has been idle for over 30 minutes.\r\n        </h4>\r\n        <div>\r\n          If you've edited your work on another computer, you should reload the page in order to get your latest content.\r\n          Otherwise, you may lose your changes.\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button \r\n            class=\"button-green reload-button\" \r\n            @click=\"reload()\">Reload</button>\r\n          <button \r\n            class=\"button-red cancel-button\" \r\n            @click=\"backToApp()\">Back to the app</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  computed: {\r\n    isPremium() {\r\n      return this.user.isPremium\r\n    },\r\n    user() {\r\n      return this.$store.state.user.user\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      fadeOn: false,\r\n      fadeTimeout: null,\r\n      idleTimeout: null,\r\n      needsReload: false,\r\n    }\r\n  },\r\n  methods: {\r\n    backToApp() {\r\n      this.needsReload = false\r\n      this.fadeOn = false\r\n      this.resetIdleTime()\r\n    },\r\n    goIdle() {\r\n      if (!this.isPremium) {\r\n        return\r\n      }\r\n\r\n      // Fade for 3 seconds\r\n      this.fadeTimeout = window.setTimeout(this.showIdlePage, 3 * 1000)\r\n      this.fadeOn = true\r\n    },\r\n    reload() {\r\n      window.location.reload()\r\n    },\r\n    resetIdleTime() {\r\n      if (!this.isPremium) {\r\n        return\r\n      }\r\n\r\n      this.fadeOn = false\r\n\r\n      if (this.idleTimeout) {\r\n        window.clearTimeout(this.idleTimeout)\r\n      }\r\n\r\n      if (this.fadeTimeout) {\r\n        window.clearTimeout(this.fadeTimeout)\r\n      }\r\n\r\n      // Go idle after 30 minutes\r\n      const wait = 30 * 60 * 1000\r\n      this.idleTimeout = window.setTimeout(this.goIdle, wait)\r\n    },\r\n    showIdlePage() {\r\n      this.needsReload = true\r\n    },\r\n  },\r\n  mounted() {\r\n    this.resetIdleTime()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-wrap {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  opacity: 1;\r\n  transition: opacity 2s;\r\n}\r\n\r\n.page-wrap.fade {\r\n  opacity: 0.1;\r\n}\r\n\r\n.page-wrap.hidden {\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n}\r\n\r\n.idle-page {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.idle-message {\r\n  margin-top: 60px;\r\n  max-width: 800px;\r\n  min-width: 300px;\r\n}\r\n\r\n.idle-message div {\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdleWatcher.vue?vue&type=template&id=46cd5d12&scoped=true&\"\nimport script from \"./IdleWatcher.vue?vue&type=script&lang=js&\"\nexport * from \"./IdleWatcher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46cd5d12\",\n  null\n  \n)\n\ncomponent.options.__file = \"IdleWatcher.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-menu\"},[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('offline-storage')],1),_vm._l((_vm.routes),function(route){return [_c('router-link',{key:route.name,attrs:{\"to\":(route.worksOffline || _vm.isOnline) ? route.location : '#'}},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"main-menu--button\",attrs:{\"title\":route.tooltip,\"disabled\":!route.worksOffline && !_vm.isOnline}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getIconSvg(route.icon))}}),_c('div',[_vm._v(_vm._s(route.name))])])]),_c('hr',{key:route.name + '-hr',staticClass:\"vert between mobile-hide\"})]}),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"main-menu--button\",attrs:{\"title\":_vm.toolsTooltip,\"disabled\":!_vm.isOnline},on:{\"click\":function($event){_vm.showWorkshops()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.getIconSvg('tools'))}}),_c('div',[_vm._v(\"Workshop\")])]),_c('div',{staticClass:\"spacer\"}),_c('status-signal'),_c('hr',{staticClass:\"vert mobile-hide\"}),_c('a',{staticClass:\"disguised mobile-hide\",attrs:{\"href\":_vm.isOnline ? '/auth#/account' : '#'}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"account\",class:{ 'offline': !_vm.isOnline },attrs:{\"title\":_vm.accountType.description}},[_c('div',{staticClass:\"email\"},[_vm._v(\"\\n        \"+_vm._s(_vm.email)+\"\\n      \")]),_c('div',{staticClass:\"account-type\"},[_vm._v(\"\\n        \"+_vm._s(_vm.accountType.displayName)+\"\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"workshopsModal\",staticClass:\"workshops\"},[(!_vm.isPremium)?_c('p',{staticClass:\"warn\"},[_vm._v(\"\\n        Workshops are only available for Author accounts.\\n      \")]):_vm._e(),_vm._l((_vm.workshops),function(workshop){return _c('div',{key:workshop.name,on:{\"click\":function($event){_vm.startWorkshop(workshop)}}},[_c('div',{staticClass:\"workshop\",class:{ 'restricted': !_vm.isPremium || !workshop.available }},[(!workshop.available)?_c('div',{staticClass:\"workshop-restricted\"},[_vm._v(\"\\n            COMING SOON\\n          \")]):_vm._e(),(workshop.available && !_vm.isPremium)?_c('div',{staticClass:\"workshop-restricted\"},[_vm._v(\"\\n            AUTHORS ONLY\\n          \")]):_vm._e(),_c('div',{staticClass:\"workshop-details\"},[_c('div',{staticClass:\"workshop-name\"},[_vm._v(\"\\n              \"+_vm._s(workshop.displayName)+\"\\n            \")]),_c('div',{staticClass:\"workshop-description\"},[_vm._v(\"\\n              \"+_vm._s(workshop.description)+\"\\n            \")])]),_vm._m(0,true)])])})],2)])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workshop-button\"},[_c('button',{staticClass:\"button-green\"},[_vm._v(\"\\n              Begin\\n            \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"chromePermissionModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Edward will work even when you don't have an Internet connection.\\n        To avoid data loss when offline, you need to grant app-level permissions on this device,\\n        including push notifications.\\n      \")]),_c('p',[_vm._v(\"\\n        Do you want to allow this?\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"standardPermissionModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Edward will work even when you don't have an Internet connection.\\n        To avoid data loss when offline, you need to give permission to store files on your system.\\n      \")]),_c('p',[_vm._v(\"\\n        Do you want to allow this?\\n      \")])])]),_c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{ref:\"permissionFailedModal\",staticClass:\"offline-storage\"},[_c('p',[_vm._v(\"\\n        Failed to get the required permissions. Edward may still work offline,\\n        but this could result in data loss.\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- Chrome permissions modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"chromePermissionModal\">\r\n        <p>\r\n          Edward will work even when you don't have an Internet connection.\r\n          To avoid data loss when offline, you need to grant app-level permissions on this device,\r\n          including push notifications.\r\n        </p>\r\n        <p>\r\n          Do you want to allow this?\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- Firefox/other permissions modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"standardPermissionModal\">\r\n        <p>\r\n          Edward will work even when you don't have an Internet connection.\r\n          To avoid data loss when offline, you need to give permission to store files on your system.\r\n        </p>\r\n        <p>\r\n          Do you want to allow this?\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- Permission failed modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"offline-storage\" \r\n        ref=\"permissionFailedModal\">\r\n        <p>\r\n          Failed to get the required permissions. Edward may still work offline,\r\n          but this could result in data loss.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from '../shared/cache'\r\nimport { detect } from 'detect-browser'\r\nimport swal from 'sweetalert'\r\n\r\nconst browser = detect()\r\nconst offlineModalSeen = new Cache('OFFLINE_MODAL_SEEN')\r\n\r\nfunction askPermission() {\r\n  return new Promise(((resolve, reject) => {\r\n    const permissionResult = Notification.requestPermission((result) => {\r\n      resolve(result)\r\n    })\r\n\r\n    if (permissionResult) {\r\n      permissionResult.then(resolve, reject)\r\n    }\r\n  }))\r\n    .then((permissionResult) => {\r\n      if (permissionResult !== 'granted') {\r\n        throw new Error('Push notification permission was not granted.')\r\n      }\r\n    })\r\n}\r\n\r\nexport default {\r\n  computed: {\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      allowsOffline: true,\r\n    }\r\n  },\r\n  methods: {\r\n    checkOfflineStorage() {\r\n      if (navigator.storage && navigator.storage.persisted) {\r\n        navigator.storage.persisted().then((persistent) => {\r\n          this.allowsOffline = persistent\r\n\r\n          const seen = offlineModalSeen.cacheGet()\r\n          if (!seen && this.isPremium && !persistent) {\r\n            this.promptForPermission()\r\n          }\r\n        })\r\n      }\r\n    },\r\n    chromePrompt() {\r\n      swal({\r\n        content: this.$refs.chromePermissionModal,\r\n        title: 'Offline Permissions',\r\n        buttons: {\r\n          cancel: 'No',\r\n          confirm: 'Yes',\r\n        },\r\n      }).then((allow) => {\r\n        offlineModalSeen.cacheSet(true)\r\n        if (allow) {\r\n          askPermission().then(() => navigator.storage.persist().then((persist) => {\r\n            this.allowsOffline = persist\r\n            if (!persist) {\r\n              throw new Error('Could not obtain persistent storage permissions.')\r\n            }\r\n          }), () => {\r\n            this.permissionFailed()\r\n          })\r\n        } else {\r\n          this.allowsOffline = false\r\n        }\r\n      })\r\n    },\r\n    permissionFailed() {\r\n      swal({\r\n        content: this.$refs.permissionFailedModal,\r\n        title: 'Permission not obtained',\r\n        icon: 'error',\r\n      })\r\n    },\r\n    promptForPermission() {\r\n      if (browser && browser.name === 'chrome') {\r\n        return this.chromePrompt()\r\n      }\r\n      return this.standardPrompt()\r\n    },\r\n    standardPrompt() {\r\n      swal({\r\n        content: this.$refs.standardPermissionModal,\r\n        title: 'Offline Permissions',\r\n        buttons: {\r\n          cancel: 'No',\r\n          confirm: 'Yes',\r\n        },\r\n      }).then((allow) => {\r\n        offlineModalSeen.cacheSet(true)\r\n        if (allow) {\r\n          navigator.storage.persist().then((persist) => {\r\n            this.allowsOffline = persist\r\n            if (!persist) {\r\n              this.permissionFailed()\r\n            }\r\n          })\r\n        } else {\r\n          this.allowsOffline = false\r\n        }\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkOfflineStorage()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./offlineStorage.vue?vue&type=template&id=1739da34&scoped=true&\"\nimport script from \"./offlineStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./offlineStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1739da34\",\n  null\n  \n)\n\ncomponent.options.__file = \"offlineStorage.vue\"\nexport default component.exports","<template>\r\n  <div \r\n    class=\"status-wrap\" \r\n    v-if=\"!isDemo\">\r\n    <div class=\"status\">\r\n      <div \r\n        class=\"status-saving\" \r\n        :class=\"{ 'show': isSaving }\">\r\n        Saving...\r\n      </div>\r\n      <div \r\n        class=\"status-saved\" \r\n        :class=\"{ 'show': !isSaving && saved }\">\r\n        Saved <span v-html=\"savedIcon\"/>\r\n      </div>\r\n      <div \r\n        class=\"status-error\" \r\n        :class=\"{ 'show': !isSaving && saveError }\"\r\n        :title=\"saveErrorText\" \r\n        v-tooltip=\"{ enabled: !isSaving && saveError }\">\r\n        Error <span v-html=\"errorIcon\"/>\r\n      </div>\r\n      <div \r\n        class=\"status-offline\" \r\n        :class=\"{ 'show': !isSaving && offline }\"\r\n        :title=\"offlineText\" \r\n        v-tooltip=\"{ enabled: !isSaving && offline }\" \r\n        ref=\"offlineStatus\">\r\n        Offline <span v-html=\"offlineIcon\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api'\r\nimport Octicons from 'octicons'\r\nimport { Statuses, SET_STATUS_DONE, SET_STATUS_OFFLINE } from './status.store'\r\nimport tooltip from './tooltip.directive'\r\n\r\nlet offlineInterval\r\n\r\nexport default {\r\n  created() {\r\n    this.checkOffline()\r\n    offlineInterval = setInterval(this.checkOffline, 15 * 1000)\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(offlineInterval)\r\n  },\r\n  computed: {\r\n    accountType() {\r\n      return this.$store.state.user.user.accountType || {}\r\n    },\r\n    isDemo() {\r\n      return this.accountType.name === 'DEMO'\r\n    },\r\n    offline() {\r\n      return this.$store.state.status.status === Statuses.OFFLINE\r\n    },\r\n    saved() {\r\n      return this.$store.state.status.status === Statuses.SAVED\r\n    },\r\n    saving() {\r\n      return this.$store.state.status.status === Statuses.SAVING\r\n    },\r\n    saveError() {\r\n      return this.$store.state.status.status === Statuses.ERROR\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      errorIcon: Octicons.alert.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      isSaving: false,\r\n      offlineIcon: Octicons.plug.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      offlineText:\r\n        'No internet connection is available. Your work is saved locally. ' +\r\n        'To avoid losing work, don\\'t edit this document on any other device until the connection is restored.',\r\n      saveErrorText: 'An error has occurred. Your work may not be saved.',\r\n      savedIcon: Octicons.check.toSVG({\r\n        height: 15,\r\n        width: 15,\r\n      }),\r\n      savingDebouncer: window.setTimeout(() => {}),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  methods: {\r\n    checkOffline() {\r\n      api.isOnline().then(() => {\r\n        this.$store.commit(SET_STATUS_DONE)\r\n      }, () => {\r\n        this.$store.commit(SET_STATUS_OFFLINE)\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    offline(isOffline, wasOffline) {\r\n      if (isOffline === wasOffline || !isOffline) {\r\n        return\r\n      }\r\n\r\n      const el = this.$refs.offlineStatus\r\n      if (!el._tippy) {\r\n        console.warn('Expected a Tippy.js instance on statusSignal')\r\n        return\r\n      }\r\n\r\n      setTimeout(() => {\r\n        el._tippy.show()\r\n      }, 1000)\r\n    },\r\n    // A bit of trickery to make the \"Saving\" indicator show for at least 500ms.\r\n    // This comforts me.\r\n    saving(saving) {\r\n      if (saving) {\r\n        this.isSaving = true\r\n      }\r\n\r\n      clearTimeout(this.savingDebouncer)\r\n      this.savingDebouncer = window.setTimeout(() => {\r\n        this.isSaving = this.saving\r\n      }, 500)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.status-wrap {\r\n  align-items: center;\r\n  display: flex;\r\n  font-size: 17px;\r\n  justify-content: center;\r\n  margin-right: 8px;\r\n}\r\n\r\n.status {\r\n  cursor: default;\r\n  height: 20px;\r\n  position: relative;\r\n  text-align: right;\r\n  width: 65px;\r\n}\r\n\r\n.status-saving {\r\n  color: rgb(255, 165, 0);\r\n  fill: rgb(255, 165, 0);\r\n}\r\n\r\n.status-saved {\r\n  color: rgb(1,171,109);\r\n  fill: rgb(1,171,109);\r\n}\r\n\r\n.status-error {\r\n  color: rgb(255, 0, 0);\r\n  fill: rgb(255, 0, 0);\r\n}\r\n\r\n.status-offline {\r\n  color: rgb(47, 79, 79);\r\n  fill: rgb(47, 79, 79);\r\n}\r\n\r\n.status-saving, .status-saved, .status-error, .status-offline {\r\n  cursor: default;\r\n  opacity: 0;\r\n  position: absolute;\r\n  transition: opacity 500ms;\r\n}\r\n\r\n.status-saving.show, .status-saved.show, .status-error.show, .status-offline.show {\r\n  opacity: 1;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isDemo)?_c('div',{staticClass:\"status-wrap\"},[_c('div',{staticClass:\"status\"},[_c('div',{staticClass:\"status-saving\",class:{ 'show': _vm.isSaving }},[_vm._v(\"\\n      Saving...\\n    \")]),_c('div',{staticClass:\"status-saved\",class:{ 'show': !_vm.isSaving && _vm.saved }},[_vm._v(\"\\n      Saved \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.savedIcon)}})]),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ enabled: !_vm.isSaving && _vm.saveError }),expression:\"{ enabled: !isSaving && saveError }\"}],staticClass:\"status-error\",class:{ 'show': !_vm.isSaving && _vm.saveError },attrs:{\"title\":_vm.saveErrorText}},[_vm._v(\"\\n      Error \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.errorIcon)}})]),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ enabled: !_vm.isSaving && _vm.offline }),expression:\"{ enabled: !isSaving && offline }\"}],ref:\"offlineStatus\",staticClass:\"status-offline\",class:{ 'show': !_vm.isSaving && _vm.offline },attrs:{\"title\":_vm.offlineText}},[_vm._v(\"\\n      Offline \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.offlineIcon)}})])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./statusSignal.vue?vue&type=template&id=7fe01412&scoped=true&\"\nimport script from \"./statusSignal.vue?vue&type=script&lang=js&\"\nexport * from \"./statusSignal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./statusSignal.vue?vue&type=style&index=0&id=7fe01412&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fe01412\",\n  null\n  \n)\n\ncomponent.options.__file = \"statusSignal.vue\"\nexport default component.exports","<template>\r\n  <div class=\"main-menu\">\r\n    <div style=\"display:none\">\r\n      <offline-storage/>\r\n    </div>\r\n    <template v-for=\"route in routes\">\r\n      <router-link \r\n        :to=\"(route.worksOffline || isOnline) ? route.location : '#'\" \r\n        :key=\"route.name\">\r\n        <button \r\n          class=\"main-menu--button\" \r\n          :title=\"route.tooltip\" \r\n          v-tooltip \r\n          :disabled=\"!route.worksOffline && !isOnline\">\r\n          <div v-html=\"getIconSvg(route.icon)\"/>\r\n          <div>{{ route.name }}</div>\r\n        </button>\r\n      </router-link>\r\n      <hr \r\n        class=\"vert between mobile-hide\" \r\n        :key=\"route.name + '-hr'\">\r\n    </template>\r\n    <button \r\n      class=\"main-menu--button\" \r\n      :title=\"toolsTooltip\" \r\n      v-tooltip \r\n      @click=\"showWorkshops()\" \r\n      :disabled=\"!isOnline\">\r\n      <div v-html=\"getIconSvg('tools')\"/>\r\n      <div>Workshop</div>\r\n    </button>\r\n    <div class=\"spacer\"/>\r\n    <status-signal/>\r\n    <hr class=\"vert mobile-hide\">\r\n    <a \r\n      class=\"disguised mobile-hide\" \r\n      :href=\"isOnline ? '/auth#/account' : '#'\">\r\n      <div \r\n        class=\"account\" \r\n        :class=\"{ 'offline': !isOnline }\" \r\n        :title=\"accountType.description\" \r\n        v-tooltip>\r\n        <div class=\"email\">\r\n          {{ email }}\r\n        </div>\r\n        <div class=\"account-type\">\r\n          {{ accountType.displayName }}\r\n        </div>\r\n      </div>\r\n    </a>\r\n    <!-- Workshops modal -->\r\n    <div style=\"display: none\">\r\n      <div \r\n        class=\"workshops\" \r\n        ref=\"workshopsModal\">\r\n        <p \r\n          v-if=\"!isPremium\" \r\n          class=\"warn\">\r\n          Workshops are only available for Author accounts.\r\n        </p>\r\n        <div \r\n          v-for=\"workshop in workshops\" \r\n          :key=\"workshop.name\" \r\n          @click=\"startWorkshop(workshop)\">\r\n          <div \r\n            class=\"workshop\" \r\n            :class=\"{ 'restricted': !isPremium || !workshop.available }\">\r\n            <div \r\n              class=\"workshop-restricted\" \r\n              v-if=\"!workshop.available\">\r\n              COMING SOON\r\n            </div>\r\n            <div \r\n              class=\"workshop-restricted\" \r\n              v-if=\"workshop.available && !isPremium\">\r\n              AUTHORS ONLY\r\n            </div>\r\n            <div class=\"workshop-details\">\r\n              <div class=\"workshop-name\">\r\n                {{ workshop.displayName }}\r\n              </div>\r\n              <div class=\"workshop-description\">\r\n                {{ workshop.description }}\r\n              </div>\r\n            </div>\r\n            <div class=\"workshop-button\">\r\n              <button class=\"button-green\">\r\n                Begin\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Octicons from 'octicons'\r\nimport OfflineStorage from '../offlineStorage/offlineStorage.vue'\r\nimport { Statuses } from './status.store'\r\nimport StatusSignal from './statusSignal.vue'\r\nimport swal from 'sweetalert'\r\nimport tooltip from './tooltip.directive'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nexport default {\r\n  components: {\r\n    OfflineStorage,\r\n    StatusSignal,\r\n  },\r\n  computed: {\r\n    accountType() {\r\n      return this.$store.state.user.user.accountType || {}\r\n    },\r\n    email() {\r\n      return this.$store.state.user.user.email || ''\r\n    },\r\n    isOnline() {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      routes: [{\r\n        icon: 'telescope',\r\n        location: '/plan',\r\n        name: 'Plan',\r\n        tooltip: 'Make general notes about characters, topics, settings, and more.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'list-unordered',\r\n        location: '/outline',\r\n        name: 'Outline',\r\n        tooltip: 'Create and organize chapters and chapter-specific notes.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'pencil',\r\n        location: '/write',\r\n        name: 'Write',\r\n        tooltip: 'Write, search and measure your content.',\r\n        worksOffline: true,\r\n      }, {\r\n        icon: 'pulse',\r\n        location: '/analyze',\r\n        name: 'Analyze',\r\n        tooltip: 'Get data-driven insights into your writing.',\r\n        worksOffline: false,\r\n      }, {\r\n        icon: 'search',\r\n        location: '/search',\r\n        name: 'Search',\r\n        tooltip: 'Search your entire document for a word or phrase.',\r\n        worksOffline: true,\r\n      }],\r\n      toolsTooltip: 'Workshop your novel with free or prompted writing exercises.',\r\n      workshops: Object.keys(writingWorkshops).map(key => writingWorkshops[key]),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  methods: {\r\n    getIconSvg(iconName) {\r\n      return Octicons[iconName].toSVG({\r\n        class: 'main-menu--icon',\r\n        height: 25,\r\n        width: 25,\r\n      })\r\n    },\r\n    showWorkshops() {\r\n      swal({\r\n        content: this.$refs.workshopsModal,\r\n        title: 'Workshops',\r\n        buttons: {\r\n          cancel: true,\r\n        },\r\n      })\r\n    },\r\n    startWorkshop(workshop) {\r\n      if (!this.isPremium || !workshop.available) {\r\n        return\r\n      }\r\n\r\n      swal.close()\r\n      this.$router.push(workshop.route)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main-menu {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n}\r\n\r\n.main-menu--button {\r\n  background-color: transparent;\r\n  border: none;\r\n  color: #777;\r\n  height: 100%;\r\n  margin-bottom: 2px;\r\n  margin-top: 2px;\r\n  padding: 6px 20px;\r\n  transition: color 100ms ease-in-out;\r\n}\r\n\r\n.main-menu--button:not([disabled]):hover {\r\n  color: #000;\r\n}\r\n\r\n@media (max-width: 800px) {\r\n  .main-menu--button {\r\n    padding: 6px 10px;\r\n  }\r\n}\r\n\r\n.router-link-active > .main-menu--button {\r\n  color: #000;\r\n}\r\n\r\nhr.between:last-of-type {\r\n  display: none;\r\n}\r\n\r\n.spacer {\r\n  flex: 1;\r\n}\r\n\r\n.account {\r\n  color: inherit;\r\n  cursor: pointer;\r\n  margin-left: 8px;\r\n  opacity: 1;\r\n  text-decoration: none;\r\n}\r\n\r\n.account.offline {\r\n  cursor: default;\r\n  opacity: 0.5;\r\n}\r\n\r\n.email {\r\n  color: rgb(13, 91, 166);\r\n  font-size: 14px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.account-type {\r\n  color: rgb(13, 91, 166);\r\n  font-size: 14px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.warn {\r\n  color: red;\r\n}\r\n\r\n.workshop {\r\n  align-items: center;\r\n  border: 1px solid rgb(1, 171, 109);\r\n  color: #000;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  margin-bottom: 12px;\r\n  padding: 8px;\r\n  position: relative;\r\n  text-decoration: none;\r\n}\r\n\r\n.workshop.restricted {\r\n  cursor: default;\r\n}\r\n\r\n.workshop-restricted {\r\n  background-color: rgba(255, 255, 255, 0.85);\r\n  bottom: 0;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  left: 0;\r\n  padding-top: 5px;\r\n  position: absolute;\r\n  right: 0;\r\n  text-align: center;\r\n  top: 0;\r\n}\r\n\r\n.workshop-details {\r\n  align-items: flex-start;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n}\r\n\r\n.workshop-name {\r\n  font-size: 28px;\r\n  text-align: left;\r\n}\r\n\r\n.workshop-description {\r\n  font-size: 14px;\r\n  text-align: left;\r\n}\r\n\r\n.workshop-button {\r\n  margin-left: 12px;\r\n  padding: 8px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.main-menu--icon {\r\n  fill: #777;\r\n  transition: fill 100ms ease-in-out;\r\n}\r\n\r\n.main-menu--button:not([disabled]):hover .main-menu--icon {\r\n  fill: #000;\r\n}\r\n\r\n.router-link-active > .main-menu--button .main-menu--icon {\r\n  fill: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainMenu.vue?vue&type=template&id=e5f9dd86&scoped=true&\"\nimport script from \"./mainMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./mainMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mainMenu.vue?vue&type=style&index=0&id=e5f9dd86&scoped=true&lang=css&\"\nimport style1 from \"./mainMenu.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5f9dd86\",\n  null\n  \n)\n\ncomponent.options.__file = \"mainMenu.vue\"\nexport default component.exports","import userApi from '../api/userApi'\r\n\r\nexport const COMMIT_NEW_EMAIL = 'COMMIT_NEW_EMAIL'\r\nexport const SET_DEFAULT_USER = 'SET_DEFAULT_USER'\r\nexport const SET_USER = 'SET_USER'\r\nexport const SET_USER_PROMISE = 'SET_USER_PROMISE'\r\nexport const UPDATE_EMAIL = 'SET_USER_EMAIL'\r\nexport const UPDATE_PASSWORD = 'SET_USER_PASSWORD'\r\n\r\nconst defaultUser = {\r\n  accountType: {\r\n    description: 'Either your internet or our servers are down right now. Any work you do may be lost.',\r\n    displayName: 'Connectivity issues',\r\n    name: 'ERROR',\r\n  },\r\n  email: 'ERROR',\r\n  isPremium: false,\r\n  verified: true,\r\n}\r\n\r\nfunction setSentryUser(user) {\r\n  if (!window.Raven || typeof window.Raven.setUserContext !== 'function') {\r\n    return\r\n  }\r\n\r\n  window.Raven.setUserContext(user)\r\n}\r\n\r\n// We provide a userPromise from the beginning to prevent race conditions,\r\n//  which could be disastrous given that we store user data based on the\r\n//  user type. However, the actual user API call occurs later, so we allow\r\n//  deferred resolving of the original promise via SET_USER_PROMISE.\r\nlet userPromiseResolve\r\n\r\nconst store = {\r\n  state: {\r\n    // user { accountType accountType, email string, isPremium boolean }\r\n    // accountType { description string, displayName string, name string }\r\n    user: {},\r\n    // A promise that will resolve once the user API call has returned.\r\n    // It cannot be rejected.\r\n    userPromise: new Promise((resolve) => {\r\n      userPromiseResolve = resolve\r\n    }),\r\n  },\r\n  actions: {\r\n    [UPDATE_EMAIL]({ commit }, { email }) {\r\n      commit(COMMIT_NEW_EMAIL, { email })\r\n      return userApi.updateEmail(email)\r\n    },\r\n  },\r\n  mutations: {\r\n    [COMMIT_NEW_EMAIL](state, { email }) {\r\n      state.user.email = email\r\n    },\r\n    [SET_DEFAULT_USER](state) {\r\n      state.user = defaultUser\r\n      setSentryUser()\r\n    },\r\n    [SET_USER](state, user) {\r\n      state.user = user\r\n      setSentryUser(user)\r\n    },\r\n    [SET_USER_PROMISE](state, promise) {\r\n      promise.then((data) => {\r\n        userPromiseResolve(data)\r\n      }, (err) => {\r\n        console.error(err)\r\n        userPromiseResolve(null, err)\r\n      })\r\n    },\r\n    [UPDATE_PASSWORD](state, { password }) {\r\n      userApi.updatePassword(password)\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"content border-bottom\"},[(!_vm.hasDocuments)?_c('div',[_c('p',[_vm._v(\"You haven't created any documents yet.\")])]):_vm._e(),(_vm.hasDocuments)?_c('div',[_c('p',[_vm._v(\"Choose a saved document:\")]),_c('div',{staticClass:\"document-picker-wrap\"},[_c('document-picker')],1)]):_vm._e()]),_c('div',{staticClass:\"content\"},[_vm._m(1),_c('div',{staticClass:\"types\"},_vm._l((_vm.documentTypes),function(type){return _c('button',{key:type.name,staticClass:\"type\",class:{ 'selected': type === _vm.selectedType },on:{\"click\":function($event){_vm.selectDocument(type)}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(type.svg)}}),_c('div',[_vm._v(_vm._s(type.name))])])})),(_vm.selectedType)?[_c('div',{staticClass:\"title\"},[_c('label',{attrs:{\"for\":\"new-document-title\"}},[_vm._v(_vm._s(_vm.selectedType.name)+\" title:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],attrs:{\"id\":\"new-document-title\"},domProps:{\"value\":(_vm.title)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.createDocument()},\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('div',{staticClass:\"actions\"},[(_vm.saving)?_c('pulse-loader'):_vm._e(),(!_vm.saving)?_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.title},on:{\"click\":function($event){_vm.createDocument()}}},[_vm._v(\"\\n            Create\\n          \")]):_vm._e(),(_vm.error)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n            That didn't work. Please try again.\\n          \")]):_vm._e()],1)]:_vm._e()],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('p',[_c('strong',[_vm._v(\"Welcome to Edward.\")])]),_c('p',[_vm._v(\"\\n        New here? \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.youtube.com/watch?v=OvERL5CPPXM\"}},[_vm._v(\"Watch the introductory video.\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"Create a new document:\")])])}]\n\nexport { render, staticRenderFns }","const createType = (name, svg, plans, chapters, topics) => ({\r\n  name, svg, plans, chapters, topics,\r\n})\r\n\r\nconst NOVEL = createType(\r\n  'Novel',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M23 5v13.883l-1 .117v-16c-3.895.119-7.505.762-10.002 2.316-2.496-1.554-6.102-2.197-9.998-2.316v16l-1-.117v-13.883h-1v15h9.057c1.479 0 1.641 1 2.941 1 1.304 0 1.461-1 2.942-1h9.06v-15h-1zm-12 13.645c-1.946-.772-4.137-1.269-7-1.484v-12.051c2.352.197 4.996.675 7 1.922v11.613zm9-1.484c-2.863.215-5.054.712-7 1.484v-11.613c2.004-1.247 4.648-1.725 7-1.922v12.051z\"/></svg>',\r\n  ['Synopsis', 'Plot', 'Characters', 'Settings', 'Ideas'],\r\n  ['Introduction', 'Chapter 1'],\r\n  ['Events', 'Scenes', 'Conversations'],\r\n)\r\n\r\nconst ESSAY = createType(\r\n  'Essay',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z\"/></svg>',\r\n  ['Thesis Statement', 'Abstract', 'Research Notes', 'Ideas'],\r\n  ['Introduction', 'Part 1', 'Part 2', 'Part 3', 'Conclusion'],\r\n  ['Arguments', 'Counter-arguments', 'Citations'],\r\n)\r\n\r\nconst SCRIPT = createType(\r\n  'Script',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M22 1v2h-2v-2h-2v4h-12v-4h-2v2h-2v-2h-2v22h2v-2h2v2h2v-4h12v4h2v-2h2v2h2v-22h-2zm-18 18h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm14 9h-12v-8h12v8zm4 3h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2z\"/></svg>',\r\n  ['Synopsis', 'Plot', 'Dramatis Personae', 'Settings', 'Ideas'],\r\n  ['Opening', 'First Act', 'Second Act', 'Third Act', 'Denouement'],\r\n  ['Events', 'Scenes'],\r\n)\r\n\r\nconst BLANK = createType(\r\n  'Blank Document',\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 2v5h5v15h-16v-20h11zm1-2h-14v24h20v-18l-6-6z\"/></svg>',\r\n  [],\r\n  ['Chapter 1'],\r\n  [],\r\n)\r\n\r\nconst types = [NOVEL, ESSAY, SCRIPT, BLANK]\r\n\r\nexport default types\r\n","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"container\">\r\n      <div class=\"header\">\r\n        <p>\r\n          <strong>Welcome to Edward.</strong>\r\n        </p>\r\n        <p>\r\n          New here? <a \r\n            target=\"_blank\" \r\n            href=\"https://www.youtube.com/watch?v=OvERL5CPPXM\">Watch the introductory video.</a>\r\n        </p>\r\n      </div>\r\n      <div class=\"content border-bottom\">\r\n        <div v-if=\"!hasDocuments\">\r\n          <p>You haven't created any documents yet.</p>\r\n        </div>\r\n        <div v-if=\"hasDocuments\">\r\n          <p>Choose a saved document:</p>\r\n          <div class=\"document-picker-wrap\">\r\n            <document-picker/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div>\r\n          <p>Create a new document:</p>\r\n        </div>\r\n        <div class=\"types\">\r\n          <button \r\n            class=\"type\" \r\n            :class=\"{ 'selected': type === selectedType }\"\r\n            v-for=\"type in documentTypes\" \r\n            :key=\"type.name\"\r\n            @click=\"selectDocument(type)\">\r\n            <div v-html=\"type.svg\"/>\r\n            <div>{{ type.name }}</div>\r\n          </button>\r\n        </div>\r\n        <template v-if=\"selectedType\">\r\n          <div class=\"title\">\r\n            <label for=\"new-document-title\">{{ selectedType.name }} title:</label>\r\n            <input \r\n              id=\"new-document-title\" \r\n              v-model=\"title\" \r\n              @keyup.enter=\"createDocument()\">\r\n          </div>\r\n          <div class=\"actions\">\r\n            <pulse-loader v-if=\"saving\"/>\r\n            <button \r\n              v-if=\"!saving\" \r\n              class=\"button-green\" \r\n              @click=\"createDocument()\" \r\n              :disabled=\"!title\">\r\n              Create\r\n            </button>\r\n            <p \r\n              class=\"error\" \r\n              v-if=\"error\">\r\n              That didn't work. Please try again.\r\n            </p>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SET_UP_DOCUMENT } from '../shared/document.store'\r\nimport documentTypes from './documentTypes'\r\nimport DocumentPicker from '../shared/documentPicker.vue'\r\nimport guid from '../shared/guid'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPicker,\r\n    PulseLoader,\r\n  },\r\n  computed: {\r\n    hasDocuments() {\r\n      return this.$store.state.document.ownedDocuments.length > 0\r\n    },\r\n    isPremium() {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      documentTypes,\r\n      error: false,\r\n      saving: false,\r\n      selectedType: null,\r\n      title: '',\r\n    }\r\n  },\r\n  methods: {\r\n    createDocument() {\r\n      const type = this.selectedType\r\n      const name = this.title\r\n\r\n      if (!type || !name) {\r\n        return\r\n      }\r\n\r\n      const newDocument = {\r\n        guid: guid(),\r\n        name,\r\n      }\r\n\r\n      this.saving = true\r\n      this.error = false\r\n\r\n      this.$store.dispatch(SET_UP_DOCUMENT, { document: newDocument, type }).then(() => {\r\n        this.saving = false\r\n      }, () => {\r\n        this.error = true\r\n        this.saving = false\r\n      })\r\n    },\r\n    selectDocument(type) {\r\n      this.selectedType = type\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: block;\r\n  flex: 1;\r\n}\r\n\r\n.container {\r\n  background-color: #FFF;\r\n  border-radius: 3px;\r\n  box-shadow: 0px 0px 15px 2px rgba(136,136,136,1);\r\n  display: block;\r\n  flex: 1;\r\n  margin: 0 auto;\r\n  max-width: 800px;\r\n}\r\n\r\n.header {\r\n  border-bottom: 1px solid #CCC;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 75px;\r\n  justify-content: center;\r\n  padding: 0 12px;\r\n}\r\n\r\n.header /deep/ p {\r\n  margin: 0;\r\n}\r\n\r\n.header /deep/ a {\r\n  font-family: 'Khula', sans-serif;\r\n}\r\n\r\n.content {\r\n  padding: 12px;\r\n}\r\n\r\n.content /deep/ p {\r\n  margin: 0;\r\n}\r\n\r\n.border-bottom {\r\n  border-bottom: 1px solid #CCC;\r\n}\r\n\r\n.document-picker-wrap {\r\n  margin-top: 6px;\r\n}\r\n\r\n.types {\r\n  display: flex;\r\n  margin-top: 8px;\r\n}\r\n\r\n.type {\r\n  align-items: center;\r\n  background-color: #FFF;\r\n  border: 2px solid #CCC;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 90px;\r\n  justify-content: center;\r\n  margin-right: 6px;\r\n  transition: background-color 100ms;\r\n  padding: 8px;\r\n  width: 90px;\r\n}\r\n\r\n.type:hover {\r\n  background-color: #F0F0F0;\r\n}\r\n\r\n.type.selected {\r\n  background-color: #F0F0F0;\r\n  border-color: rgb(1,171,109);\r\n}\r\n\r\n.title {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 8px 0;\r\n  max-width: 500px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wizard.vue?vue&type=template&id=4ee53a14&scoped=true&\"\nimport script from \"./wizard.vue?vue&type=script&lang=js&\"\nexport * from \"./wizard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wizard.vue?vue&type=style&index=0&id=4ee53a14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ee53a14\",\n  null\n  \n)\n\ncomponent.options.__file = \"wizard.vue\"\nexport default component.exports","<template>\r\n  <idle-watcher>\r\n    <transition \r\n      name=\"wrapper\" \r\n      mode=\"out-in\">\r\n      <div \r\n        id=\"app\" \r\n        class=\"app\" \r\n        v-if=\"loaded && currentDocument && currentDocument.guid\" \r\n        key=\"app\">\r\n        <document-menu/>\r\n        <div class=\"app-header\">\r\n          <div class=\"logo-wrap\">\r\n            <img \r\n              class=\"logo\" \r\n              src=\"../../public/img/modal-logo@2x.png\">\r\n          </div>\r\n          <div class=\"app-header--menu\">\r\n            <main-menu/>\r\n          </div>\r\n        </div>\r\n        <div class=\"page\">\r\n          <transition \r\n            name=\"wrapper\" \r\n            mode=\"out-in\">\r\n            <router-view/>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n      <div \r\n        v-else-if=\"!loaded\" \r\n        class=\"loading\" \r\n        key=\"loading\">\r\n        <img \r\n          class=\"logo\" \r\n          src=\"../../public/img/modal-logo.png\">\r\n        <pulse-loader/>\r\n      </div>\r\n      <div \r\n        v-else \r\n        class=\"page\" \r\n        key=\"wizard\">\r\n        <wizard/>\r\n      </div>\r\n    </transition>\r\n  </idle-watcher>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './shared/cache'\r\nimport DocumentMenu from './shared/documentMenu.vue'\r\nimport IdleWatcher from './IdleWatcher.vue'\r\nimport { INIT_DOCUMENTS } from './shared/document.store'\r\nimport MainMenu from './shared/mainMenu.vue'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\nimport { SET_DEFAULT_USER, SET_USER, SET_USER_PROMISE } from './shared/user.store'\r\nimport userApi from './api/userApi'\r\nimport Wizard from './wizard/wizard.vue'\r\n\r\nconst userCache = new Cache('CURRENT_USER')\r\n\r\nexport default {\r\n  beforeCreate() {\r\n    const userPromise = userApi.getUser()\r\n    const safeUserPromise = userPromise.then((user) => {\r\n      if (!user.verified) {\r\n        window.location.href = '/auth#/verification'\r\n        return\r\n      }\r\n\r\n      userCache.cacheSet(user)\r\n      this.$store.commit(SET_USER, user)\r\n      return user\r\n    }, () => {\r\n      const cachedUser = userCache.cacheGet()\r\n      if (cachedUser) {\r\n        this.$store.commit(SET_USER, cachedUser)\r\n        return cachedUser\r\n      }\r\n\r\n      this.$store.commit(SET_DEFAULT_USER)\r\n      return this.$store.state.user.user\r\n    })\r\n\r\n    this.$store.commit(SET_USER_PROMISE, safeUserPromise)\r\n  },\r\n  created() {\r\n    this.$store.dispatch(INIT_DOCUMENTS).then(() => {\r\n      this.loaded = true\r\n    }, (err) => {\r\n      console.error(err)\r\n      this.loaded = true\r\n    })\r\n\r\n    let routeTransitionTimeout = null\r\n\r\n    this.$router.beforeEach((to, from, next) => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      routeTransitionTimeout = setTimeout(() => {\r\n        this.loaded = false\r\n      }, 800)\r\n      next()\r\n    })\r\n\r\n    this.$router.afterEach(() => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      this.loaded = true\r\n    })\r\n\r\n    this.$router.onError(() => {\r\n      clearTimeout(routeTransitionTimeout)\r\n      this.loaded = true\r\n    })\r\n  },\r\n  components: {\r\n    DocumentMenu,\r\n    IdleWatcher,\r\n    MainMenu,\r\n    PulseLoader,\r\n    Wizard,\r\n  },\r\n  computed: {\r\n    currentDocument() {\r\n      return this.$store.state.document.currentDocument\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper-enter-active, .wrapper-leave-active {\r\n  transition: opacity 50ms;\r\n}\r\n\r\n.wrapper-enter, .wrapper-leave-to {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.wrapper-enter-to, .wrapper-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n}\r\n\r\n.app-header {\r\n  background-color: #FFF;\r\n  box-shadow: 0 10px 20px rgba(0,0,0,0.09), 0 6px 6px rgba(0,0,0,0.11);\r\n  display: flex;\r\n  height: 60px;\r\n  width: 100%;\r\n  z-index: 50;\r\n}\r\n\r\n.app-header--menu {\r\n  display: flex;\r\n  flex: 1;\r\n  height: 100%;\r\n}\r\n\r\n.logo-wrap {\r\n  align-items: center;\r\n  color: #FFF;\r\n  display: flex;\r\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-size: 22px;\r\n  height: 100%;\r\n  justify-content: center;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n}\r\n\r\n.logo {\r\n  height: 28px;\r\n}\r\n\r\n@media (max-width: 800px) {\r\n  .logo-wrap {\r\n    padding-left: 12px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .logo-wrap .logo {\r\n    height: 14px;\r\n  }\r\n}\r\n\r\n.loading {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  width: 100vw;\r\n}\r\n\r\n.page {\r\n  display: flex;\r\n  flex: 1;\r\n  max-height: calc(100% - 62px);\r\n  overflow: auto;\r\n  padding: 14px 14px;\r\n}\r\n\r\n.tooltip {\r\n  color: #FFF;\r\n  cursor: default;\r\n  font-size: 16px;\r\n}\r\n\r\n.tooltip a {\r\n  color: #CCC;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=af5e5f44&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=af5e5f44&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af5e5f44\",\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import debounce from 'lodash/debounce'\r\nimport {\r\n  ADD_CHAPTER, ADD_PLAN, ADD_SECTION, ADD_TOPIC, ADD_TOPIC_TO_CHAPTER,\r\n  ARCHIVE_CHAPTER, ARCHIVE_PLAN, ARCHIVE_SECTION, ARCHIVE_TOPIC,\r\n  DELETE_CHAPTER, DELETE_PLAN, DELETE_SECTION, DELETE_TOPIC,\r\n  REARRANGE_CHAPTERS, REARRANGE_PLANS, REARRANGE_SECTIONS, REARRANGE_TOPICS,\r\n  RESTORE_CHAPTER, RESTORE_PLAN, RESTORE_SECTION, RESTORE_TOPIC,\r\n  UPDATE_CHAPTER, UPDATE_CHAPTER_CONTENT, UPDATE_PLAN,\r\n  UPDATE_SECTION, UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS,\r\n  UPDATE_TOPIC, UPDATE_TOPIC_CONTENT,\r\n} from '../shared/chapters.store'\r\n\r\nimport { ADD_DOCUMENT, REMOVE_OWNED_DOCUMENT, UPDATE_DOCUMENT_NAME } from '../shared/document.store'\r\n\r\nimport {\r\n  ADD_WORKSHOP, ARCHIVE_WORKSHOP, DELETE_WORKSHOP, RESTORE_WORKSHOP,\r\n  UPDATE_WORKSHOPS_CONTENT,\r\n} from '../shared/workshops.store'\r\n\r\nimport { getStorageApi } from './storageSwitch'\r\n\r\nconst mutations = {\r\n  addDocument: [ADD_DOCUMENT],\r\n  deleteChapter: [DELETE_CHAPTER],\r\n  deleteDocument: [REMOVE_OWNED_DOCUMENT],\r\n  deletePlan: [DELETE_PLAN],\r\n  deleteSection: [DELETE_SECTION],\r\n  deleteTopic: [DELETE_TOPIC],\r\n  deleteWorkshop: [DELETE_WORKSHOP],\r\n  rearrangeChapter: [REARRANGE_CHAPTERS],\r\n  rearrangePlan: [REARRANGE_PLANS],\r\n  rearrangeSection: [REARRANGE_SECTIONS],\r\n  rearrangeTopic: [REARRANGE_TOPICS],\r\n  updateChapter: [ADD_CHAPTER, ADD_TOPIC_TO_CHAPTER, ARCHIVE_CHAPTER,\r\n    RESTORE_CHAPTER, UPDATE_CHAPTER, UPDATE_CHAPTER_CONTENT,\r\n    UPDATE_TOPIC_CONTENT],\r\n  updateDocument: [UPDATE_DOCUMENT_NAME],\r\n  updatePlan: [ADD_PLAN, ARCHIVE_PLAN, RESTORE_PLAN, UPDATE_PLAN],\r\n  updateSection: [ADD_SECTION, ARCHIVE_SECTION, RESTORE_SECTION,\r\n    UPDATE_SECTION, UPDATE_SECTION_CONTENT, UPDATE_SECTION_TAGS],\r\n  updateTopic: [ADD_TOPIC, ARCHIVE_TOPIC,\r\n    RESTORE_TOPIC, UPDATE_TOPIC],\r\n  updateWorkshop: [ADD_WORKSHOP, ARCHIVE_WORKSHOP, RESTORE_WORKSHOP],\r\n  updateWorkshops: [UPDATE_WORKSHOPS_CONTENT],\r\n}\r\n\r\nlet debouncedUpdateChapter = null\r\nlet chapterStorage = null\r\n\r\nconst getDebouncedUpdateChapter = () => {\r\n  if (!debouncedUpdateChapter) {\r\n    debouncedUpdateChapter = debounce((...args) => {\r\n      chapterStorage.updateChapter(...args)\r\n    }, 50)\r\n  }\r\n\r\n  return debouncedUpdateChapter\r\n}\r\n\r\nexport const chapterAutosaverPlugin = (store) => {\r\n  store.subscribe((mutation, state) => {\r\n    // Make sure we know the user type before handling mutations\r\n    state.user.userPromise.then((user) => {\r\n      getStorageApi(user).then((storage) => {\r\n        chapterStorage = storage\r\n        handleMutation(mutation, state, storage, getDebouncedUpdateChapter())\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\nfunction handleMutation(mutation, state, storage, debouncedUpdateChapter) {\r\n  const { type, payload } = mutation\r\n  const documentGuid = state.document.currentDocument && state.document.currentDocument.guid\r\n\r\n  if (mutations.addDocument.includes(type)) {\r\n    storage.addDocument(payload)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteDocument.includes(type)) {\r\n    storage.deleteDocument(payload.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateDocument.includes(type)) {\r\n    storage.updateDocument(payload)\r\n    return\r\n  }\r\n\r\n  if (!documentGuid) {\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteChapter.includes(type)) {\r\n    storage.deleteChapter(documentGuid, payload.chapter.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deletePlan.includes(type)) {\r\n    storage.deletePlan(documentGuid, payload.plan.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteSection.includes(type)) {\r\n    storage.deleteSection(documentGuid, payload.plan.guid, payload.section.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteTopic.includes(type)) {\r\n    storage.deleteTopic(documentGuid, payload.topic.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.deleteWorkshop.includes(type)) {\r\n    storage.deleteWorkshop(documentGuid, payload.workshop.guid)\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeChapter.includes(type)) {\r\n    storage.arrangeChapters(documentGuid, payload.chapters.map(chapter => chapter.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangePlan.includes(type)) {\r\n    storage.arrangePlans(documentGuid, payload.plans.map(plan => plan.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeSection.includes(type)) {\r\n    storage.arrangeSections(documentGuid, payload.plan.guid, payload.sections.map(section => section.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.rearrangeTopic.includes(type)) {\r\n    storage.arrangeTopics(documentGuid, payload.topics.map(topic => topic.guid))\r\n    return\r\n  }\r\n\r\n  if (mutations.updateChapter.includes(type)) {\r\n    debouncedUpdateChapter(documentGuid, payload.chapter.guid, payload.chapter)\r\n    return\r\n  }\r\n\r\n  if (mutations.updatePlan.includes(type)) {\r\n    storage.updatePlan(documentGuid, payload.plan.guid, payload.plan)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateSection.includes(type)) {\r\n    storage.updateSection(documentGuid, payload.plan.guid, payload.section.guid, payload.section)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateTopic.includes(type)) {\r\n    storage.updateTopic(documentGuid, payload.topic.guid, payload.topic)\r\n    return\r\n  }\r\n\r\n  if (mutations.updateWorkshop.includes(type)) {\r\n    storage.updateWorkshops(documentGuid, [payload.workshop])\r\n  }\r\n\r\n  if (mutations.updateWorkshops.includes(type)) {\r\n    storage.updateWorkshops(documentGuid, payload.workshopUpdates.map(update => update.workshop))\r\n  }\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport { chapterAutosaverPlugin } from './app/api/chapters.persist'\r\nimport composer from './app/composer/composer.store.js'\r\nimport chapters from './app/shared/chapters.store.js'\r\nimport document from './app/shared/document.store.js'\r\nimport status from './app/shared/status.store'\r\nimport user from './app/shared/user.store'\r\nimport workshop from './app/shared/workshops.store'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    composer,\r\n    chapters,\r\n    document,\r\n    status,\r\n    user,\r\n    workshop,\r\n  },\r\n  plugins: [chapterAutosaverPlugin],\r\n})\r\n\r\nexport default store\r\n","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport Raven from 'raven-js'\r\nimport RavenVue from 'raven-js/plugins/vue'\r\n\r\nimport router from './app/router'\r\nimport App from './app/App.vue'\r\n\r\nimport './assets/yui-cssreset.css'\r\nimport 'tippy.js/dist/tippy.css'\r\n\r\nimport './main.css'\r\nimport store from './store'\r\n\r\nif (window && window.isProd === true) {\r\n  Raven\r\n    .config('https://1deaeecd96244297ad475854be0d5502@sentry.io/540818')\r\n    .addPlugin(RavenVue, Vue)\r\n    .install()\r\n\r\n  window.Raven = Raven\r\n}\r\n\r\nVue.config.productionTip = false\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/service-worker.js').then((registration) => {\r\n      console.log('SW registered: ', registration)\r\n    }).catch((registrationError) => {\r\n      console.log('SW registration failed: ', registrationError)\r\n    })\r\n  })\r\n}\r\n\r\n/* eslint-disable no-new */\r\nexport default new Vue({\r\n  el: '#app',\r\n  components: { App },\r\n  router,\r\n  store,\r\n  render(h) {\r\n    return h('App')\r\n  },\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"container\",staticClass:\"editor\"},[_c('div',{ref:\"editor\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.emitDone($event)}}})]),(_vm.showFullScreen)?_c('div',[_c('quill-full-screen',{attrs:{\"content\":_vm.content,\"content-id\":_vm.contentId},on:{\"close\":function($event){_vm.hideFullScreen()},\"update:content\":_vm.emitFullscreenContent,\"update:selection\":_vm.emitSelection}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Octicons from 'octicons'\r\nimport Quill from 'quill'\r\nimport 'quill/dist/quill.snow.css'\r\nimport tooltip from './tippyBuilder'\r\n\r\nconst toolbarOptions = [[\r\n  { header: [1, 2, 3, false] },\r\n], [\r\n  'bold', 'italic', 'underline', 'strike',\r\n], [\r\n  { list: 'ordered' }, { list: 'bullet' },\r\n], [\r\n  'blockquote',\r\n], [\r\n  'clean',\r\n]]\r\n\r\nconst allowedFormats = [\r\n  'header',\r\n  'size',\r\n  'bold',\r\n  'italic',\r\n  'underline',\r\n  'strike',\r\n  'list',\r\n  'blockquote',\r\n]\r\n\r\nconst createQuill = (el, placeholder, container, onFullScreen) => {\r\n  const tempToolbar = [...toolbarOptions]\r\n  const handlers = {}\r\n  if (onFullScreen) {\r\n    tempToolbar.push(['fullscreen'])\r\n    handlers.fullscreen = onFullScreen\r\n  }\r\n\r\n  const quill = new Quill(el, {\r\n    bounds: container,\r\n    formats: allowedFormats,\r\n    modules: {\r\n      toolbar: {\r\n        container: tempToolbar,\r\n        handlers,\r\n      },\r\n    },\r\n    placeholder,\r\n    theme: 'snow',\r\n  })\r\n\r\n  if (onFullScreen) {\r\n    const fullScreenSvg = Octicons['device-desktop'].toSVG({\r\n      height: 30,\r\n    })\r\n    const fullScreenButton = container.querySelector('.ql-fullscreen')\r\n    fullScreenButton.title = 'Full-screen writing mode'\r\n    fullScreenButton.innerHTML = fullScreenSvg\r\n\r\n    tooltip({\r\n      distance: 10,\r\n      el: fullScreenButton,\r\n      interactive: false,\r\n      position: 'top',\r\n    })\r\n  }\r\n\r\n  return quill\r\n}\r\n\r\nexport default createQuill\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full-screen-wrap full-screen\"},[_c('div',{staticClass:\"actions\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isWideView),expression:\"!isWideView\"},{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"action wide-view\",attrs:{\"title\":\"Wide view\"},domProps:{\"innerHTML\":_vm._s(_vm.wideSvg)},on:{\"click\":function($event){_vm.showWideView()}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isWideView),expression:\"isWideView\"},{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"action narrow-view\",attrs:{\"title\":\"Book-width view\"},domProps:{\"innerHTML\":_vm._s(_vm.narrowSvg)},on:{\"click\":function($event){_vm.showNarrowView()}}}),_c('button',{staticClass:\"action close\",domProps:{\"innerHTML\":_vm._s(_vm.exitSvg)},on:{\"click\":function($event){_vm.close()}}})]),_c('div',{ref:\"container\",staticClass:\"container\",class:{ 'wide': _vm.isWideView }},[_c('div',{ref:\"editor\",staticClass:\"editor\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"full-screen-wrap full-screen\">\r\n    <div class=\"actions\">\r\n      <button \r\n        v-show=\"!isWideView\" \r\n        class=\"action wide-view\" \r\n        v-html=\"wideSvg\" \r\n        @click=\"showWideView()\"\r\n        title=\"Wide view\" \r\n        v-tooltip/>\r\n      <button \r\n        v-show=\"isWideView\" \r\n        class=\"action narrow-view\" \r\n        v-html=\"narrowSvg\" \r\n        @click=\"showNarrowView()\"\r\n        title=\"Book-width view\" \r\n        v-tooltip/>\r\n      <button \r\n        class=\"action close\" \r\n        v-html=\"exitSvg\" \r\n        @click=\"close()\"/>\r\n    </div>\r\n    <div \r\n      class=\"container\" \r\n      :class=\"{ 'wide': isWideView }\" \r\n      ref=\"container\">\r\n      <div \r\n        class=\"editor\" \r\n        ref=\"editor\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cache from './cache'\r\nimport createQuill from './quillBuilder'\r\nimport debounce from 'lodash/debounce'\r\nimport Octicons from 'octicons'\r\nimport tooltip from './tooltip.directive'\r\n\r\nconst width = new Cache('FULL_SCREEN_EDITOR_WIDTH')\r\n\r\nexport default {\r\n  beforeDestroy() {\r\n    this.handlers.forEach(([name, fn]) => this.quill.off(name, fn))\r\n  },\r\n  data() {\r\n    return {\r\n      exitSvg: Octicons.x.toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      handlers: [],\r\n      isWideView: false,\r\n      narrowSvg: Octicons['screen-normal'].toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n      quill: null,\r\n      wideSvg: Octicons['screen-full'].toSVG({\r\n        height: 30,\r\n        width: 30,\r\n      }),\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip,\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('close')\r\n    },\r\n    emitContent(content, contentId) {\r\n      this.$emit('update:content', { content, contentId })\r\n    },\r\n    emitSelection(selection) {\r\n      this.$emit('update:selection', selection)\r\n    },\r\n    listenQuill(quill) {\r\n      const textChanged = debounce((content, contentId) => {\r\n        this.emitContent(content, contentId)\r\n      }, 750, { maxWait: 2000 })\r\n\r\n      const onTextChange = () => {\r\n        const content = quill.getContents()\r\n        const contentId = this.contentId\r\n        textChanged(content, contentId)\r\n      }\r\n\r\n      const onSelectionChange = debounce((range) => {\r\n        if (!range) {\r\n          return\r\n        }\r\n\r\n        let selection\r\n        if (!range.length) {\r\n          selection = {\r\n            range: null,\r\n            text: '',\r\n          }\r\n        } else {\r\n          selection = {\r\n            range,\r\n            text: quill.getText(range.index, range.length),\r\n          }\r\n        }\r\n\r\n        this.emitSelection(selection)\r\n      }, 500)\r\n\r\n      quill.on('text-change', onTextChange)\r\n      quill.on('selection-change', onSelectionChange)\r\n\r\n      this.handlers.push(['text-change', onTextChange], ['selection-change', onSelectionChange])\r\n    },\r\n    showNarrowView() {\r\n      this.isWideView = false\r\n      width.cacheSet(false)\r\n    },\r\n    showWideView() {\r\n      this.isWideView = true\r\n      width.cacheSet(true)\r\n    },\r\n    updateQuill(quill, content) {\r\n      if (content) {\r\n        quill.setContents(content, 'api')\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isWideView = width.cacheGet() || false\r\n\r\n    this.quill = createQuill(\r\n      this.$refs.editor,\r\n      'Write here.',\r\n      this.$refs.container,\r\n    )\r\n\r\n    this.updateQuill(this.quill, this.content)\r\n    this.listenQuill(this.quill)\r\n  },\r\n  props: {\r\n    content: {\r\n      required: true,\r\n      type: Object\r\n    },\r\n    contentId: {\r\n      default: null,\r\n      required: false,\r\n      type: String\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.full-screen-wrap {\r\n  background-color: rgba(255, 255, 255, 0.98);\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  left: 0;\r\n  position: fixed;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.actions {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: row;\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 5px;\r\n}\r\n\r\n.action {\r\n  align-items: center;\r\n  border: none;\r\n  display: flex;\r\n  fill: #000;\r\n  height: 45px;\r\n  justify-content: center;\r\n  padding: 0;\r\n  transition: fill 100ms;\r\n  width: 45px;\r\n}\r\n\r\n.action:hover {\r\n  fill: #CCC;\r\n}\r\n\r\n.container {\r\n  align-self: center;\r\n  height: calc(100% - 40px);\r\n  max-width: 500px;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n}\r\n\r\n.container.wide {\r\n  max-width: 1000px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quillFullScreen.vue?vue&type=template&id=fafac0d6&scoped=true&\"\nimport script from \"./quillFullScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./quillFullScreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fafac0d6\",\n  null\n  \n)\n\ncomponent.options.__file = \"quillFullScreen.vue\"\nexport default component.exports","<template>\r\n  <div class=\"wrap\">\r\n    <div \r\n      class=\"editor\" \r\n      ref=\"container\">\r\n      <div \r\n        ref=\"editor\" \r\n        @keyup.ctrl.enter=\"emitDone\"/>\r\n    </div>\r\n    <div v-if=\"showFullScreen\">\r\n      <quill-full-screen\r\n        :content=\"content\" \r\n        :content-id=\"contentId\"\r\n        @close=\"hideFullScreen()\"\r\n        @update:content=\"emitFullscreenContent\"\r\n        @update:selection=\"emitSelection\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport createQuill from './quillBuilder'\r\nimport debounce from 'lodash/debounce'\r\nimport escapeStringRegexp from 'escape-string-regexp'\r\nimport isEqual from 'lodash/isEqual'\r\nimport QuillFullScreen from './quillFullScreen.vue'\r\n\r\nexport default {\r\n  beforeDestroy() {\r\n    this.handlers.forEach(([name, fn]) => this.quill.off(name, fn))\r\n  },\r\n  components: {\r\n    QuillFullScreen,\r\n  },\r\n  data() {\r\n    return {\r\n      cachedContentId: null,\r\n      handlers: [],\r\n      quill: null,\r\n      showFullScreen: false,\r\n    }\r\n  },\r\n  methods: {\r\n    // disable/enable are provided for the parent component to use\r\n    disable() {\r\n      this.quill.enable(false)\r\n    },\r\n    enable() {\r\n      this.quill.enable()\r\n    },\r\n    emitContent(content, contentId) {\r\n      this.$emit('update:content', { content, contentId })\r\n    },\r\n    emitFullscreenContent({ content, contentId }) {\r\n      this.emitContent(content, contentId)\r\n    },\r\n    emitDone() {\r\n      this.$emit('shortcut:done')\r\n    },\r\n    emitSelection(selection) {\r\n      this.$emit('update:selection', selection)\r\n    },\r\n    focus() {\r\n      this.$nextTick(() => this.quill.setSelection(this.quill.getLength(), 0, 'silent'))\r\n    },\r\n    hideFullScreen() {\r\n      this.showFullScreen = false\r\n    },\r\n    listenQuill(quill) {\r\n      const selectionChanged = debounce((selection) => {\r\n        this.emitSelection(selection)\r\n      }, 500)\r\n\r\n      const onSelectionChange = (range) => {\r\n        let selection\r\n        if (!range || !range.length) {\r\n          selection = {\r\n            range: null,\r\n            text: '',\r\n          }\r\n        } else {\r\n          selection = {\r\n            range,\r\n            text: quill.getText(range.index, range.length),\r\n          }\r\n        }\r\n\r\n        selectionChanged(selection)\r\n      }\r\n\r\n      const textChanged = debounce((content, contentId) => {\r\n        this.emitContent(content, contentId)\r\n      }, 750, { maxWait: 2000 })\r\n\r\n      const onTextChange = () => {\r\n        const selection = quill.getSelection()\r\n        onSelectionChange(selection)\r\n        const content = quill.getContents()\r\n        const contentId = this.contentId\r\n        textChanged(content, contentId)\r\n      }\r\n\r\n      quill.on('text-change', onTextChange)\r\n      quill.on('selection-change', onSelectionChange)\r\n\r\n      this.handlers.push(['text-change', onTextChange], ['selection-change', onSelectionChange])\r\n    },\r\n    updateQuill(quill, content, silent) {\r\n      if (content) {\r\n        quill.setContents(content, silent ? 'silent' : 'api')\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.quill = createQuill(\r\n      this.$refs.editor,\r\n      'Write here.',\r\n      this.container || this.$refs.container,\r\n      () => {\r\n        this.showFullScreen = true\r\n      },\r\n    )\r\n\r\n    this.updateQuill(this.quill, this.content, true)\r\n    this.listenQuill(this.quill)\r\n  },\r\n  props: {\r\n    container: {\r\n      default: null,\r\n      required: false,\r\n      type: null\r\n    },\r\n    content: {\r\n      required: true,\r\n      type: null\r\n    },\r\n    contentId: {\r\n      required: false,\r\n      default: null,\r\n      type: String\r\n    },\r\n    scrollTo: {\r\n      default: null,\r\n      type: Object\r\n    },\r\n  },\r\n  watch: {\r\n    content(delta) {\r\n      if (delta === undefined || isEqual(delta, this.quill.getContents())) {\r\n        return\r\n      }\r\n\r\n      if (this.contentId !== this.cachedContentId) {\r\n        this.cachedContentId = this.contentId\r\n        this.quill.setContents(null, 'silent')\r\n        this.quill.setContents(delta, 'silent')\r\n      } else {\r\n        this.updateQuill(this.quill, delta, true)\r\n      }\r\n    },\r\n    scrollTo(descriptor) {\r\n      if (!descriptor || !~descriptor.paragraphIndex) {\r\n        return\r\n      }\r\n\r\n      const editor = this.$refs.editor.querySelector('.ql-editor')\r\n      const element = editor.childNodes[descriptor.paragraphIndex]\r\n      element.parentNode.scrollTop = element.offsetTop\r\n\r\n      if (!~descriptor.searchTermIndex) {\r\n        return\r\n      }\r\n\r\n      const searchTerm = this.$store.state.composer.selection.text\r\n      const contents = this.quill.getText()\r\n      const search = new RegExp(escapeStringRegexp(searchTerm), 'gi')\r\n\r\n      const searchRanges = getAllOccurrences(search, contents)\r\n      const selectedRange = searchRanges[descriptor.searchTermIndex]\r\n      this.quill.setSelection(selectedRange, 'api')\r\n    },\r\n  },\r\n}\r\n\r\nfunction getAllOccurrences(regex, str) {\r\n  const ranges = []\r\n  let result\r\n  while ((result = regex.exec(str))) {\r\n    ranges.push({\r\n      index: result.index,\r\n      length: result[0].length,\r\n    })\r\n  }\r\n  return ranges\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  height: calc(100% - 40px);\r\n}\r\n\r\n.editor {\r\n  height: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n<style>\r\n.ql-toolbar {\r\n  background-color: #F0F0F0;\r\n}\r\n\r\n.ql-container {\r\n  background-color: #FFF;\r\n}\r\n\r\n.ql-editor {\r\n  background-color: transparent;\r\n  font-family: 'Khula', sans-serif;\r\n  font-size: 14px;\r\n  overflow-wrap: break-word;\r\n  padding: 12px 20px 12px 10px;\r\n  word-break: break-word;\r\n}\r\n\r\n.ql-editor p {\r\n  padding-bottom: 6px;\r\n}\r\n\r\n.ql-editor h1, .ql-editor h2, .ql-editor h3 {\r\n  font-family: 'Asap Condensed', sans-serif;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.ql-editor h1 {\r\n  font-size: 25px;\r\n}\r\n\r\n.ql-fullscreen {\r\n  fill: #444;\r\n  min-width: 40px;\r\n  width: auto !important;\r\n}\r\n\r\n.ql-fullscreen:hover {\r\n  fill: #06c;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quillEditor.vue?vue&type=template&id=47f1beb8&scoped=true&\"\nimport script from \"./quillEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./quillEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"\nimport style1 from \"./quillEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47f1beb8\",\n  null\n  \n)\n\ncomponent.options.__file = \"quillEditor.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=style&index=0&id=4ee53a14&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wizard.vue?vue&type=style&index=0&id=4ee53a14&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=00a62670&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./match.vue?vue&type=style&index=0&id=3b69e175&scoped=true&lang=css&\"","import tippy from 'tippy.js'\r\n\r\nconst tooltip = ({\r\n  arrow = true, content, distance = 10, el, interactive, placement = 'bottom', hideOnClick = true,\r\n} = {}) => tippy.one(el, {\r\n  arrow,\r\n  distance,\r\n  hideOnClick,\r\n  html: content,\r\n  interactive,\r\n  placement,\r\n})\r\n\r\nexport default tooltip\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabsList.vue?vue&type=style&index=0&id=e5dddd7a&scoped=true&lang=css&\"","import clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport uniq from 'lodash/uniq'\r\n\r\nconst { orderPromises } = require('../../../utilities')\r\n\r\nclass LocalStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for LocalStorageApi.')\r\n    }\r\n\r\n    localForage.setDriver([localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n    this.getStorageKeys = () => this.storage.keys()\r\n\r\n    this.planKeyPrefix = documentGuid => `${documentGuid}_PLAN_DATA_`\r\n    this.planOrderKey = documentGuid => `${documentGuid}_PLAN_ORDER`\r\n    this.getPlanKey = (documentGuid, planGuid) => `${this.planKeyPrefix(documentGuid)}${planGuid}`\r\n\r\n    this.sectionKeyPrefix = (documentGuid, planGuid) => `${documentGuid}_SECTION_DATA_${planGuid}_`\r\n    this.sectionOrderKey = (documentGuid, planGuid) => `${documentGuid}_SECTION_ORDER_${planGuid}`\r\n    this.getSectionKey = (documentGuid, planGuid, sectionGuid) => `${this.sectionKeyPrefix(documentGuid, planGuid)}${sectionGuid}`\r\n\r\n    this.chapterKeyPrefix = documentGuid => `${documentGuid}_CHAPTER_DATA_`\r\n    this.chapterOrderKey = documentGuid => `${documentGuid}_CHAPTER_ORDER`\r\n    this.getChapterKey = (documentGuid, chapterGuid) => `${this.chapterKeyPrefix(documentGuid)}${chapterGuid}`\r\n\r\n    this.topicKeyPrefix = documentGuid => `${documentGuid}_TOPIC_DATA_`\r\n    this.topicOrderKey = documentGuid => `${documentGuid}_TOPIC_ORDER`\r\n    this.getTopicKey = (documentGuid, topicGuid) => `${this.topicKeyPrefix(documentGuid)}${topicGuid}`\r\n\r\n    this.legacyDocumentGuids = 'DOCUMENT_IDS'\r\n    this.documentGuidsKey = `${username}_DOCUMENT_IDS`\r\n    this.documentsKey = documentGuid => `DOCUMENT_${documentGuid}`\r\n  }\r\n\r\n  // INFO\r\n  isPremium() {\r\n    return false\r\n  }\r\n\r\n  addDocument({ guid, name }) {\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (!documentGuids.includes(guid)) {\r\n        documentGuids.push(guid)\r\n        return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n      }\r\n    }).then(() => this.storage.setItem(this.documentsKey(guid), { guid, name }))\r\n  }\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.storage.setItem(this.chapterOrderKey(documentGuid), chapterGuids)\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.storage.setItem(this.planOrderKey(documentGuid), planGuids)\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.storage.setItem(this.sectionOrderKey(documentGuid, planGuid), sectionGuids)\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.storage.setItem(this.topicOrderKey(documentGuid), topicGuids)\r\n  }\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    // Remove document from document list\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (documentGuids.includes(guid)) {\r\n        documentGuids.splice(documentGuids.indexOf(guid), 1)\r\n      }\r\n\r\n      return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n    }).then(() =>\r\n      // Remove all content (chapters, plans, sections, topics)\r\n      Promise.all([\r\n        this._getAllChapters(guid).then(chapters =>\r\n          Promise.all(chapters.map(chapter => this.deleteChapter(guid, chapter.guid)))),\r\n        this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then(sections =>\r\n          Promise.all(sections.map(section => this.deleteSection(guid, plan.guid, section.guid)))).then(() => this.deletePlan(guid, plan.guid))))),\r\n        this._getAllTopics(guid).then(topics =>\r\n          Promise.all(topics.map(topic => this.deleteTopic(guid, topic.guid)))),\r\n      ]).then(() => this.storage.removeItem(this.documentsKey(guid))))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteWorkshop() {\r\n    throw new Error('Workshops are a Author-only feature.')\r\n  }\r\n\r\n  _getAllChapters(documentGuid) {\r\n    const prefix = this.chapterKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getChaptersSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((chapters) => {\r\n      chapters.sort((chap1, chap2) => sortOrder.indexOf(chap1.guid) - sortOrder.indexOf(chap2.guid))\r\n\r\n      return chapters\r\n    }))\r\n  }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this._getAllChapters(documentGuid)\r\n  }\r\n\r\n  _getAllDocumentGuids() {\r\n    // Migrate old document guids to an email-identified key\r\n    return Promise.all([\r\n      this.storage.getItem(this.legacyDocumentGuids),\r\n      this.storage.getItem(this.documentGuidsKey),\r\n    ]).then(([legacyGuids, guids]) => {\r\n      if (Array.isArray(legacyGuids)) {\r\n        const allGuids = uniq(legacyGuids.concat(guids || []))\r\n        return (\r\n          this.storage.setItem(this.documentGuidsKey, allGuids)\r\n            .then(() => this.storage.removeItem(this.legacyDocumentGuids))\r\n            .then(() => allGuids)\r\n        )\r\n      }\r\n      return uniq(guids || [])\r\n    })\r\n  }\r\n\r\n  _getAllDocuments() {\r\n    return this._getAllDocumentGuids().then(guids => Promise.all(guids.map((guid) => {\r\n      const key = this.documentsKey(guid)\r\n      return this.storage.getItem(key)\r\n    })))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this._getAllDocuments()\r\n  }\r\n\r\n  _getAllPlans(documentGuid) {\r\n    const prefix = this.planKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getPlansSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then(plans => Promise.all(plans.map(plan => this._getAllSections(documentGuid, plan.guid).then((sections) => {\r\n      plan.sections = sections\r\n    }))).then(() => {\r\n      plans.sort((plan1, plan2) => sortOrder.indexOf(plan1.guid) - sortOrder.indexOf(plan2.guid))\r\n      return plans\r\n    })))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this._getAllPlans(documentGuid)\r\n  }\r\n\r\n  _getAllSections(documentGuid, planGuid) {\r\n    const prefix = this.sectionKeyPrefix(documentGuid, planGuid)\r\n\r\n    return Promise.all([\r\n      this._getSectionSortOrder(documentGuid, planGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((sections) => {\r\n      sections.sort((section1, section2) => sortOrder.indexOf(section1.guid) - sortOrder.indexOf(section2.guid))\r\n      return sections\r\n    }))\r\n  }\r\n\r\n  _getAllTopics(documentGuid) {\r\n    const prefix = this.topicKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getTopicsSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((topics) => {\r\n      topics.sort((topic1, topic2) => sortOrder.indexOf(topic1.guid) - sortOrder.indexOf(topic2.guid))\r\n      return topics\r\n    }))\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this._getAllTopics(documentGuid)\r\n  }\r\n\r\n  _getChaptersSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.chapterOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getPlansSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.planOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getSectionSortOrder(documentGuid, planGuid) {\r\n    return this.storage.getItem(this.sectionOrderKey(documentGuid, planGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getTopicsSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.topicOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  getAllWorkshops() {\r\n    throw new Error('Workshops are a Author-only feature.')\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    const updateTopicFns = topics.map(topic => () => this.updateTopic(documentGuid, topic.guid, topic))\r\n    const updateTopicPromise = orderPromises(updateTopicFns)\r\n    const updateChapterPromise = updateTopicPromise.then(() => {\r\n      const updateChapterFns = chapters.map(chapter => () => this.updateChapter(documentGuid, chapter.guid, chapter))\r\n      return orderPromises(updateChapterFns)\r\n    })\r\n\r\n    const updatePlanFns = plans.map(plan => () => this.updatePlan(documentGuid, plan.guid, plan).then(() => {\r\n      const updateSectionFns = plan.sections.map(section => () => this.updateSection(documentGuid, plan.guid, section.guid, section))\r\n      return orderPromises(updateSectionFns)\r\n    }))\r\n    const updatePlanPromise = orderPromises(updatePlanFns)\r\n\r\n    return Promise.all([updateChapterPromise, updatePlanPromise])\r\n  }\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return Promise.all([\r\n      this.storage.setItem(key, chapter),\r\n      this._getChaptersSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(chapterGuid)) {\r\n          sortOrder.push(chapterGuid)\r\n          return this.arrangeChapters(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n\r\n    plan = clone(plan)\r\n    plan.sections = null\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, plan),\r\n      this._getPlansSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(planGuid)) {\r\n          sortOrder.push(planGuid)\r\n          return this.arrangePlans(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, section),\r\n      this._getSectionSortOrder(documentGuid, planGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(sectionGuid)) {\r\n          sortOrder.push(sectionGuid)\r\n          return this.arrangeSections(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, topic),\r\n      this._getTopicsSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(topicGuid)) {\r\n          sortOrder.push(topicGuid)\r\n          return this.arrangeTopics(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateWorkshops() {\r\n    throw new Error('Workshops are a Author-only feature.')\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid, name) {\r\n    return Promise.all([\r\n      this._getAllChapters(guid),\r\n      this._getAllTopics(guid),\r\n      this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then((sections) => {\r\n        plan.sections = sections\r\n        return plan\r\n      })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      const doc = {\r\n        guid,\r\n        name,\r\n        chapters,\r\n        topics,\r\n        plans,\r\n      }\r\n      return doc\r\n    })\r\n  }\r\n\r\n  docImport(doc) {\r\n    let backup\r\n    return this.docExport(doc.guid).then((_backup) => {\r\n      backup = _backup\r\n    }).then(() => this.deleteDocument(doc.guid)).then(() => {\r\n      if (!doc) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      return this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n    })\r\n      .then(undefined, (err) => {\r\n        console.error(err)\r\n        return this.addDocument(backup).then(() => this.saveAllContent(backup.guid, backup))\r\n      })\r\n  }\r\n\r\n  getFullExport() {\r\n    return this._getAllDocuments().then(documents => Promise.all(documents.map(doc => Promise.all([\r\n      this._getAllChapters(doc.guid),\r\n      this._getAllTopics(doc.guid),\r\n      this._getAllPlans(doc.guid).then(plans => Promise.all(plans.map(plan =>\r\n        this._getAllSections(doc.guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      doc.chapters = chapters\r\n      doc.topics = topics\r\n      doc.plans = plans\r\n      return doc\r\n    }))))\r\n  }\r\n\r\n  revertImport(backup) {\r\n    return (\r\n      Promise.all(Object.keys(backup).map(key => this.storage.setItem(key, backup[key])))\r\n        .then(undefined, (importErr) => {\r\n          console.error(importErr)\r\n          throw importErr\r\n        })\r\n    )\r\n  }\r\n\r\n  doFullImport(documents) {\r\n    const backup = {}\r\n\r\n    return this.storage.iterate((value, key) => {\r\n      backup[key] = value\r\n    }).then(() => this.storage.clear().then(() => {\r\n      if (!documents || !Array.isArray(documents) || !documents.length) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      const addDocumentPromises = documents.map(doc =>\r\n        () => this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc)))\r\n\r\n      return orderPromises(addDocumentPromises)\r\n    })).then(undefined, (err) => {\r\n      console.error(err)\r\n      return this.revertImport(backup)\r\n    })\r\n  }\r\n}\r\n\r\nexport default LocalStorageApi\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillFullScreen.vue?vue&type=style&index=0&id=fafac0d6&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=style&index=0&id=38cc37e7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentMenu.vue?vue&type=style&index=0&id=38cc37e7&scoped=true&lang=css&\"","import api from './api'\r\nimport DemoStorageApi from './demoStorage'\r\nimport LocalStorageApi from './localStorage'\r\nimport ServerStorageApi from './serverStorage'\r\nimport OfflineStorageApi from './offlineStorage'\r\n\r\nlet storageApi\r\nlet temporaryStoragePromiseResolve\r\nconst temporaryStoragePromise = new Promise((resolve) => {\r\n  temporaryStoragePromiseResolve = resolve\r\n})\r\n\r\nconst setStorageApi = function (storage) {\r\n  if (!storageApi) {\r\n    temporaryStoragePromiseResolve(storage)\r\n  }\r\n\r\n  storageApi = storage\r\n  return storage\r\n}\r\n\r\nexport const storageApiPromise = function () {\r\n  if (storageApi) {\r\n    return Promise.resolve(storageApi)\r\n  }\r\n\r\n  return temporaryStoragePromise\r\n}\r\n\r\nconst cachedStorage = {\r\n  Local: {\r\n    cached: null,\r\n    get: username => new LocalStorageApi(username),\r\n  },\r\n  Demo: {\r\n    cached: null,\r\n    get: () => new DemoStorageApi(),\r\n  },\r\n  Server: {\r\n    cached: null,\r\n    get: username => new ServerStorageApi(username),\r\n  },\r\n  Offline: {\r\n    cached: null,\r\n    get: username => new OfflineStorageApi(username),\r\n  },\r\n}\r\n\r\nlet waitForInit = Promise.resolve()\r\nconst getCached = (storage, username) => {\r\n  if (!storage.cached) {\r\n    storage.cached = storage.get(username)\r\n  }\r\n\r\n  if (typeof storage.cached.init === 'function' && storageApi !== storage.cached) {\r\n    waitForInit = storage.cached.init() || Promise.resolve()\r\n  }\r\n\r\n  setStorageApi(storage.cached)\r\n  return waitForInit.then(() => storage.cached)\r\n}\r\n\r\nexport function getStorageApi(user) {\r\n  let isOnlinePromise\r\n  if (api.isOnlineCached === null) {\r\n    isOnlinePromise = api.isOnline().then(() => null, () => null)\r\n  } else {\r\n    isOnlinePromise = Promise.resolve()\r\n  }\r\n  \r\n  return isOnlinePromise.then(() => {\r\n    const isOnline = api.isOnlineCached\r\n    if (!user || !user.accountType) {\r\n      return getCached(cachedStorage.Demo)\r\n    }\r\n  \r\n    if (user.accountType.name === 'DEMO') {\r\n      return getCached(cachedStorage.Demo)\r\n    }\r\n  \r\n    if (!user.email) {\r\n      throw new Error('User does not have a valid username/email for initializing storage.')\r\n    }\r\n  \r\n    if (!user.isPremium) {\r\n      return getCached(cachedStorage.Local, user.email)\r\n    }\r\n  \r\n    if (!isOnline) {\r\n      return getCached(cachedStorage.Offline, user.email)\r\n    }\r\n  \r\n    if (user.isPremium) {\r\n      return getCached(cachedStorage.Server, user.email)\r\n    }\r\n  \r\n    return getCached(cachedStorage.Local, user.email)\r\n  })\r\n}\r\n","import clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport uniq from 'lodash/uniq'\r\n\r\nconst { orderPromises } = require('../../../utilities')\r\n\r\nclass DemoStorageApi {\r\n  constructor() {\r\n    localForage.setDriver(localForage.LOCALSTORAGE)\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n    this.getStorageKeys = () => this.storage.keys()\r\n\r\n    this.planKeyPrefix = documentGuid => `${documentGuid}_PLAN_DATA_`\r\n    this.planOrderKey = documentGuid => `${documentGuid}_PLAN_ORDER`\r\n    this.getPlanKey = (documentGuid, planGuid) => `${this.planKeyPrefix(documentGuid)}${planGuid}`\r\n\r\n    this.sectionKeyPrefix = (documentGuid, planGuid) => `${documentGuid}_SECTION_DATA_${planGuid}_`\r\n    this.sectionOrderKey = (documentGuid, planGuid) => `${documentGuid}_SECTION_ORDER_${planGuid}`\r\n    this.getSectionKey = (documentGuid, planGuid, sectionGuid) => `${this.sectionKeyPrefix(documentGuid, planGuid)}${sectionGuid}`\r\n\r\n    this.chapterKeyPrefix = documentGuid => `${documentGuid}_CHAPTER_DATA_`\r\n    this.chapterOrderKey = documentGuid => `${documentGuid}_CHAPTER_ORDER`\r\n    this.getChapterKey = (documentGuid, chapterGuid) => `${this.chapterKeyPrefix(documentGuid)}${chapterGuid}`\r\n\r\n    this.topicKeyPrefix = documentGuid => `${documentGuid}_TOPIC_DATA_`\r\n    this.topicOrderKey = documentGuid => `${documentGuid}_TOPIC_ORDER`\r\n    this.getTopicKey = (documentGuid, topicGuid) => `${this.topicKeyPrefix(documentGuid)}${topicGuid}`\r\n\r\n    this.documentGuidsKey = 'DOCUMENT_IDS'\r\n    this.documentsKey = documentGuid => `DOCUMENT_${documentGuid}`\r\n  }\r\n\r\n  // INFO\r\n  isPremium() {\r\n    return false\r\n  }\r\n\r\n  addDocument({ guid, name }) {\r\n    window.onbeforeunload = function () {\r\n      localStorage.clear()\r\n    }\r\n\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (!documentGuids.includes(guid)) {\r\n        documentGuids.push(guid)\r\n        return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n      }\r\n    }).then(() => this.storage.setItem(this.documentsKey(guid), { guid, name }))\r\n  }\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.storage.setItem(this.chapterOrderKey(documentGuid), chapterGuids)\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.storage.setItem(this.planOrderKey(documentGuid), planGuids)\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.storage.setItem(this.sectionOrderKey(documentGuid, planGuid), sectionGuids)\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.storage.setItem(this.topicOrderKey(documentGuid), topicGuids)\r\n  }\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    // Remove document from document list\r\n    return this._getAllDocumentGuids().then((documentGuids) => {\r\n      if (documentGuids.includes(guid)) {\r\n        documentGuids.splice(documentGuids.indexOf(guid), 1)\r\n      }\r\n\r\n      return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n    }).then(() =>\r\n      // Remove all content (chapters, plans, sections, topics)\r\n      Promise.all([\r\n        this._getAllChapters(guid).then(chapters =>\r\n          Promise.all(chapters.map(chapter => this.deleteChapter(guid, chapter.guid)))),\r\n        this._getAllPlans(guid).then(plans => Promise.all(plans.map(plan => this._getAllSections(guid, plan.guid).then(sections =>\r\n          Promise.all(sections.map(section => this.deleteSection(guid, plan.guid, section.guid)))).then(() => this.deletePlan(guid, plan.guid))))),\r\n        this._getAllTopics(guid).then(topics =>\r\n          Promise.all(topics.map(topic => this.deleteTopic(guid, topic.guid)))),\r\n      ]).then(() => this.storage.removeItem(this.documentsKey(guid))))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteWorkshop() {\r\n    // Not implemented here. Author-only feature.\r\n  }\r\n\r\n  _getAllChapters(documentGuid) {\r\n    const prefix = this.chapterKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getChaptersSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((chapters) => {\r\n      chapters.sort((chap1, chap2) => sortOrder.indexOf(chap1.guid) - sortOrder.indexOf(chap2.guid))\r\n\r\n      return chapters\r\n    }))\r\n  }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this._getAllChapters(documentGuid)\r\n  }\r\n\r\n  _getAllDocumentGuids() {\r\n    return this.storage.getItem(this.documentGuidsKey).then(guids => uniq(guids) || [])\r\n  }\r\n\r\n  _getAllDocuments() {\r\n    return this._getAllDocumentGuids().then(guids => Promise.all(guids.map((guid) => {\r\n      const key = this.documentsKey(guid)\r\n      return this.storage.getItem(key)\r\n    })))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this._getAllDocuments()\r\n  }\r\n\r\n  _getAllPlans(documentGuid) {\r\n    const prefix = this.planKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getPlansSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then(plans => Promise.all(plans.map(plan => this._getAllSections(documentGuid, plan.guid).then((sections) => {\r\n      plan.sections = sections\r\n    }))).then(() => {\r\n      plans.sort((plan1, plan2) => sortOrder.indexOf(plan1.guid) - sortOrder.indexOf(plan2.guid))\r\n      return plans\r\n    })))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this._getAllPlans(documentGuid)\r\n  }\r\n\r\n  _getAllSections(documentGuid, planGuid) {\r\n    const prefix = this.sectionKeyPrefix(documentGuid, planGuid)\r\n\r\n    return Promise.all([\r\n      this._getSectionSortOrder(documentGuid, planGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((sections) => {\r\n      sections.sort((section1, section2) => sortOrder.indexOf(section1.guid) - sortOrder.indexOf(section2.guid))\r\n      return sections\r\n    }))\r\n  }\r\n\r\n  _getAllTopics(documentGuid) {\r\n    const prefix = this.topicKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getTopicsSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix))),\r\n    ]).then(([sortOrder, keys]) => Promise.all(keys.map(key => this.storage.getItem(key))).then((topics) => {\r\n      topics.sort((topic1, topic2) => sortOrder.indexOf(topic1.guid) - sortOrder.indexOf(topic2.guid))\r\n      return topics\r\n    }))\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this._getAllTopics(documentGuid)\r\n  }\r\n\r\n  _getChaptersSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.chapterOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getPlansSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.planOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getSectionSortOrder(documentGuid, planGuid) {\r\n    return this.storage.getItem(this.sectionOrderKey(documentGuid, planGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getTopicsSortOrder(documentGuid) {\r\n    return this.storage.getItem(this.topicOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  getAllWorkshops() {\r\n    // Not implemented here. Author-only feature.\r\n    return []\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    return Promise.all([\r\n      Promise.all(chapters.map(chapter => this.updateChapter(documentGuid, chapter.guid, chapter))),\r\n      Promise.all(plans.map(plan => this.updatePlan(documentGuid, plan.guid, plan).then(() => Promise.all(plan.sections.map(section =>\r\n        this.updateSection(documentGuid, plan.guid, section.guid, section)))))),\r\n      Promise.all(topics.map(topic => this.updateTopic(documentGuid, topic.guid, topic))),\r\n    ])\r\n  }\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return Promise.all([\r\n      this.storage.setItem(key, chapter),\r\n      this._getChaptersSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(chapterGuid)) {\r\n          sortOrder.push(chapterGuid)\r\n          return this.arrangeChapters(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n\r\n    plan = clone(plan)\r\n    plan.sections = null\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, plan),\r\n      this._getPlansSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(planGuid)) {\r\n          sortOrder.push(planGuid)\r\n          return this.arrangePlans(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, section),\r\n      this._getSectionSortOrder(documentGuid, planGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(sectionGuid)) {\r\n          sortOrder.push(sectionGuid)\r\n          return this.arrangeSections(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, topic),\r\n      this._getTopicsSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(topicGuid)) {\r\n          sortOrder.push(topicGuid)\r\n          return this.arrangeTopics(documentGuid, sortOrder)\r\n        }\r\n      }),\r\n    ])\r\n  }\r\n\r\n  updateWorkshops() {\r\n    // Not implemented here. Author-only feature.\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid, name) {\r\n    return Promise.all([\r\n      this._getAllChapters(guid),\r\n      this._getAllTopics(guid),\r\n      this._getAllPlans(guid).then(plans => Promise.all(plans.map((plan) => {\r\n        this._getAllSections(guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })\r\n      }))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      const doc = {\r\n        guid,\r\n        name,\r\n        chapters,\r\n        topics,\r\n        plans,\r\n      }\r\n      return doc\r\n    })\r\n  }\r\n\r\n  docImport(doc) {\r\n    let backup\r\n    return this.docExport(doc.guid).then((_backup) => {\r\n      backup = _backup\r\n    }).then(() => this.deleteDocument(doc.guid)).then(() => {\r\n      if (!doc) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      return this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n    })\r\n      .then(undefined, (err) => {\r\n        console.error(err)\r\n        return this.addDocument(backup).then(() => this.saveAllContent(backup.guid, backup))\r\n      })\r\n  }\r\n\r\n  getFullExport() {\r\n    return this._getAllDocuments().then(documents => Promise.all(documents.map(doc => Promise.all([\r\n      this._getAllChapters(doc.guid),\r\n      this._getAllTopics(doc.guid),\r\n      this._getAllPlans(doc.guid).then(plans => Promise.all(plans.map(plan =>\r\n        this._getAllSections(doc.guid, plan.guid).then((sections) => {\r\n          plan.sections = sections\r\n          return plan\r\n        })))),\r\n    ]).then(([chapters, topics, plans]) => {\r\n      doc.chapters = chapters\r\n      doc.topics = topics\r\n      doc.plans = plans\r\n      return doc\r\n    }))))\r\n  }\r\n\r\n  revertImport(backup) {\r\n    return (\r\n      Promise.all(Object.keys(backup).map(key => this.storage.setItem(key, backup[key])))\r\n        .then(undefined, (importErr) => {\r\n          console.error(importErr)\r\n          throw importErr\r\n        })\r\n    )\r\n  }\r\n\r\n  doFullImport(documents) {\r\n    const backup = {}\r\n\r\n    return this.storage.iterate((value, key) => {\r\n      backup[key] = value\r\n    }).then(() => this.storage.clear().then(() => {\r\n      if (!documents || !Array.isArray(documents) || !documents.length) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      const addDocumentPromises = documents.map(doc =>\r\n        () => this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc)))\r\n\r\n      return orderPromises(addDocumentPromises)\r\n    })).then(undefined, (err) => {\r\n      console.error(err)\r\n      return this.revertImport(backup)\r\n    })\r\n  }\r\n}\r\n\r\nexport default DemoStorageApi\r\n","import Cache, { UNRESETTABLE } from '../shared/cache'\r\nimport clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport VueInstance from '../../app'\r\n\r\nclass OfflineStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for OfflineStorageApi.')\r\n    }\r\n\r\n    this.store = VueInstance.$store\r\n\r\n    this.requiresSyncCache = new Cache(`${UNRESETTABLE}_HAS_GONE_OFFLINE`)\r\n\r\n    localForage.setDriver([localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n\r\n    this.offlinePrefix = '@OFFLINE'\r\n    this.docGuid = () => this.store.state.document.currentDocument.guid\r\n    this.docKey = () => `${this.offlinePrefix}_USER_${username}_DOCUMENT_${this.docGuid()}`\r\n  }\r\n\r\n  init() {\r\n    this.requiresSyncCache.cacheSet(true)\r\n    return Promise.resolve()\r\n  }\r\n\r\n  isPremium() {\r\n    return true\r\n  }\r\n\r\n  getLatestStoredDocument() {\r\n    return this.storage.keys().then((keys) => {\r\n      const docKey = keys.filter(key => key.startsWith(this.offlinePrefix))[0]\r\n      if (!docKey) {\r\n        return null\r\n      }\r\n      return this.storage.getItem(docKey)\r\n    })\r\n  }\r\n\r\n  getStoredDocument() {\r\n    return this.storage.getItem(this.docKey())\r\n  }\r\n\r\n  clearOldStorage() {\r\n    return this.storage.keys().then((keys) => {\r\n      const deletePromises = keys.filter(key => key.startsWith(this.offlinePrefix)).map(key => this.storage.removeItem(key))\r\n      return Promise.all(deletePromises)\r\n    })\r\n  }\r\n\r\n  updateStorage() {\r\n    const doc = clone(this.store.state.document.currentDocument)\r\n\r\n    if (!doc) {\r\n      console.warn('Document not yet loaded.')\r\n      return\r\n    }\r\n\r\n    doc.chapters = this.store.state.chapters.chapters\r\n    doc.topics = this.store.state.chapters.topics\r\n    doc.plans = this.store.state.chapters.plans\r\n    doc.workshops = this.store.state.workshop.workshops\r\n    return this.clearOldStorage().then(() => this.storage.setItem(this.docKey(), doc))\r\n  }\r\n\r\n  notAllowedError() {\r\n    throw new Error('This action is not available while offline.')\r\n  }\r\n\r\n  // Disallowed operations\r\n\r\n  addDocument() { return this.notAllowedError() }\r\n\r\n  deleteDocument() { return this.notAllowedError() }\r\n\r\n  // Storage updates\r\n\r\n  arrangeChapters() { return this.updateStorage() }\r\n\r\n  arrangePlans() { return this.updateStorage() }\r\n\r\n  arrangeSections() { return this.updateStorage() }\r\n\r\n  arrangeTopics() { return this.updateStorage() }\r\n\r\n  deleteChapter() { return this.updateStorage() }\r\n\r\n  deletePlan() { return this.updateStorage() }\r\n\r\n  deleteSection() { return this.updateStorage() }\r\n\r\n  deleteTopic() { return this.updateStorage() }\r\n\r\n  deleteWorkshop() { return this.updateStorage() }\r\n\r\n  saveAllContent() { return this.updateStorage() }\r\n\r\n  updateChapter() { return this.updateStorage() }\r\n\r\n  updateDocument() { return this.updateStorage() }\r\n\r\n  updatePlan() { return this.updateStorage() }\r\n\r\n  updateSection() { return this.updateStorage() }\r\n\r\n  updateTopic() { return this.updateStorage() }\r\n\r\n  updateWorkshops() { return this.updateStorage() }\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get chapters from a different document while offline.')\r\n      }\r\n\r\n      return doc.chapters\r\n    })\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return this.getLatestStoredDocument().then(doc => (doc ? [doc] : []))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get plans from a different document while offline.')\r\n      }\r\n\r\n      return doc.plans\r\n    })\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get topics from a different document while offline.')\r\n      }\r\n\r\n      return doc.topics\r\n    })\r\n  }\r\n\r\n  getAllWorkshops(documentGuid) {\r\n    return this.getLatestStoredDocument().then(doc => {\r\n      if (documentGuid !== doc.guid) {\r\n        throw new Error('Cannot get workshops from a different document while offline.')\r\n      }\r\n\r\n      return doc.workshops\r\n    })\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport(guid) {\r\n    if (guid !== this.docGuid()) {\r\n      throw new Error('Cannot export a different document while offline.')\r\n    }\r\n\r\n    return this.getStoredDocument()\r\n  }\r\n\r\n  docImport() {\r\n    throw new Error('Cannot import a document while offline.')\r\n  }\r\n\r\n  getFullExport() {\r\n    throw new Error('Cannot export all documents while offline.')\r\n  }\r\n\r\n  doFullImport() {\r\n    throw new Error('Cannot do a full import while offline.')\r\n  }\r\n}\r\n\r\nexport default OfflineStorageApi\r\n","import api from './api'\r\nimport OfflineStorageApi from './offlineStorage'\r\nimport shallowEqualArrays from 'shallow-equal/arrays'\r\nimport VersionResolver from '../shared/versionResolver'\r\nimport VueInstance from '../../app'\r\nimport { SET_STATUS_DONE, SET_STATUS_ERROR, SET_STATUS_OFFLINE, SET_STATUS_SAVING } from '../shared/status.store'\r\nimport { LOAD_CONTENT } from '../shared/chapters.store'\r\nimport { LOAD_WORKSHOPS } from '../shared/workshops.store'\r\nimport debounce from 'lodash/debounce'\r\n\r\nclass ServerStorageApi {\r\n  constructor(username) {\r\n    if (!username) {\r\n      throw new Error('Username was not supplied for ServerStorageApi.')\r\n    }\r\n\r\n    let savingCounter = 0\r\n    const store = VueInstance.$store\r\n\r\n    this.offlineStorage = new OfflineStorageApi(username)\r\n\r\n    this.goOffline = () => {\r\n      store.commit(SET_STATUS_OFFLINE)\r\n      api.isOnlineCached = false\r\n      return this.offlineStorage.updateStorage()\r\n    }\r\n\r\n    const saving = () => {\r\n      savingCounter++\r\n      store.commit(SET_STATUS_SAVING)\r\n      return this.offlineStorage.updateStorage()\r\n    }\r\n\r\n    const done = (isError, isOffline) => {\r\n      savingCounter--\r\n      if (savingCounter > 0) {\r\n        return\r\n      }\r\n      savingCounter = 0\r\n\r\n      if (!isError) {\r\n        store.commit(SET_STATUS_DONE)\r\n        return\r\n      }\r\n\r\n      if (isOffline) {\r\n        this.goOffline()\r\n        return\r\n      }\r\n\r\n      store.commit(SET_STATUS_ERROR)\r\n    }\r\n\r\n    this.wrapStatus = (promise) => {\r\n      saving()\r\n      promise.then(\r\n        () => done(false),\r\n        () => {\r\n          api.isOnline().then(() => done(true, false), () => done(true, true))\r\n        },\r\n      )\r\n      return promise\r\n    }\r\n\r\n    const updateStorageAfterDebounced = debounce(promise => {\r\n      promise.then(() => this.offlineStorage.updateStorage())\r\n    }, 1000)\r\n\r\n    this.updateStorageAfter = promise => {\r\n      updateStorageAfterDebounced(promise)\r\n      return promise\r\n    }\r\n\r\n    this.waitUntilDone = () => new Promise((resolve, reject) => {\r\n      let counter = 0\r\n\r\n      const intervalId = window.setInterval(() => {\r\n        // Reject after waiting 10 seconds\r\n        if ((counter / 10) > 10) {\r\n          reject()\r\n          return\r\n        }\r\n\r\n        if (store.state.status.saving) {\r\n          counter++\r\n          return\r\n        }\r\n\r\n        window.clearInterval(intervalId)\r\n        resolve()\r\n      }, 100)\r\n    })\r\n\r\n    this.loadDocument = (document) => {\r\n      store.commit(LOAD_CONTENT, {\r\n        chapters: document.chapters || [],\r\n        plans: document.plans || [],\r\n        topics: document.topics || [],\r\n      })\r\n      store.commit(LOAD_WORKSHOPS, { workshops: document.workshops || [] })\r\n    }\r\n  }\r\n\r\n  init() {\r\n    if (!this.offlineStorage.requiresSyncCache.cacheGet()) {\r\n      return\r\n    }\r\n\r\n    return this.syncCache()\r\n  }\r\n\r\n  syncCache() {\r\n    const restoredToken = '[RESTORED]'\r\n\r\n    return this.offlineStorage.getLatestStoredDocument().then((offlineDoc) => {\r\n      if (!offlineDoc || !offlineDoc.guid) {\r\n        return\r\n      }\r\n\r\n      let resolvedDoc\r\n      return api.docExport(offlineDoc.guid).then((onlineDoc) => {\r\n        const matchBy = obj => obj && obj.guid\r\n        const markDeleted = (obj) => {\r\n          if (!obj) return\r\n\r\n          if (typeof obj.title !== 'string') {\r\n            obj.title = ''\r\n          }\r\n\r\n          if (obj.title.includes(restoredToken)) return\r\n\r\n          obj.title = `${obj.title} ${restoredToken}`\r\n        }\r\n\r\n        const resolvedChapters = VersionResolver.getMostRecentEach(onlineDoc.chapters, offlineDoc.chapters, matchBy, markDeleted)\r\n        const resolvedTopics = VersionResolver.getMostRecentEach(onlineDoc.topics, offlineDoc.topics, matchBy, markDeleted)\r\n        const resolvedPlans = VersionResolver.getMostRecentEach(onlineDoc.plans, offlineDoc.plans, matchBy, markDeleted)\r\n        const resolvedWorkshops = VersionResolver.getMostRecentEach(\r\n          onlineDoc.workshops, offlineDoc.workshops,\r\n          workshop => (workshop && workshop.guid ? `${workshop.guid}|${workshop.order}` : null), markDeleted,\r\n        )\r\n\r\n        const newDoc = {\r\n          name: offlineDoc.name,\r\n          chapters: resolvedChapters,\r\n          topics: resolvedTopics,\r\n          plans: resolvedPlans,\r\n          workshops: resolvedWorkshops,\r\n        }\r\n\r\n        if (\r\n          offlineDoc.name === onlineDoc.name &&\r\n          shallowEqualArrays(resolvedChapters, onlineDoc.chapters) &&\r\n          shallowEqualArrays(resolvedTopics, onlineDoc.topics) &&\r\n          shallowEqualArrays(resolvedPlans, onlineDoc.plans) &&\r\n          shallowEqualArrays(resolvedWorkshops, onlineDoc.workshops)\r\n        ) {\r\n          return\r\n        }\r\n\r\n        resolvedDoc = Object.assign(onlineDoc, newDoc)\r\n        return this.docImport(resolvedDoc)\r\n      }, () => {\r\n        resolvedDoc = offlineDoc\r\n        return this.docImport(offlineDoc)\r\n      }).then(() => this.offlineStorage.clearOldStorage()).then(() => {\r\n        this.loadDocument(resolvedDoc)\r\n      }, () => {\r\n        this.goOffline().then(() => {\r\n          throw new Error('Attempted to resolve a cached document and import it, but the doc import API threw an error.')\r\n        })\r\n      })\r\n    }).then(() => (\r\n      this.offlineStorage.clearOldStorage()\r\n        .then(() => this.offlineStorage.updateStorage())\r\n        .then(() => this.offlineStorage.requiresSyncCache.cacheSet(false))\r\n    ))\r\n  }\r\n\r\n  // INFO\r\n\r\n  isPremium() {\r\n    return true\r\n  }\r\n\r\n  // DOCUMENTS\r\n\r\n  addDocument({ guid, name }) {\r\n    return this.wrapStatus(api.addDocument({ guid, name }).catch((err) => {\r\n      throw err\r\n    }))\r\n  }\r\n\r\n  getAllDocuments() {\r\n    return api.getDocuments()\r\n  }\r\n\r\n  deleteDocument(guid) {\r\n    return this.wrapStatus(api.deleteDocument({ guid }))\r\n  }\r\n\r\n  updateDocument({ guid, name }) {\r\n    return this.wrapStatus(api.updateDocument({ guid, name }))\r\n  }\r\n\r\n  // ARRANGE\r\n\r\n  arrangeChapters(documentGuid, chapterGuids) {\r\n    return this.wrapStatus(api.arrangeChapters({ documentGuid, chapterGuids }))\r\n  }\r\n\r\n  arrangePlans(documentGuid, planGuids) {\r\n    return this.wrapStatus(api.arrangePlans({ documentGuid, planGuids }))\r\n  }\r\n\r\n  arrangeSections(documentGuid, planGuid, sectionGuids) {\r\n    return this.wrapStatus(api.arrangeSections({ documentGuid, planGuid, sectionGuids }))\r\n  }\r\n\r\n  arrangeTopics(documentGuid, topicGuids) {\r\n    return this.wrapStatus(api.arrangeTopics({ documentGuid, topicGuids }))\r\n  }\r\n\r\n  // DELETE\r\n\r\n  deleteChapter(documentGuid, chapterGuid) {\r\n    return this.wrapStatus(api.deleteChapter({ documentGuid, chapterGuid }))\r\n  }\r\n\r\n  deletePlan(documentGuid, planGuid) {\r\n    return this.wrapStatus(api.deletePlan({ documentGuid, planGuid }))\r\n  }\r\n\r\n  deleteSection(documentGuid, planGuid, sectionGuid) {\r\n    return this.wrapStatus(api.deleteSection({ documentGuid, planGuid, sectionGuid }))\r\n  }\r\n\r\n  deleteTopic(documentGuid, topicGuid) {\r\n    return this.wrapStatus(api.deleteTopic({ documentGuid, topicGuid }))\r\n  }\r\n\r\n  deleteWorkshop(documentGuid, workshopGuid) {\r\n    return this.wrapStatus(api.deleteWorkshopContent({ documentGuid, guid: workshopGuid }))\r\n  }\r\n\r\n  // GET\r\n\r\n  getAllChapters(documentGuid) {\r\n    return this.updateStorageAfter(api.getChapters(documentGuid))\r\n  }\r\n\r\n  getAllPlans(documentGuid) {\r\n    return this.updateStorageAfter(api.getPlans(documentGuid))\r\n  }\r\n\r\n  getAllTopics(documentGuid) {\r\n    return this.updateStorageAfter(api.getTopics(documentGuid))\r\n  }\r\n\r\n  getAllWorkshops(documentGuid) {\r\n    return this.updateStorageAfter(api.getWorkshops(documentGuid))\r\n  }\r\n\r\n  // UPDATE\r\n\r\n  updateChapter(documentGuid, chapterGuid, chapter) {\r\n    return this.wrapStatus(api.updateChapter({ documentGuid, chapterGuid, chapter }))\r\n  }\r\n\r\n  updatePlan(documentGuid, planGuid, plan) {\r\n    return this.wrapStatus(api.updatePlan({ documentGuid, planGuid, plan }))\r\n  }\r\n\r\n  updateSection(documentGuid, planGuid, sectionGuid, section) {\r\n    return this.wrapStatus(api.updateSection({\r\n      documentGuid, planGuid, sectionGuid, section,\r\n    }))\r\n  }\r\n\r\n  updateTopic(documentGuid, topicGuid, topic) {\r\n    return this.wrapStatus(api.updateTopic({ documentGuid, topicGuid, topic }))\r\n  }\r\n\r\n  updateWorkshops(documentGuid, workshops) {\r\n    return this.wrapStatus(api.updateWorkshopContents({ documentGuid, workshops }))\r\n  }\r\n\r\n  saveAllContent(documentGuid, { chapters, plans, topics }) {\r\n    return this.waitUntilDone().then(() => this.wrapStatus(api.saveAllContent({\r\n      documentGuid, chapters, plans, topics,\r\n    })))\r\n  }\r\n\r\n  // EXPORT/IMPORT\r\n\r\n  docExport(documentGuid) {\r\n    return api.docExport(documentGuid)\r\n  }\r\n\r\n  docImport(doc) {\r\n    return api.docImport(doc)\r\n  }\r\n\r\n  fullExport() {\r\n    return api.fullExport().then(data => JSON.stringify(data))\r\n  }\r\n\r\n  fullImport(json) {\r\n    const data = JSON.parse(json)\r\n    return api.fullImport(data)\r\n  }\r\n\r\n  exportToWord({ guid, title, includeArchived }) {\r\n    return api.exportToWord({ guid, title, includeArchived })\r\n  }\r\n}\r\n\r\nexport default ServerStorageApi\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=0&id=3e9b1370&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdleWatcher.vue?vue&type=style&index=0&id=46cd5d12&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=af5e5f44&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=af5e5f44&scoped=true&lang=css&\"","const createWorkshop = function (name, displayName, description, route, available) {\r\n  return { name: name, displayName: displayName, description: description, route: route, available: available }\r\n}\r\n\r\nconst workshops = {\r\n  FREE_WRITE: createWorkshop('FREE_WRITE', 'Free Writing',\r\n    'Warm up with a brief writing session. No prompts, no rules. Limit by time or word count.',\r\n    '/workshop/free-write', true),\r\n  NOVEL_QUICKSTART: createWorkshop('NOVEL_QUICKSTART', 'Novel Quickstart',\r\n    'Answer a few basic prompts to get ideas flowing for your novel.',\r\n    '/workshop/novel-quickstart', true),\r\n  WRITERS_UNBLOCK: createWorkshop('WRITERS_UNBLOCK', 'Writer\\'s Unblock',\r\n    'Got writer\\'s block? Get moving again by doing a word incorporation exercise.',\r\n    '/workshop/unblock', true),\r\n  PLOT_WORKSHOP: createWorkshop('PLOT_WORKSHOP', 'Plot & Character Workshop',\r\n    'Figure out what happens next and develop your characters by responding to curated prompts.',\r\n    '/workshop/plot', true),\r\n  SETTING_WORKSHOP: createWorkshop('SETTING_WORKSHOP', 'Setting Workshop',\r\n    'Build a stronger sense of place by exploring the setting of your novel.',\r\n    '/workshop/setting', true)\r\n}\r\n\r\nexport default workshops\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMagnifier.vue?vue&type=style&index=0&id=1417fd9c&scoped=true&lang=css&\"","// Complete an array of promises in order, each one waiting for the previous one to resolve\r\nfunction orderPromises(promiseFns) {\r\n  if (!Array.isArray(promiseFns) || (promiseFns.length && typeof promiseFns[0] !== 'function')) {\r\n    throw new TypeError(`orderPromises expects an array of functions. Received: ${JSON.stringify(promiseFns)}`)\r\n  }\r\n\r\n  if (!promiseFns.length) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  const promise = promiseFns[0]()\r\n\r\n  if (!promise.then) {\r\n    throw new TypeError(`A function in the array passed to orderPromises did not return a promise. Returned: ${JSON.stringify(promise)}`)\r\n  }\r\n\r\n  return promise.then(() => orderPromises(promiseFns.slice(1)))\r\n}\r\n\r\n// getNewLine, getNewSegment, getStyles, getStyledArrayFromChapters:\r\n// From an array of Edward chapters, produce an array of Line objects.\r\n// Line { text: string | Segment[], style: string | string[], pageBreak: undefined | 'before' }\r\n// Segment { text: string, style: string[] }\r\n// Line style strings: h1|h2|h3|blockquote|ul|ol|chapterHeading\r\n// Segment style strings: bold|italic|underline|strike\r\n\r\nfunction getNewLine() {\r\n  return {\r\n    text: [],\r\n    style: [],\r\n  }\r\n}\r\n\r\nfunction getNewSegment(text, style) {\r\n  return {\r\n    text: text || '',\r\n    style: style || [],\r\n  }\r\n}\r\n\r\nconst listMap = {\r\n  bullet: 'ul',\r\n  ordered: 'ol',\r\n}\r\nfunction getStyles(attributes) {\r\n  const styles = []\r\n  const lineStyles = []\r\n\r\n  if (!attributes) {\r\n    return { styles, lineStyles }\r\n  }\r\n\r\n  for (const attr in attributes) {\r\n    if (['bold', 'italic', 'underline', 'strike'].includes(attr)) {\r\n      styles.push(attr)\r\n      continue\r\n    }\r\n\r\n    if (attr === 'header') {\r\n      lineStyles.push(`h${attributes[attr]}`)\r\n      continue\r\n    }\r\n\r\n    if (attr === 'blockquote') {\r\n      lineStyles.push('blockquote')\r\n      continue\r\n    }\r\n\r\n    if (attr === 'list') {\r\n      lineStyles.push(listMap[attributes[attr]])\r\n      continue\r\n    }\r\n  }\r\n\r\n  return { styles, lineStyles }\r\n}\r\n\r\nfunction getStyledArrayFromChapters(chapters) {\r\n  const splitContent = []\r\n\r\n  for (const chapter of chapters) {\r\n    splitContent.push({\r\n      text: chapter.title,\r\n      style: 'chapterHeading',\r\n      pageBreak: 'before',\r\n    })\r\n\r\n    let currentLine = getNewLine()\r\n    const ops = (chapter.content && chapter.content.ops) || []\r\n    for (const op of ops) {\r\n      const insert = op.insert\r\n      const { styles, lineStyles } = getStyles(op.attributes)\r\n\r\n      if (lineStyles.length) {\r\n        currentLine.style.push(...lineStyles)\r\n      }\r\n\r\n      if (insert === '\\n') {\r\n        splitContent.push(currentLine)\r\n        currentLine = getNewLine()\r\n        continue\r\n      }\r\n\r\n      if (insert.includes('\\n')) {\r\n        const [first, ...lines] = insert.split('\\n')\r\n        if (first) {\r\n          const segment = getNewSegment(first, styles)\r\n          currentLine.text.push(segment)\r\n        }\r\n\r\n        splitContent.push(currentLine)\r\n        currentLine = getNewLine()\r\n\r\n        for (let ix = 0; ix < lines.length - 1; ix++) {\r\n          const line = lines[ix]\r\n          const segment = getNewSegment(line, styles)\r\n          currentLine.text.push(segment)\r\n\r\n          splitContent.push(currentLine)\r\n          currentLine = getNewLine()\r\n        }\r\n\r\n        const last = lines[lines.length - 1]\r\n        const segment = getNewSegment(last, styles)\r\n        currentLine.text.push(segment)\r\n\r\n        continue\r\n      }\r\n\r\n      const segment = getNewSegment(insert, styles)\r\n      currentLine.text.push(segment)\r\n    }\r\n  }\r\n\r\n  return splitContent\r\n}\r\n\r\nexport {\r\n  orderPromises,\r\n  getStyledArrayFromChapters\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textMap.vue?vue&type=style&index=0&id=2cff7cef&scoped=true&lang=css&\"","import TrimEnd from 'lodash/trimEnd'\r\nimport TrimStart from 'lodash/trimStart'\r\n\r\nimport DeltaToHtmlConverter from 'quill-delta-to-html'\r\n\r\nexport const GetContentString = (delta) => {\r\n  if (!delta || !delta.ops) {\r\n    return ''\r\n  }\r\n\r\n  const inserts = delta.ops.map(op => op.insert || '')\r\n  const joined = inserts.join('')\r\n  return joined.trim().length ? joined : ''\r\n}\r\n\r\nconst wordStartRe = /^[a-zA-Z0-9'\\-_@&]/\r\nconst wordContentRe = /[a-zA-Z0-9]+/\r\nexport const GetWordArray = (delta) => {\r\n  const content = GetContentString(delta)\r\n  const tokens = content.split(/\\s/g)\r\n  return tokens.map((token) => {\r\n    token = TrimEnd(token, '.,;:?!\"\\'`')\r\n    token = TrimStart(token, '\"\\'`')\r\n    return token\r\n  }).filter(token =>\r\n    wordStartRe.test(token) && wordContentRe.test(token))\r\n}\r\nexport const GetHtml = (delta) => {\r\n  if (!delta || !delta.ops) {\r\n    return ''\r\n  }\r\n\r\n  const converter = new DeltaToHtmlConverter(delta.ops, {})\r\n  return converter.convert()\r\n}\r\n\r\n// Inspired by Tim Down\r\n// https://stackoverflow.com/a/3410557/4347245\r\nexport const GetIndicesOf = (search, str) => {\r\n  const fullString = str.toLowerCase()\r\n  const searchString = search.toLowerCase()\r\n\r\n  const searchStringLength = searchString.length\r\n  if (searchStringLength === 0 || !fullString.trim()) {\r\n    return []\r\n  }\r\n\r\n  const indices = []\r\n  let startIndex = 0\r\n  let index = fullString.indexOf(searchString, startIndex)\r\n  while (index > -1) {\r\n    indices.push(index)\r\n    startIndex = index + searchStringLength\r\n    index = fullString.indexOf(searchString, startIndex)\r\n  }\r\n\r\n  return indices\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wordDefine.vue?vue&type=style&index=0&id=8eeb2360&scoped=true&lang=css&\"","const cacheKeysStorage = '_all-cache-keys'\r\nconst allCacheKeys = JSON.parse(window.localStorage.getItem(cacheKeysStorage)) || []\r\n\r\nexport const UNRESETTABLE = 'UNRESETTABLE'\r\n\r\nexport function resetCache() {\r\n  for (const key of allCacheKeys) {\r\n    window.localStorage.removeItem(key)\r\n  }\r\n  allCacheKeys.splice(0, allCacheKeys.length)\r\n  window.localStorage.setItem(cacheKeysStorage, JSON.stringify([]))\r\n}\r\n\r\nclass Cache {\r\n  constructor(key) {\r\n    this.key = key\r\n    if (!key.includes(UNRESETTABLE)) {\r\n      allCacheKeys.push(key)\r\n    }\r\n    window.localStorage.setItem(cacheKeysStorage, JSON.stringify(allCacheKeys))\r\n  }\r\n\r\n  cacheDelete() {\r\n    window.localStorage.removeItem(this.key)\r\n  }\r\n\r\n  cacheGet() {\r\n    return JSON.parse(window.localStorage.getItem(this.key))\r\n  }\r\n\r\n  cacheSet(val) {\r\n    window.localStorage.setItem(this.key, JSON.stringify(val))\r\n  }\r\n}\r\n\r\nexport default Cache\r\n","import difference from 'lodash/difference'\r\nimport VersionResolver from './versionResolver'\r\n\r\n// These two commands will be used together\r\nexport const NUKE_CONTENT = 'NUKE_CONTENT'\r\nexport const LOAD_CONTENT = 'LOAD_CONTENT'\r\n\r\n// PLANS have SECTIONS\r\n// CHAPTERS have TOPICS (chapterTopics)\r\n// DOCUMENTS have TOPICS (masterTopics)\r\n// Each masterTopic has a corresponding chapterTopic in each chapter\r\n\r\nexport const ADD_PLAN = 'ADD_PLAN'\r\nexport const ARCHIVE_PLAN = 'ARCHIVE_PLAN'\r\nexport const DELETE_PLAN = 'DELETE_PLAN'\r\nexport const REARRANGE_PLANS = 'REARRANGE_PLANS'\r\nexport const RESTORE_PLAN = 'RESTORE_PLAN'\r\nexport const UPDATE_PLAN = 'UPDATE_PLAN'\r\n\r\nexport const ADD_SECTION = 'ADD_SECTION'\r\nexport const ARCHIVE_SECTION = 'ARCHIVE_SECTION'\r\nexport const DELETE_SECTION = 'DELETE_SECTION'\r\nexport const REARRANGE_SECTIONS = 'REARRANGE_SECTIONS'\r\nexport const RESTORE_SECTION = 'RESTORE_SECTION'\r\nexport const UPDATE_SECTION = 'UPDATE_SECTION'\r\nexport const UPDATE_SECTION_CONTENT = 'UPDATE_SECTION_CONTENT'\r\nexport const UPDATE_SECTION_TAGS = 'UPDATE_SECTION_TAGS'\r\n\r\nexport const ADD_CHAPTER = 'ADD_CHAPTER'\r\nexport const ADD_TOPIC_TO_CHAPTER = 'ADD_TOPIC_TO_CHAPTER'\r\nexport const ARCHIVE_CHAPTER = 'ARCHIVE_CHAPTER'\r\nexport const DELETE_CHAPTER = 'DELETE_CHAPTER'\r\nexport const REARRANGE_CHAPTERS = 'REARRANGE_CHAPTERS'\r\nexport const RESTORE_CHAPTER = 'RESTORE_CHAPTER'\r\nexport const UPDATE_CHAPTER = 'UPDATE_CHAPTER'\r\nexport const UPDATE_CHAPTER_CONTENT = 'UPDATE_CHAPTER_CONTENT'\r\n\r\nexport const ADD_TOPIC = 'ADD_TOPIC'\r\nexport const ARCHIVE_TOPIC = 'ARCHIVE_TOPIC'\r\nexport const DELETE_TOPIC = 'DELETE_TOPIC'\r\nexport const REARRANGE_TOPICS = 'REARRANGE_TOPICS'\r\nexport const RESTORE_TOPIC = 'RESTORE_TOPIC'\r\nexport const UPDATE_TOPIC = 'UPDATE_TOPIC'\r\nexport const UPDATE_TOPIC_CONTENT = 'UPDATE_TOPIC_CONTENT'\r\n\r\nconst store = {\r\n  state: {\r\n    // plan [{ archived bool false, guid Guid, title string, sections [section] }]\r\n    // section { archived bool false, content Delta null, guid Guid, tags [string], title string }\r\n    plans: [],\r\n    // chapters [{ archived bool false, content Delta null, guid Guid, title string, topics topicDict {} }]\r\n    // topicDict { [guid]: chapterTopic }\r\n    // chapterTopic { content Delta null, guid Guid }\r\n    chapters: [],\r\n    // topic [{ archived bool false, guid Guid, title string }]\r\n    topics: [],\r\n  },\r\n  mutations: {\r\n    // CONTENT\r\n    [NUKE_CONTENT](state) {\r\n      state.plans = []\r\n      state.chapters = []\r\n      state.topics = []\r\n    },\r\n    [LOAD_CONTENT](state, { plans, chapters, topics }) {\r\n      state.plans = plans\r\n      state.chapters = chapters\r\n      state.topics = topics\r\n    },\r\n    // PLANS\r\n    [ADD_PLAN](state, { plan }) {\r\n      VersionResolver.timestamp(plan)\r\n      state.plans.push(plan)\r\n    },\r\n    [ARCHIVE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ARCHIVE_PLAN: Cannot archive plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.archived = true\r\n    },\r\n    [DELETE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`DELETE_PLAN: Cannot delete plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      state.plans.splice(state.plans.indexOf(plan), 1)\r\n    },\r\n    [REARRANGE_PLANS](state, { plans }) {\r\n      if (!containSameElements(state.plans, plans)) {\r\n        throw new Error('REARRANGE_PLANS: Cannot rearrange plans: an invalid plan array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(plans)\r\n      state.plans = plans\r\n    },\r\n    [RESTORE_PLAN](state, { plan }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`RESTORE_PLAN: Cannot restore plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.archived = false\r\n    },\r\n    [UPDATE_PLAN](state, { plan, newTitle }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_PLAN: Cannot update plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      plan.title = newTitle\r\n    },\r\n    // SECTIONS\r\n    [ADD_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ADD_SECTION: Cannot mutate plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      plan.sections.push(section)\r\n    },\r\n    [ARCHIVE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`ARCHIVE_SECTION: Cannot archive section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`ARCHIVE_SECTION: Cannot archive section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.archived = true\r\n    },\r\n    [DELETE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`DELETE_SECTION: Cannot delete section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`DELETE_SECTION: Cannot delete section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      plan.sections.splice(plan.sections.indexOf(section), 1)\r\n    },\r\n    [REARRANGE_SECTIONS](state, { plan, sections }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`REARRANGE_SECTIONS: Cannot rearrange sections of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!containSameElements(plan.sections, sections)) {\r\n        throw new Error('REARRANGE_SECTIONS: Cannot rearrange sections: an invalid section array was received.')\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestampEach(sections)\r\n      plan.sections = sections\r\n    },\r\n    [RESTORE_SECTION](state, { plan, section }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`RESTORE_SECTION: Cannot restore section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`RESTORE_SECTION: Cannot restore section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.archived = false\r\n    },\r\n    [UPDATE_SECTION](state, { plan, section, newTitle }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.title = newTitle\r\n    },\r\n    [UPDATE_SECTION_CONTENT](state, { plan, section, newContent }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION_CONTENT: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION_CONTENT: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.content = newContent\r\n    },\r\n    [UPDATE_SECTION_TAGS](state, { plan, section, newTags }) {\r\n      if (!state.plans.includes(plan)) {\r\n        throw new Error(`UPDATE_SECTION_TAGS: Cannot update section of plan \"${plan.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!plan.sections.includes(section)) {\r\n        throw new Error(`UPDATE_SECTION_TAGS: Cannot update section \"${section.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(plan)\r\n      VersionResolver.timestamp(section)\r\n      section.tags = newTags\r\n    },\r\n    // CHAPTERS\r\n    [ADD_CHAPTER](state, { chapter }) {\r\n      VersionResolver.timestamp(chapter)\r\n      state.chapters.push(chapter)\r\n    },\r\n    [ADD_TOPIC_TO_CHAPTER](state, { chapter, topic }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`ADD_TOPIC_TO_CHAPTER: Cannot mutate chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`ADD_TOPIC_TO_CHAPTER: Cannot include topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.topics[topic.guid] = {\r\n        content: null,\r\n        guid: topic.guid,\r\n      }\r\n    },\r\n    [ARCHIVE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`ARCHIVE_CHAPTER: Cannot archive chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.archived = true\r\n    },\r\n    [DELETE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`DELETE_CHAPTER: Cannot delete chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      state.chapters.splice(state.chapters.indexOf(chapter), 1)\r\n    },\r\n    [REARRANGE_CHAPTERS](state, { chapters }) {\r\n      if (!containSameElements(state.chapters, chapters)) {\r\n        throw new Error('REARRANGE_CHAPTERS: Cannot rearrange chapters: an invalid chapter array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(chapters)\r\n      state.chapters = chapters\r\n    },\r\n    [RESTORE_CHAPTER](state, { chapter }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`RESTORE_CHAPTER: Cannot restore chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.archived = false\r\n    },\r\n    [UPDATE_CHAPTER](state, { chapter, newTitle }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_CHAPTER: Cannot update chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.title = newTitle\r\n    },\r\n    [UPDATE_CHAPTER_CONTENT](state, { chapter, newContent }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_CHAPTER_CONTENT: Cannot update content of chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(chapter)\r\n      chapter.content = newContent\r\n    },\r\n    // TOPICS\r\n    [ADD_TOPIC](state, { topic }) {\r\n      VersionResolver.timestamp(topic)\r\n      state.topics.push(topic)\r\n    },\r\n    [ARCHIVE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`ARCHIVE_TOPIC: Cannot archive topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.archived = true\r\n    },\r\n    [DELETE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`DELETE_TOPIC: Cannot archive topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      state.topics.splice(state.topics.indexOf(topic), 1)\r\n\r\n      state.chapters = state.chapters.map((chapter) => {\r\n        if (chapter.topics[topic.guid]) {\r\n          delete chapter.topics[topic.guid]\r\n        }\r\n\r\n        return chapter\r\n      })\r\n    },\r\n    [REARRANGE_TOPICS](state, { topics }) {\r\n      if (!containSameElements(state.topics, topics)) {\r\n        throw new Error('REARRANGE_TOPICS: Cannot rearrange topics: an invalid topic array was received.')\r\n      }\r\n\r\n      VersionResolver.timestampEach(topics)\r\n      state.topics = topics\r\n    },\r\n    [RESTORE_TOPIC](state, { topic }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`RESTORE_TOPIC: Cannot restore topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.archived = false\r\n    },\r\n    [UPDATE_TOPIC](state, { topic, newTitle }) {\r\n      if (!state.topics.includes(topic)) {\r\n        throw new Error(`UPDATE_TOPIC: Cannot update topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.title = newTitle\r\n    },\r\n    [UPDATE_TOPIC_CONTENT](state, { chapter, topic, newContent }) {\r\n      if (!state.chapters.includes(chapter)) {\r\n        throw new Error(`UPDATE_TOPIC_CONTENT: Cannot update topic content for chapter \"${chapter.title}\": does not exist.`)\r\n      }\r\n\r\n      if (!state.topics.find(masterTopic => masterTopic.guid === topic.guid)) {\r\n        throw new Error(`UPDATE_TOPIC_CONTENT: Cannot update content of topic \"${topic.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(topic)\r\n      topic.content = newContent\r\n    },\r\n  },\r\n}\r\n\r\nfunction containSameElements(arr1, arr2) {\r\n  if (!Array.isArray(arr1) || !Array.isArray(arr2)) {\r\n    return false\r\n  }\r\n\r\n  if (arr1.length !== arr2.length) {\r\n    return false\r\n  }\r\n\r\n  const diff = [...difference(arr1, arr2), ...difference(arr2, arr1)]\r\n\r\n  return diff.length === 0\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentEdit.page.vue?vue&type=style&index=0&id=fcb1d9b4&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=1&lang=css&\"","export const SET_STATUS_DONE = 'SET_STATUS_DONE'\r\nexport const SET_STATUS_ERROR = 'SET_STATUS_ERROR'\r\nexport const SET_STATUS_OFFLINE = 'SET_STATUS_OFFLINE'\r\nexport const SET_STATUS_SAVING = 'SET_STATUS_SAVING'\r\n\r\nexport const Statuses = {\r\n  SAVED: 'SAVED',\r\n  SAVING: 'SAVING',\r\n  ERROR: 'ERROR',\r\n  OFFLINE: 'OFFLINE',\r\n}\r\n\r\nconst store = {\r\n  state: {\r\n    status: Statuses.SAVED,\r\n  },\r\n  mutations: {\r\n    [SET_STATUS_DONE](state) {\r\n      state.status = Statuses.SAVED\r\n    },\r\n    [SET_STATUS_ERROR](state) {\r\n      state.status = Statuses.ERROR\r\n    },\r\n    [SET_STATUS_OFFLINE](state) {\r\n      state.status = Statuses.OFFLINE\r\n    },\r\n    [SET_STATUS_SAVING](state) {\r\n      if (state.status !== Statuses.OFFLINE) {\r\n        state.status = Statuses.SAVING\r\n      }\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./composer.page.vue?vue&type=style&index=0&id=2105d8d6&scoped=true&lang=css&\"","import Cache, { resetCache } from './cache'\r\nimport { storageApiPromise } from '../api/storageSwitch'\r\nimport guid from './guid'\r\nimport { LOAD_CONTENT, NUKE_CONTENT } from './chapters.store'\r\nimport { LOAD_WORKSHOPS, NUKE_WORKSHOPS } from './workshops.store'\r\n\r\nexport const ADD_DOCUMENT = 'ADD_DOCUMENT'\r\nexport const CHANGE_DOCUMENT = 'CHANGE_DOCUMENT'\r\nexport const DELETE_DOCUMENT = 'DELETE_DOCUMENT'\r\nexport const INIT_DOCUMENTS = 'INIT_DOCUMENTS'\r\nexport const REMOVE_OWNED_DOCUMENT = 'REMOVE_OWNED_DOCUMENT'\r\nexport const SET_UP_DOCUMENT = 'SET_UP_DOCUMENT'\r\nexport const UNLOAD_CURRENT_DOCUMENT = 'UNLOAD_CURRENT_DOCUMENT'\r\nexport const UPDATE_DOCUMENT_NAME = 'UPDATE_DOCUMENT_NAME'\r\n\r\nconst LOAD_DOCUMENTS = 'LOAD_DOCUMENTS'\r\nconst UPDATE_DOCUMENT_METADATA = 'UPDATE_DOCUMENT_METADATA'\r\n\r\n// Cache the document currently in progress\r\nconst cache = new Cache('CURRENT_DOCUMENT')\r\n\r\nconst store = {\r\n  state: {\r\n    currentDocument: null, // document { guid String, name String }\r\n    ownedDocuments: [], // document[]\r\n  },\r\n  actions: {\r\n    [CHANGE_DOCUMENT]({ commit, dispatch }, { guid, name, shouldReset }) {\r\n      return dispatch(UNLOAD_CURRENT_DOCUMENT, { shouldReset }).then(() => storageApiPromise().then((storage) => {\r\n        // Get the new document from storage\r\n        const promises = [\r\n          storage.getAllChapters(guid),\r\n          storage.getAllPlans(guid),\r\n          storage.getAllTopics(guid),\r\n          storage.isPremium() ? storage.getAllWorkshops(guid) : Promise.resolve(false),\r\n        ]\r\n\r\n        return Promise.all(promises).then(([chapters, plans, topics, workshops]) => {\r\n          commit(LOAD_CONTENT, { plans, chapters, topics })\r\n\r\n          if (workshops) {\r\n            commit(LOAD_WORKSHOPS, { workshops })\r\n          }\r\n\r\n          commit(UPDATE_DOCUMENT_METADATA, { guid, name })\r\n          cache.cacheSet({ guid, name })\r\n        }, (err) => {\r\n          throw err\r\n        })\r\n      }))\r\n    },\r\n    [DELETE_DOCUMENT]({ commit, dispatch }, { guid }) {\r\n      dispatch(UNLOAD_CURRENT_DOCUMENT).then(() => {\r\n        commit(REMOVE_OWNED_DOCUMENT, { guid })\r\n      })\r\n    },\r\n    [INIT_DOCUMENTS]({ commit, dispatch, state }) {\r\n      return storageApiPromise().then(storage => storage.getAllDocuments().then((documents) => {\r\n        commit(LOAD_DOCUMENTS, documents)\r\n        const currentDocument = cache.cacheGet()\r\n\r\n        if (!currentDocument || !state.ownedDocuments.some(document => document.guid === currentDocument.guid)) {\r\n          return\r\n        }\r\n\r\n        return dispatch(CHANGE_DOCUMENT, { ...currentDocument, shouldReset: false })\r\n      }), console.error)\r\n    },\r\n    [SET_UP_DOCUMENT]({ dispatch, state }, { document, type }) {\r\n      const plans = type.plans.map(title => ({\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n        sections: [{\r\n          archived: false,\r\n          content: null,\r\n          guid: guid(),\r\n          tags: [],\r\n          title,\r\n        }],\r\n      }))\r\n\r\n      const chapters = type.chapters.map(title => ({\r\n        archived: false,\r\n        content: null,\r\n        guid: guid(),\r\n        title,\r\n        topics: {},\r\n      }))\r\n\r\n      const topics = type.topics.map(title => ({\r\n        archived: false,\r\n        guid: guid(),\r\n        title,\r\n      }))\r\n\r\n      return storageApiPromise().then(storage => Promise.resolve(storage.addDocument(document)).then(() => storage)).then(storage => storage.saveAllContent(document.guid, { chapters, plans, topics }))\r\n      // Don't use the ADD_DOCUMENT mutation here or it will try to add the document to storage again\r\n        .then(() => state.ownedDocuments.push(document))\r\n        .then(() => dispatch(CHANGE_DOCUMENT, document))\r\n    },\r\n    [UNLOAD_CURRENT_DOCUMENT]({ commit }, { shouldReset } = { shouldReset: false }) {\r\n      return new Promise((resolve) => {\r\n        if (shouldReset) {\r\n          resetCache()\r\n        }\r\n        commit(UPDATE_DOCUMENT_METADATA, { guid: null, name: null })\r\n        commit(NUKE_CONTENT)\r\n        commit(NUKE_WORKSHOPS)\r\n        resolve()\r\n      })\r\n    },\r\n  },\r\n  mutations: {\r\n    [ADD_DOCUMENT](state, { guid, name }) {\r\n      state.ownedDocuments.push({ guid, name })\r\n    },\r\n    [LOAD_DOCUMENTS](state, documents) {\r\n      state.ownedDocuments = documents\r\n    },\r\n    [REMOVE_OWNED_DOCUMENT](state, { guid }) {\r\n      let documentIndex\r\n      state.ownedDocuments.some((document, index) => {\r\n        if (document.guid === guid) {\r\n          documentIndex = index\r\n          return true\r\n        }\r\n      })\r\n      state.ownedDocuments.splice(documentIndex, 1)\r\n    },\r\n    [UPDATE_DOCUMENT_METADATA](state, { guid, name }) {\r\n      state.currentDocument = { guid, name }\r\n    },\r\n    [UPDATE_DOCUMENT_NAME](state, { guid, name }) {\r\n      state.currentDocument.name = name\r\n      cache.cacheSet({ guid, name })\r\n\r\n      state.ownedDocuments.some((document) => {\r\n        if (document.guid === guid) {\r\n          document.name = name\r\n          return true\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./topicList.vue?vue&type=style&index=0&id=109018ef&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chipsList.vue?vue&type=style&index=0&id=454a4b13&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/modal-logo@2x.a7ee511e.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=style&index=0&id=7fe01412&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./statusSignal.vue?vue&type=style&index=0&id=7fe01412&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outliner.page.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=0&id=e5f9dd86&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainMenu.vue?vue&type=style&index=0&id=e5f9dd86&scoped=true&lang=css&\"","import uuid from 'uuid/v1'\r\n\r\nconst guid = () => uuid()\r\n\r\nexport default guid\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.page.vue?vue&type=style&index=0&id=10533e1c&scoped=true&lang=css&\"","import axiosBase from 'axios'\r\n\r\nconst axios = axiosBase.create({\r\n  headers: {\r\n    Pragma: 'no-cache',\r\n    'Cache-Control': 'no-store',\r\n  },\r\n})\r\n\r\nconst route = route => `/api/${route}`\r\n\r\nclass Api {\r\n  constructor () {\r\n    this.isOnlineCached = null\r\n  }\r\n\r\n  isOnline() {\r\n    const promise = this.simpleGet(route('online'))\r\n    promise.then(() => {\r\n      this.isOnlineCached = true\r\n    }, err => {\r\n      if (err.response && err.response.status === 401) {\r\n        setTimeout(() => window.location.reload(), 2000)\r\n      }\r\n      this.isOnlineCached = false\r\n    })\r\n    return promise\r\n  }\r\n\r\n  simpleGet(route) {\r\n    return axios.get(route).then(response => response.data)\r\n  }\r\n\r\n  simplePost(route, body) {\r\n    return axios.post(route, body).then(response => response.data)\r\n  }\r\n\r\n  saveAllContent(data) { return this.simplePost(route('document/saveAll'), data) }\r\n\r\n  // DOCUMENTS\r\n  addDocument(doc) { return this.simplePost(route('document/add'), doc) }\r\n  deleteDocument(doc) { return this.simplePost(route('document/delete'), doc) }\r\n  getDocuments() {\r\n    return this.simpleGet(route('documents')).then(documents => documents.map(doc => doc))\r\n  }\r\n  updateDocument(doc) { return this.simplePost(route('document/update'), doc) }\r\n\r\n  // CHAPTERS\r\n  arrangeChapters(data) { return this.simplePost(route('chapter/arrange'), data) }\r\n  deleteChapter(data) { return this.simplePost(route('chapter/delete'), data) }\r\n  getChapters(documentGuid) { return this.simpleGet(route(`chapters/${documentGuid}`)) }\r\n  updateChapter(data) { return this.simplePost(route('chapter/update'), data) }\r\n\r\n  // TOPICS\r\n  arrangeTopics(data) { return this.simplePost(route('topic/arrange'), data) }\r\n  deleteTopic(data) { return this.simplePost(route('topic/delete'), data) }\r\n  // This returns MasterTopics; ChapterTopics are returned with their associated chapters\r\n  getTopics(documentGuid) { return this.simpleGet(route(`topics/${documentGuid}`)) }\r\n  updateTopic(data) { return this.simplePost(route('topic/update'), data) }\r\n\r\n  // PLANS\r\n  arrangePlans(data) { return this.simplePost(route('plan/arrange'), data) }\r\n  deletePlan(data) { return this.simplePost(route('plan/delete'), data) }\r\n  getPlans(documentGuid) { return this.simpleGet(route(`plans/${documentGuid}`)) }\r\n  updatePlan(data) { return this.simplePost(route('plan/update'), data) }\r\n\r\n  // SECTIONS\r\n  arrangeSections(data) { return this.simplePost(route('section/arrange'), data) }\r\n  deleteSection(data) { return this.simplePost(route('section/delete'), data) }\r\n  // No get method; sections are returned with their associated plans\r\n  updateSection(data) { return this.simplePost(route('section/update'), data) }\r\n\r\n  // WORKSHOPS\r\n  deleteWorkshopContent({ documentGuid, guid }) {\r\n    return this.simplePost(route('workshop-content/delete'), { documentGuid, guid })\r\n  }\r\n  getWorkshops(documentGuid) { return this.simpleGet(route(`workshop-content/${documentGuid}`)) }\r\n  updateWorkshopContents({ documentGuid, workshops }) {\r\n    return this.simplePost(route('workshop-content/update'), { documentGuid, workshops })\r\n  }\r\n\r\n  // EXPORT/IMPORT\r\n  docExport(documentGuid) { return this.simpleGet(route(`backup/export/document/${documentGuid}`)) }\r\n  docImport({\r\n    guid, name, chapters, topics, plans, workshops,\r\n  }) {\r\n    return this.simplePost(route('backup/import/document'), {\r\n      guid, name, chapters, topics, plans, workshops,\r\n    })\r\n  }\r\n  fullExport() { return this.simpleGet(route('backup/export')) }\r\n  fullImport(data) { return this.simplePost(route('backup/import'), data) }\r\n  exportToWord({ guid, title, includeArchived }) {\r\n    return new Promise((resolve) => {\r\n      window.open(route(`word/export-chapters?guid=${guid}&title=${title}&includeArchived=${!!includeArchived}`), '_blank')\r\n      resolve()\r\n    })\r\n  }\r\n}\r\n\r\nexport default new Api()\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plansList.vue?vue&type=style&index=0&id=7275fea1&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./offlineStorage.vue?vue&type=style&index=0&id=1739da34&scoped=true&lang=css&\"","import clone from 'lodash/clone'\r\n\r\nclass VersionResolver {\r\n  constructor() {\r\n    this.timestampField = 'updated_at'\r\n  }\r\n\r\n  timestamp(obj) {\r\n    obj[this.timestampField] = Date.now()\r\n  }\r\n\r\n  timestampEach(arr) {\r\n    arr.forEach(obj => this.timestamp(obj))\r\n  }\r\n\r\n  getTimestamp(obj) {\r\n    if (!obj[this.timestampField]) {\r\n      return null\r\n    }\r\n    return new Date(obj[this.timestampField]).getTime()\r\n  }\r\n\r\n  getMostRecent(defaultObj, obj2) {\r\n    const defaultTimestamp = this.getTimestamp(defaultObj)\r\n    const timestamp2 = this.getTimestamp(obj2)\r\n\r\n    if (!!timestamp2 && timestamp2 > defaultTimestamp) {\r\n      return obj2\r\n    }\r\n\r\n    return defaultObj\r\n  }\r\n\r\n  getMostRecentEach(defaultArr, arr2, matchBy, markAsDeleted) {\r\n    const returnList = []\r\n\r\n    for (const index in defaultArr) {\r\n      const obj = clone(defaultArr[index])\r\n      if (!matchBy(obj)) {\r\n        continue\r\n      }\r\n\r\n      returnList.push(obj)\r\n      const arr2match = arr2.find(arrObj => matchBy(arrObj) === matchBy(obj))\r\n\r\n      if (!arr2match) {\r\n        markAsDeleted(obj)\r\n      }\r\n    }\r\n\r\n    for (const index in arr2) {\r\n      const obj = clone(arr2[index])\r\n      if (!matchBy(obj)) {\r\n        continue\r\n      }\r\n\r\n      const defaultMatch = returnList.find(returnObj => matchBy(returnObj) === matchBy(obj))\r\n\r\n      if (!defaultMatch) {\r\n        markAsDeleted(obj)\r\n        returnList.splice(index, 0, obj)\r\n        continue\r\n      }\r\n\r\n      const replacement = this.getMostRecent(defaultMatch, obj)\r\n      if (replacement === defaultMatch) {\r\n        continue\r\n      }\r\n\r\n      returnList.splice(returnList.indexOf(defaultMatch), 1, replacement)\r\n    }\r\n\r\n    return returnList\r\n  }\r\n}\r\n\r\nexport default new VersionResolver()\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=0&id=47f1beb8&scoped=true&lang=css&\"","import VersionResolver from './versionResolver'\r\n\r\nexport const ADD_WORKSHOP = 'ADD_WORKSHOP'\r\nexport const ARCHIVE_WORKSHOP = 'ARCHIVE_WORKSHOP'\r\nexport const DELETE_WORKSHOP = 'DELETE_WORKSHOP'\r\nexport const RESTORE_WORKSHOP = 'RESTORE_WORKSHOP'\r\nexport const UPDATE_WORKSHOPS_CONTENT = 'UPDATE_WORKSHOPS_CONTENT'\r\n\r\nexport const LOAD_WORKSHOPS = 'LOAD_WORKSHOPS'\r\nexport const NUKE_WORKSHOPS = 'NUKE_WORKSHOPS'\r\n\r\nconst store = {\r\n  state: {\r\n    // workshop [{ archived bool false, guid Guid, title string, order number, workshopName string, content Delta null, date Date }]\r\n    workshops: [],\r\n  },\r\n  mutations: {\r\n    // Standard workshop mutations\r\n    [ADD_WORKSHOP](state, { workshop }) {\r\n      VersionResolver.timestamp(workshop)\r\n      state.workshops.push(workshop)\r\n    },\r\n    [ARCHIVE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${ARCHIVE_WORKSHOP}: Cannot archive workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      workshop.archived = true\r\n    },\r\n    [DELETE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${DELETE_WORKSHOP}: Cannot delete workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      state.workshops.splice(state.workshops.indexOf(workshop), 1)\r\n    },\r\n    [RESTORE_WORKSHOP](state, { workshop }) {\r\n      if (!state.workshops.includes(workshop)) {\r\n        throw new Error(`${RESTORE_WORKSHOP}: Cannot restore workshop \"${workshop.title}\": does not exist.`)\r\n      }\r\n\r\n      VersionResolver.timestamp(workshop)\r\n      workshop.archived = false\r\n    },\r\n    [UPDATE_WORKSHOPS_CONTENT](state, { workshopUpdates: [...workshopUpdates] }) {\r\n      for (const { workshop, newContent, newTitle } of workshopUpdates) {\r\n        if (!state.workshops.includes(workshop)) {\r\n          throw new Error(`${UPDATE_WORKSHOPS_CONTENT}: Cannot update workshop \"${workshop.title}\": does not exist.`)\r\n        }\r\n\r\n        VersionResolver.timestamp(workshop)\r\n        workshop.content = newContent\r\n\r\n        if (newTitle) {\r\n          workshop.title = newTitle\r\n        }\r\n      }\r\n    },\r\n\r\n    // Overwrite all workshops or the workshop list\r\n    [LOAD_WORKSHOPS](state, { workshops }) {\r\n      if (!Array.isArray(workshops)) {\r\n        throw new Error(`${LOAD_WORKSHOPS}: Cannot load workshops: argument is not an array.`)\r\n      }\r\n\r\n      state.workshops = workshops\r\n    },\r\n    [NUKE_WORKSHOPS](state) {\r\n      state.workshops = []\r\n    },\r\n  },\r\n}\r\n\r\nexport default store\r\n","import tooltip from './tippyBuilder'\r\n\r\nconst directive = {\r\n  bind: (el, { value = {} }) => {\r\n    const {\r\n      content, distance = 10, interactive = false, enabled = true,\r\n    } = value\r\n\r\n    const tippy = tooltip({\r\n      content,\r\n      distance,\r\n      el,\r\n      interactive,\r\n    })\r\n\r\n    if (!tippy) {\r\n      console.warn('Expected a Tippy.js instance to be returned')\r\n      return\r\n    }\r\n\r\n    if (enabled) {\r\n      return\r\n    }\r\n\r\n    tippy.disable()\r\n  },\r\n  update: (el, { value = {} }) => {\r\n    const { enabled = true } = value\r\n\r\n    const tippy = el._tippy\r\n\r\n    if (!tippy) {\r\n      console.warn('Expected a Tippy.js instance on el with v-tooltip')\r\n      return\r\n    }\r\n\r\n    if (enabled) {\r\n      tippy.enable()\r\n    } else {\r\n      tippy.disable()\r\n    }\r\n  },\r\n}\r\n\r\nexport default directive\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentPicker.vue?vue&type=style&index=0&id=6669ec1d&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quillEditor.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workshopList.vue?vue&type=style&index=0&id=41a6efe2&scoped=true&lang=css&\""],"sourceRoot":""}